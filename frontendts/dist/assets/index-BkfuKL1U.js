function K3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ip(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ky={exports:{}},_c={};var ZN;function Q3(){if(ZN)return _c;ZN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:o}}return _c.Fragment=e,_c.jsx=n,_c.jsxs=n,_c}var eC;function G3(){return eC||(eC=1,Ky.exports=Q3()),Ky.exports}var u=G3(),Qy={exports:{}},Ee={};var tC;function W3(){if(tC)return Ee;tC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function j($,X,se){this.props=$,this.context=X,this.refs=N,this.updater=se||v}j.prototype.isReactComponent={},j.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=j.prototype;function E($,X,se){this.props=$,this.context=X,this.refs=N,this.updater=se||v}var _=E.prototype=new A;_.constructor=E,w(_,j.prototype),_.isPureReactComponent=!0;var T=Array.isArray;function O(){}var M={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I($,X,se){var ne=se.ref;return{$$typeof:t,type:$,key:X,ref:ne!==void 0?ne:null,props:se}}function L($,X){return I($.type,X,$.props)}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(se){return X[se]})}var H=/\/+/g;function B($,X){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):X.toString(36)}function K($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(O,O):($.status="pending",$.then(function(X){$.status==="pending"&&($.status="fulfilled",$.value=X)},function(X){$.status==="pending"&&($.status="rejected",$.reason=X)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function z($,X,se,ne,ce){var de=typeof $;(de==="undefined"||de==="boolean")&&($=null);var Z=!1;if($===null)Z=!0;else switch(de){case"bigint":case"string":case"number":Z=!0;break;case"object":switch($.$$typeof){case t:case e:Z=!0;break;case m:return Z=$._init,z(Z($._payload),X,se,ne,ce)}}if(Z)return ce=ce($),Z=ne===""?"."+B($,0):ne,T(ce)?(se="",Z!=null&&(se=Z.replace(H,"$&/")+"/"),z(ce,X,se,"",function(pe){return pe})):ce!=null&&(P(ce)&&(ce=L(ce,se+(ce.key==null||$&&$.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+Z)),X.push(ce)),1;Z=0;var ge=ne===""?".":ne+":";if(T($))for(var fe=0;fe<$.length;fe++)ne=$[fe],de=ge+B(ne,fe),Z+=z(ne,X,se,de,ce);else if(fe=x($),typeof fe=="function")for($=fe.call($),fe=0;!(ne=$.next()).done;)ne=ne.value,de=ge+B(ne,fe++),Z+=z(ne,X,se,de,ce);else if(de==="object"){if(typeof $.then=="function")return z(K($),X,se,ne,ce);throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Z}function Q($,X,se){if($==null)return $;var ne=[],ce=0;return z($,ne,"","",function(de){return X.call(se,de,ce++)}),ne}function F($){if($._status===-1){var X=$._result;X=X(),X.then(function(se){($._status===0||$._status===-1)&&($._status=1,$._result=se)},function(se){($._status===0||$._status===-1)&&($._status=2,$._result=se)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var te=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ue={map:Q,forEach:function($,X,se){Q($,function(){X.apply(this,arguments)},se)},count:function($){var X=0;return Q($,function(){X++}),X},toArray:function($){return Q($,function(X){return X})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ee.Activity=g,Ee.Children=ue,Ee.Component=j,Ee.Fragment=n,Ee.Profiler=s,Ee.PureComponent=E,Ee.StrictMode=r,Ee.Suspense=f,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ee.__COMPILER_RUNTIME={__proto__:null,c:function($){return M.H.useMemoCache($)}},Ee.cache=function($){return function(){return $.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function($,X,se){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=w({},$.props),ce=$.key;if(X!=null)for(de in X.key!==void 0&&(ce=""+X.key),X)!R.call(X,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&X.ref===void 0||(ne[de]=X[de]);var de=arguments.length-2;if(de===1)ne.children=se;else if(1<de){for(var Z=Array(de),ge=0;ge<de;ge++)Z[ge]=arguments[ge+2];ne.children=Z}return I($.type,ce,ne)},Ee.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Ee.createElement=function($,X,se){var ne,ce={},de=null;if(X!=null)for(ne in X.key!==void 0&&(de=""+X.key),X)R.call(X,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=X[ne]);var Z=arguments.length-2;if(Z===1)ce.children=se;else if(1<Z){for(var ge=Array(Z),fe=0;fe<Z;fe++)ge[fe]=arguments[fe+2];ce.children=ge}if($&&$.defaultProps)for(ne in Z=$.defaultProps,Z)ce[ne]===void 0&&(ce[ne]=Z[ne]);return I($,de,ce)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function($){return{$$typeof:c,render:$}},Ee.isValidElement=P,Ee.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:F}},Ee.memo=function($,X){return{$$typeof:h,type:$,compare:X===void 0?null:X}},Ee.startTransition=function($){var X=M.T,se={};M.T=se;try{var ne=$(),ce=M.S;ce!==null&&ce(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(O,te)}catch(de){te(de)}finally{X!==null&&se.types!==null&&(X.types=se.types),M.T=X}},Ee.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ee.use=function($){return M.H.use($)},Ee.useActionState=function($,X,se){return M.H.useActionState($,X,se)},Ee.useCallback=function($,X){return M.H.useCallback($,X)},Ee.useContext=function($){return M.H.useContext($)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function($,X){return M.H.useDeferredValue($,X)},Ee.useEffect=function($,X){return M.H.useEffect($,X)},Ee.useEffectEvent=function($){return M.H.useEffectEvent($)},Ee.useId=function(){return M.H.useId()},Ee.useImperativeHandle=function($,X,se){return M.H.useImperativeHandle($,X,se)},Ee.useInsertionEffect=function($,X){return M.H.useInsertionEffect($,X)},Ee.useLayoutEffect=function($,X){return M.H.useLayoutEffect($,X)},Ee.useMemo=function($,X){return M.H.useMemo($,X)},Ee.useOptimistic=function($,X){return M.H.useOptimistic($,X)},Ee.useReducer=function($,X,se){return M.H.useReducer($,X,se)},Ee.useRef=function($){return M.H.useRef($)},Ee.useState=function($){return M.H.useState($)},Ee.useSyncExternalStore=function($,X,se){return M.H.useSyncExternalStore($,X,se)},Ee.useTransition=function(){return M.H.useTransition()},Ee.version="19.2.0",Ee}var nC;function Sl(){return nC||(nC=1,Qy.exports=W3()),Qy.exports}var C=Sl();const rt=Ip(C),vb=K3({__proto__:null,default:rt},[C]);var Gy={exports:{}},Mc={},Wy={exports:{}},Yy={};var rC;function Y3(){return rC||(rC=1,(function(t){function e(z,Q){var F=z.length;z.push(Q);e:for(;0<F;){var te=F-1>>>1,ue=z[te];if(0<s(ue,Q))z[te]=Q,z[F]=ue,F=te;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],F=z.pop();if(F!==Q){z[0]=F;e:for(var te=0,ue=z.length,$=ue>>>1;te<$;){var X=2*(te+1)-1,se=z[X],ne=X+1,ce=z[ne];if(0>s(se,F))ne<ue&&0>s(ce,se)?(z[te]=ce,z[ne]=F,te=ne):(z[te]=se,z[X]=F,te=X);else if(ne<ue&&0>s(ce,F))z[te]=ce,z[ne]=F,te=ne;else break e}}return Q}function s(z,Q){var F=z.sortIndex-Q.sortIndex;return F!==0?F:z.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,g=null,y=3,x=!1,v=!1,w=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function _(z){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=z)r(h),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(h)}}function T(z){if(w=!1,_(z),!v)if(n(f)!==null)v=!0,O||(O=!0,V());else{var Q=n(h);Q!==null&&K(T,Q.startTime-z)}}var O=!1,M=-1,R=5,I=-1;function L(){return N?!0:!(t.unstable_now()-I<R)}function P(){if(N=!1,O){var z=t.unstable_now();I=z;var Q=!0;try{e:{v=!1,w&&(w=!1,A(M),M=-1),x=!0;var F=y;try{t:{for(_(z),g=n(f);g!==null&&!(g.expirationTime>z&&L());){var te=g.callback;if(typeof te=="function"){g.callback=null,y=g.priorityLevel;var ue=te(g.expirationTime<=z);if(z=t.unstable_now(),typeof ue=="function"){g.callback=ue,_(z),Q=!0;break t}g===n(f)&&r(f),_(z)}else r(f);g=n(f)}if(g!==null)Q=!0;else{var $=n(h);$!==null&&K(T,$.startTime-z),Q=!1}}break e}finally{g=null,y=F,x=!1}Q=void 0}}finally{Q?V():O=!1}}}var V;if(typeof E=="function")V=function(){E(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=P,V=function(){B.postMessage(null)}}else V=function(){j(P,0)};function K(z,Q){M=j(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var F=y;y=Q;try{return z()}finally{y=F}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=y;y=z;try{return Q()}finally{y=F}},t.unstable_scheduleCallback=function(z,Q,F){var te=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?te+F:te):F=te,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=F+ue,z={id:m++,callback:Q,priorityLevel:z,startTime:F,expirationTime:ue,sortIndex:-1},F>te?(z.sortIndex=F,e(h,z),n(f)===null&&z===n(h)&&(w?(A(M),M=-1):w=!0,K(T,F-te))):(z.sortIndex=ue,e(f,z),v||x||(v=!0,O||(O=!0,V()))),z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(z){var Q=y;return function(){var F=y;y=Q;try{return z.apply(this,arguments)}finally{y=F}}}})(Yy)),Yy}var sC;function X3(){return sC||(sC=1,Wy.exports=Y3()),Wy.exports}var Xy={exports:{}},sn={};var iC;function J3(){if(iC)return sn;iC=1;var t=Sl();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,m)},sn.flushSync=function(f){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=m,r.d.f()}},sn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},sn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},sn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},sn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},sn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},sn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},sn.requestFormReset=function(f){r.d.r(f)},sn.unstable_batchedUpdates=function(f,h){return f(h)},sn.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var oC;function Ak(){if(oC)return Xy.exports;oC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xy.exports=J3(),Xy.exports}var aC;function Z3(){if(aC)return Mc;aC=1;var t=X3(),e=Sl(),n=Ak();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var d=i,p=a;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return f(b),i;if(S===p)return f(b),a;S=S.sibling}throw Error(r(188))}if(d.return!==p.return)d=b,p=S;else{for(var k=!1,D=b.child;D;){if(D===d){k=!0,d=b,p=S;break}if(D===p){k=!0,p=b,d=S;break}D=D.sibling}if(!k){for(D=S.child;D;){if(D===d){k=!0,d=S,p=b;break}if(D===p){k=!0,p=S,d=b;break}D=D.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function B(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case E:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case _:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return a=i.displayName||null,a!==null?a:B(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return B(i(a))}catch{}}return null}var K=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},te=[],ue=-1;function $(i){return{current:i}}function X(i){0>ue||(i.current=te[ue],te[ue]=null,ue--)}function se(i,a){ue++,te[ue]=i.current,i.current=a}var ne=$(null),ce=$(null),de=$(null),Z=$(null);function ge(i,a){switch(se(de,a),se(ce,i),se(ne,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?wN(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=wN(a),i=NN(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(ne),se(ne,i)}function fe(){X(ne),X(ce),X(de)}function pe(i){i.memoizedState!==null&&se(Z,i);var a=ne.current,d=NN(a,i.type);a!==d&&(se(ce,i),se(ne,d))}function Ce(i){ce.current===i&&(X(ne),X(ce)),Z.current===i&&(X(Z),jc._currentValue=F)}var Te,it;function ct(i){if(Te===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);Te=a&&a[1]||"",it=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+i+it}var Nt=!1;function Bt(i,a){if(!i||Nt)return"";Nt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var J=ee}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(ee){J=ee}i.call(oe.prototype)}}else{try{throw Error()}catch(ee){J=ee}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),k=S[0],D=S[1];if(k&&D){var U=k.split(`
`),Y=D.split(`
`);for(b=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;b<Y.length&&!Y[b].includes("DetermineComponentFrameRoot");)b++;if(p===U.length||b===Y.length)for(p=U.length-1,b=Y.length-1;1<=p&&0<=b&&U[p]!==Y[b];)b--;for(;1<=p&&0<=b;p--,b--)if(U[p]!==Y[b]){if(p!==1||b!==1)do if(p--,b--,0>b||U[p]!==Y[b]){var re=`
`+U[p].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=p&&0<=b);break}}}finally{Nt=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?ct(d):""}function _n(i,a){switch(i.tag){case 26:case 27:case 5:return ct(i.type);case 16:return ct("Lazy");case 13:return i.child!==a&&a!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Bt(i.type,!1);case 11:return Bt(i.type.render,!1);case 1:return Bt(i.type,!0);case 31:return ct("Activity");default:return""}}function Us(i){try{var a="",d=null;do a+=_n(i,d),d=i,i=i.return;while(i);return a}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ir=Object.prototype.hasOwnProperty,yr=t.unstable_scheduleCallback,Fs=t.unstable_cancelCallback,id=t.unstable_shouldYield,Je=t.unstable_requestPaint,Fe=t.unstable_now,Mn=t.unstable_getCurrentPriorityLevel,Pl=t.unstable_ImmediatePriority,t1=t.unstable_UserBlockingPriority,od=t.unstable_NormalPriority,TR=t.unstable_LowPriority,n1=t.unstable_IdlePriority,ER=t.log,_R=t.unstable_setDisableYieldValue,Ll=null,An=null;function qs(i){if(typeof ER=="function"&&_R(i),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(Ll,i)}catch{}}var Rn=Math.clz32?Math.clz32:RR,MR=Math.log,AR=Math.LN2;function RR(i){return i>>>=0,i===0?32:31-(MR(i)/AR|0)|0}var ad=256,ld=262144,cd=4194304;function eo(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ud(i,a,d){var p=i.pendingLanes;if(p===0)return 0;var b=0,S=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var D=p&134217727;return D!==0?(p=D&~S,p!==0?b=eo(p):(k&=D,k!==0?b=eo(k):d||(d=D&~i,d!==0&&(b=eo(d))))):(D=p&~S,D!==0?b=eo(D):k!==0?b=eo(k):d||(d=p&~i,d!==0&&(b=eo(d)))),b===0?0:a!==0&&a!==b&&(a&S)===0&&(S=b&-b,d=a&-a,S>=d||S===32&&(d&4194048)!==0)?a:b}function zl(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function OR(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r1(){var i=cd;return cd<<=1,(cd&62914560)===0&&(cd=4194304),i}function Dm(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function Bl(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function DR(i,a,d,p,b,S){var k=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var D=i.entanglements,U=i.expirationTimes,Y=i.hiddenUpdates;for(d=k&~d;0<d;){var re=31-Rn(d),oe=1<<re;D[re]=0,U[re]=-1;var J=Y[re];if(J!==null)for(Y[re]=null,re=0;re<J.length;re++){var ee=J[re];ee!==null&&(ee.lane&=-536870913)}d&=~oe}p!==0&&s1(i,p,0),S!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=S&~(k&~a))}function s1(i,a,d){i.pendingLanes|=a,i.suspendedLanes&=~a;var p=31-Rn(a);i.entangledLanes|=a,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function i1(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var p=31-Rn(d),b=1<<p;b&a|i[p]&a&&(i[p]|=a),d&=~b}}function o1(i,a){var d=a&-a;return d=(d&42)!==0?1:Im(d),(d&(i.suspendedLanes|a))!==0?0:d}function Im(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Pm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function a1(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:KN(i.type))}function l1(i,a){var d=Q.p;try{return Q.p=i,a()}finally{Q.p=d}}var Ks=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ks,xn="__reactProps$"+Ks,ea="__reactContainer$"+Ks,Lm="__reactEvents$"+Ks,IR="__reactListeners$"+Ks,PR="__reactHandles$"+Ks,c1="__reactResources$"+Ks,Vl="__reactMarker$"+Ks;function zm(i){delete i[Kt],delete i[xn],delete i[Lm],delete i[IR],delete i[PR]}function ta(i){var a=i[Kt];if(a)return a;for(var d=i.parentNode;d;){if(a=d[ea]||d[Kt]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=MN(i);i!==null;){if(d=i[Kt])return d;i=MN(i)}return a}i=d,d=i.parentNode}return null}function na(i){if(i=i[Kt]||i[ea]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function $l(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ra(i){var a=i[c1];return a||(a=i[c1]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Vt(i){i[Vl]=!0}var u1=new Set,d1={};function to(i,a){sa(i,a),sa(i+"Capture",a)}function sa(i,a){for(d1[i]=a,i=0;i<a.length;i++)u1.add(a[i])}var LR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),f1={},h1={};function zR(i){return Ir.call(h1,i)?!0:Ir.call(f1,i)?!1:LR.test(i)?h1[i]=!0:(f1[i]=!0,!1)}function dd(i,a,d){if(zR(a))if(d===null)i.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+d)}}function fd(i,a,d){if(d===null)i.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+d)}}function ts(i,a,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(a,d,""+p)}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function p1(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function BR(i,a,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return b.call(this)},set:function(k){d=""+k,S.call(this,k)}}),Object.defineProperty(i,a,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Bm(i){if(!i._valueTracker){var a=p1(i)?"checked":"value";i._valueTracker=BR(i,a,""+i[a])}}function m1(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),p="";return i&&(p=p1(i)?i.checked?"true":"false":i.value),i=p,i!==d?(a.setValue(i),!0):!1}function hd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var VR=/[\n"\\]/g;function Zn(i){return i.replace(VR,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vm(i,a,d,p,b,S,k,D){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),a!=null?k==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Jn(a)):i.value!==""+Jn(a)&&(i.value=""+Jn(a)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),a!=null?$m(i,k,Jn(a)):d!=null?$m(i,k,Jn(d)):p!=null&&i.removeAttribute("value"),b==null&&S!=null&&(i.defaultChecked=!!S),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Jn(D):i.removeAttribute("name")}function g1(i,a,d,p,b,S,k,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),a!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||a!=null)){Bm(i);return}d=d!=null?""+Jn(d):"",a=a!=null?""+Jn(a):d,D||a===i.value||(i.value=a),i.defaultValue=a}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=D?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Bm(i)}function $m(i,a,d){a==="number"&&hd(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function ia(i,a,d,p){if(i=i.options,a){a={};for(var b=0;b<d.length;b++)a["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=a.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Jn(d),a=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}a!==null||i[b].disabled||(a=i[b])}a!==null&&(a.selected=!0)}}function y1(i,a,d){if(a!=null&&(a=""+Jn(a),a!==i.value&&(i.value=a),d==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=d!=null?""+Jn(d):""}function x1(i,a,d,p){if(a==null){if(p!=null){if(d!=null)throw Error(r(92));if(K(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),a=d}d=Jn(a),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Bm(i)}function oa(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var $R=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function b1(i,a,d){var p=a.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":p?i.setProperty(a,d):typeof d!="number"||d===0||$R.has(a)?a==="float"?i.cssFloat=d:i[a]=(""+d).trim():i[a]=d+"px"}function v1(i,a,d){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in a)p=a[b],a.hasOwnProperty(b)&&d[b]!==p&&b1(i,b,p)}else for(var S in a)a.hasOwnProperty(S)&&b1(i,S,a[S])}function Hm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pd(i){return UR.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ns(){}var Um=null;function Fm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var aa=null,la=null;function S1(i){var a=na(i);if(a&&(i=a.stateNode)){var d=i[xn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Vm(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Zn(""+a)+'"][type="radio"]'),a=0;a<d.length;a++){var p=d[a];if(p!==i&&p.form===i.form){var b=p[xn]||null;if(!b)throw Error(r(90));Vm(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<d.length;a++)p=d[a],p.form===i.form&&m1(p)}break e;case"textarea":y1(i,d.value,d.defaultValue);break e;case"select":a=d.value,a!=null&&ia(i,!!d.multiple,a,!1)}}}var qm=!1;function w1(i,a,d){if(qm)return i(a,d);qm=!0;try{var p=i(a);return p}finally{if(qm=!1,(aa!==null||la!==null)&&(tf(),aa&&(a=aa,i=la,la=aa=null,S1(a),i)))for(a=0;a<i.length;a++)S1(i[a])}}function Hl(i,a){var d=i.stateNode;if(d===null)return null;var p=d[xn]||null;if(p===null)return null;d=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,a,typeof d));return d}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=!1;if(rs)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Km=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Km=!1}var Qs=null,Qm=null,md=null;function N1(){if(md)return md;var i,a=Qm,d=a.length,p,b="value"in Qs?Qs.value:Qs.textContent,S=b.length;for(i=0;i<d&&a[i]===b[i];i++);var k=d-i;for(p=1;p<=k&&a[d-p]===b[S-p];p++);return md=b.slice(i,1<p?1-p:void 0)}function gd(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function yd(){return!0}function C1(){return!1}function bn(i){function a(d,p,b,S,k){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=k,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(d=i[D],this[D]=d?d(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?yd:C1,this.isPropagationStopped=C1,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),a}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xd=bn(no),Fl=g({},no,{view:0,detail:0}),FR=bn(Fl),Gm,Wm,ql,bd=g({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ql&&(ql&&i.type==="mousemove"?(Gm=i.screenX-ql.screenX,Wm=i.screenY-ql.screenY):Wm=Gm=0,ql=i),Gm)},movementY:function(i){return"movementY"in i?i.movementY:Wm}}),j1=bn(bd),qR=g({},bd,{dataTransfer:0}),KR=bn(qR),QR=g({},Fl,{relatedTarget:0}),Ym=bn(QR),GR=g({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),WR=bn(GR),YR=g({},no,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),XR=bn(YR),JR=g({},no,{data:0}),k1=bn(JR),ZR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nO(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=tO[i])?!!a[i]:!1}function Xm(){return nO}var rO=g({},Fl,{key:function(i){if(i.key){var a=ZR[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=gd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xm,charCode:function(i){return i.type==="keypress"?gd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sO=bn(rO),iO=g({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T1=bn(iO),oO=g({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xm}),aO=bn(oO),lO=g({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),cO=bn(lO),uO=g({},bd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dO=bn(uO),fO=g({},no,{newState:0,oldState:0}),hO=bn(fO),pO=[9,13,27,32],Jm=rs&&"CompositionEvent"in window,Kl=null;rs&&"documentMode"in document&&(Kl=document.documentMode);var mO=rs&&"TextEvent"in window&&!Kl,E1=rs&&(!Jm||Kl&&8<Kl&&11>=Kl),_1=" ",M1=!1;function A1(i,a){switch(i){case"keyup":return pO.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ca=!1;function gO(i,a){switch(i){case"compositionend":return R1(a);case"keypress":return a.which!==32?null:(M1=!0,_1);case"textInput":return i=a.data,i===_1&&M1?null:i;default:return null}}function yO(i,a){if(ca)return i==="compositionend"||!Jm&&A1(i,a)?(i=N1(),md=Qm=Qs=null,ca=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E1&&a.locale!=="ko"?null:a.data;default:return null}}var xO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!xO[i.type]:a==="textarea"}function D1(i,a,d,p){aa?la?la.push(p):la=[p]:aa=p,a=cf(a,"onChange"),0<a.length&&(d=new xd("onChange","change",null,d,p),i.push({event:d,listeners:a}))}var Ql=null,Gl=null;function bO(i){gN(i,0)}function vd(i){var a=$l(i);if(m1(a))return i}function I1(i,a){if(i==="change")return a}var P1=!1;if(rs){var Zm;if(rs){var eg="oninput"in document;if(!eg){var L1=document.createElement("div");L1.setAttribute("oninput","return;"),eg=typeof L1.oninput=="function"}Zm=eg}else Zm=!1;P1=Zm&&(!document.documentMode||9<document.documentMode)}function z1(){Ql&&(Ql.detachEvent("onpropertychange",B1),Gl=Ql=null)}function B1(i){if(i.propertyName==="value"&&vd(Gl)){var a=[];D1(a,Gl,i,Fm(i)),w1(bO,a)}}function vO(i,a,d){i==="focusin"?(z1(),Ql=a,Gl=d,Ql.attachEvent("onpropertychange",B1)):i==="focusout"&&z1()}function SO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vd(Gl)}function wO(i,a){if(i==="click")return vd(a)}function NO(i,a){if(i==="input"||i==="change")return vd(a)}function CO(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var On=typeof Object.is=="function"?Object.is:CO;function Wl(i,a){if(On(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),p=Object.keys(a);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!Ir.call(a,b)||!On(i[b],a[b]))return!1}return!0}function V1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $1(i,a){var d=V1(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=a&&p>=a)return{node:d,offset:a-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=V1(d)}}function H1(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?H1(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function U1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=hd(i.document);a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=hd(i.document)}return a}function tg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var jO=rs&&"documentMode"in document&&11>=document.documentMode,ua=null,ng=null,Yl=null,rg=!1;function F1(i,a,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;rg||ua==null||ua!==hd(p)||(p=ua,"selectionStart"in p&&tg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Yl&&Wl(Yl,p)||(Yl=p,p=cf(ng,"onSelect"),0<p.length&&(a=new xd("onSelect","select",null,a,d),i.push({event:a,listeners:p}),a.target=ua)))}function ro(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var da={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionrun:ro("Transition","TransitionRun"),transitionstart:ro("Transition","TransitionStart"),transitioncancel:ro("Transition","TransitionCancel"),transitionend:ro("Transition","TransitionEnd")},sg={},q1={};rs&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function so(i){if(sg[i])return sg[i];if(!da[i])return i;var a=da[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in q1)return sg[i]=a[d];return i}var K1=so("animationend"),Q1=so("animationiteration"),G1=so("animationstart"),kO=so("transitionrun"),TO=so("transitionstart"),EO=so("transitioncancel"),W1=so("transitionend"),Y1=new Map,ig="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ig.push("scrollEnd");function xr(i,a){Y1.set(i,a),to(a,[i])}var Sd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},er=[],fa=0,og=0;function wd(){for(var i=fa,a=og=fa=0;a<i;){var d=er[a];er[a++]=null;var p=er[a];er[a++]=null;var b=er[a];er[a++]=null;var S=er[a];if(er[a++]=null,p!==null&&b!==null){var k=p.pending;k===null?b.next=b:(b.next=k.next,k.next=b),p.pending=b}S!==0&&X1(d,b,S)}}function Nd(i,a,d,p){er[fa++]=i,er[fa++]=a,er[fa++]=d,er[fa++]=p,og|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function ag(i,a,d,p){return Nd(i,a,d,p),Cd(i)}function io(i,a){return Nd(i,null,null,a),Cd(i)}function X1(i,a,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var b=!1,S=i.return;S!==null;)S.childLanes|=d,p=S.alternate,p!==null&&(p.childLanes|=d),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(b=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,b&&a!==null&&(b=31-Rn(d),i=S.hiddenUpdates,p=i[b],p===null?i[b]=[a]:p.push(a),a.lane=d|536870912),S):null}function Cd(i){if(50<xc)throw xc=0,gy=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ha={};function _O(i,a,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,a,d,p){return new _O(i,a,d,p)}function lg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,a){var d=i.alternate;return d===null?(d=Dn(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function J1(i,a){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,a=d.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function jd(i,a,d,p,b,S){var k=0;if(p=i,typeof i=="function")lg(i)&&(k=1);else if(typeof i=="string")k=D3(i,d,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Dn(31,d,a,b),i.elementType=I,i.lanes=S,i;case w:return oo(d.children,b,S,a);case N:k=8,b|=24;break;case j:return i=Dn(12,d,a,b|2),i.elementType=j,i.lanes=S,i;case T:return i=Dn(13,d,a,b),i.elementType=T,i.lanes=S,i;case O:return i=Dn(19,d,a,b),i.elementType=O,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:k=10;break e;case A:k=9;break e;case _:k=11;break e;case M:k=14;break e;case R:k=16,p=null;break e}k=29,d=Error(r(130,i===null?"null":typeof i,"")),p=null}return a=Dn(k,d,a,b),a.elementType=i,a.type=p,a.lanes=S,a}function oo(i,a,d,p){return i=Dn(7,i,p,a),i.lanes=d,i}function cg(i,a,d){return i=Dn(6,i,null,a),i.lanes=d,i}function Z1(i){var a=Dn(18,null,null,0);return a.stateNode=i,a}function ug(i,a,d){return a=Dn(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var eS=new WeakMap;function tr(i,a){if(typeof i=="object"&&i!==null){var d=eS.get(i);return d!==void 0?d:(a={value:i,source:a,stack:Us(a)},eS.set(i,a),a)}return{value:i,source:a,stack:Us(a)}}var pa=[],ma=0,kd=null,Xl=0,nr=[],rr=0,Gs=null,Pr=1,Lr="";function is(i,a){pa[ma++]=Xl,pa[ma++]=kd,kd=i,Xl=a}function tS(i,a,d){nr[rr++]=Pr,nr[rr++]=Lr,nr[rr++]=Gs,Gs=i;var p=Pr;i=Lr;var b=32-Rn(p)-1;p&=~(1<<b),d+=1;var S=32-Rn(a)+b;if(30<S){var k=b-b%5;S=(p&(1<<k)-1).toString(32),p>>=k,b-=k,Pr=1<<32-Rn(a)+b|d<<b|p,Lr=S+i}else Pr=1<<S|d<<b|p,Lr=i}function dg(i){i.return!==null&&(is(i,1),tS(i,1,0))}function fg(i){for(;i===kd;)kd=pa[--ma],pa[ma]=null,Xl=pa[--ma],pa[ma]=null;for(;i===Gs;)Gs=nr[--rr],nr[rr]=null,Lr=nr[--rr],nr[rr]=null,Pr=nr[--rr],nr[rr]=null}function nS(i,a){nr[rr++]=Pr,nr[rr++]=Lr,nr[rr++]=Gs,Pr=a.id,Lr=a.overflow,Gs=i}var Qt=null,ot=null,ze=!1,Ws=null,sr=!1,hg=Error(r(519));function Ys(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(tr(a,i)),hg}function rS(i){var a=i.stateNode,d=i.type,p=i.memoizedProps;switch(a[Kt]=i,a[xn]=p,d){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(d=0;d<vc.length;d++)Ie(vc[d],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Ie("invalid",a),g1(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ie("invalid",a);break;case"textarea":Ie("invalid",a),x1(a,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||a.textContent===""+d||p.suppressHydrationWarning===!0||vN(a.textContent,d)?(p.popover!=null&&(Ie("beforetoggle",a),Ie("toggle",a)),p.onScroll!=null&&Ie("scroll",a),p.onScrollEnd!=null&&Ie("scrollend",a),p.onClick!=null&&(a.onclick=ns),a=!0):a=!1,a||Ys(i,!0)}function sS(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:Qt=Qt.return}}function ga(i){if(i!==Qt)return!1;if(!ze)return sS(i),ze=!0,!1;var a=i.tag,d;if((d=a!==3&&a!==27)&&((d=a===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||Ay(i.type,i.memoizedProps)),d=!d),d&&ot&&Ys(i),sS(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=_N(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=_N(i)}else a===27?(a=ot,ui(i.type)?(i=Py,Py=null,ot=i):ot=a):ot=Qt?or(i.stateNode.nextSibling):null;return!0}function ao(){ot=Qt=null,ze=!1}function pg(){var i=Ws;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),Ws=null),i}function Jl(i){Ws===null?Ws=[i]:Ws.push(i)}var mg=$(null),lo=null,as=null;function Xs(i,a,d){se(mg,a._currentValue),a._currentValue=d}function ls(i){i._currentValue=mg.current,X(mg)}function gg(i,a,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===d)break;i=i.return}}function yg(i,a,d,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var S=b.dependencies;if(S!==null){var k=b.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=b;for(var U=0;U<a.length;U++)if(D.context===a[U]){S.lanes|=d,D=S.alternate,D!==null&&(D.lanes|=d),gg(S.return,d,i),p||(k=null);break e}S=D.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(r(341));k.lanes|=d,S=k.alternate,S!==null&&(S.lanes|=d),gg(k,d,i),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===i){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function ya(i,a,d,p){i=null;for(var b=a,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var D=b.type;On(b.pendingProps.value,k.value)||(i!==null?i.push(D):i=[D])}}else if(b===Z.current){if(k=b.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(jc):i=[jc])}b=b.return}i!==null&&yg(a,i,d,p),a.flags|=262144}function Td(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function co(i){lo=i,as=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gt(i){return iS(lo,i)}function Ed(i,a){return lo===null&&co(i),iS(i,a)}function iS(i,a){var d=a._currentValue;if(a={context:a,memoizedValue:d,next:null},as===null){if(i===null)throw Error(r(308));as=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else as=as.next=a;return d}var MO=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){a.aborted=!0,i.forEach(function(d){return d()})}},AO=t.unstable_scheduleCallback,RO=t.unstable_NormalPriority,kt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xg(){return{controller:new MO,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&AO(RO,function(){i.controller.abort()})}var ec=null,bg=0,xa=0,ba=null;function OO(i,a){if(ec===null){var d=ec=[];bg=0,xa=wy(),ba={status:"pending",value:void 0,then:function(p){d.push(p)}}}return bg++,a.then(oS,oS),a}function oS(){if(--bg===0&&ec!==null){ba!==null&&(ba.status="fulfilled");var i=ec;ec=null,xa=0,ba=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function DO(i,a){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return i.then(function(){p.status="fulfilled",p.value=a;for(var b=0;b<d.length;b++)(0,d[b])(a)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var aS=z.S;z.S=function(i,a){Fw=Fe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&OO(i,a),aS!==null&&aS(i,a)};var uo=$(null);function vg(){var i=uo.current;return i!==null?i:nt.pooledCache}function _d(i,a){a===null?se(uo,uo.current):se(uo,a.pool)}function lS(){var i=vg();return i===null?null:{parent:kt._currentValue,pool:i}}var va=Error(r(460)),Sg=Error(r(474)),Md=Error(r(542)),Ad={then:function(){}};function cS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function uS(i,a,d){switch(d=i[d],d===void 0?i.push(a):d!==a&&(a.then(ns,ns),a=d),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,fS(i),i;default:if(typeof a.status=="string")a.then(ns,ns);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(p){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=p}},function(p){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,fS(i),i}throw ho=a,va}}function fo(i){try{var a=i._init;return a(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ho=d,va):d}}var ho=null;function dS(){if(ho===null)throw Error(r(459));var i=ho;return ho=null,i}function fS(i){if(i===va||i===Md)throw Error(r(483))}var Sa=null,tc=0;function Rd(i){var a=tc;return tc+=1,Sa===null&&(Sa=[]),uS(Sa,i,a)}function nc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Od(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function hS(i){function a(G,q){if(i){var W=G.deletions;W===null?(G.deletions=[q],G.flags|=16):W.push(q)}}function d(G,q){if(!i)return null;for(;q!==null;)a(G,q),q=q.sibling;return null}function p(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function b(G,q){return G=ss(G,q),G.index=0,G.sibling=null,G}function S(G,q,W){return G.index=W,i?(W=G.alternate,W!==null?(W=W.index,W<q?(G.flags|=67108866,q):W):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function k(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function D(G,q,W,ie){return q===null||q.tag!==6?(q=cg(W,G.mode,ie),q.return=G,q):(q=b(q,W),q.return=G,q)}function U(G,q,W,ie){var Se=W.type;return Se===w?re(G,q,W.props.children,ie,W.key):q!==null&&(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&fo(Se)===q.type)?(q=b(q,W.props),nc(q,W),q.return=G,q):(q=jd(W.type,W.key,W.props,null,G.mode,ie),nc(q,W),q.return=G,q)}function Y(G,q,W,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=ug(W,G.mode,ie),q.return=G,q):(q=b(q,W.children||[]),q.return=G,q)}function re(G,q,W,ie,Se){return q===null||q.tag!==7?(q=oo(W,G.mode,ie,Se),q.return=G,q):(q=b(q,W),q.return=G,q)}function oe(G,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=cg(""+q,G.mode,W),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return W=jd(q.type,q.key,q.props,null,G.mode,W),nc(W,q),W.return=G,W;case v:return q=ug(q,G.mode,W),q.return=G,q;case R:return q=fo(q),oe(G,q,W)}if(K(q)||V(q))return q=oo(q,G.mode,W,null),q.return=G,q;if(typeof q.then=="function")return oe(G,Rd(q),W);if(q.$$typeof===E)return oe(G,Ed(G,q),W);Od(G,q)}return null}function J(G,q,W,ie){var Se=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Se!==null?null:D(G,q,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===Se?U(G,q,W,ie):null;case v:return W.key===Se?Y(G,q,W,ie):null;case R:return W=fo(W),J(G,q,W,ie)}if(K(W)||V(W))return Se!==null?null:re(G,q,W,ie,null);if(typeof W.then=="function")return J(G,q,Rd(W),ie);if(W.$$typeof===E)return J(G,q,Ed(G,W),ie);Od(G,W)}return null}function ee(G,q,W,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(W)||null,D(q,G,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return G=G.get(ie.key===null?W:ie.key)||null,U(q,G,ie,Se);case v:return G=G.get(ie.key===null?W:ie.key)||null,Y(q,G,ie,Se);case R:return ie=fo(ie),ee(G,q,W,ie,Se)}if(K(ie)||V(ie))return G=G.get(W)||null,re(q,G,ie,Se,null);if(typeof ie.then=="function")return ee(G,q,W,Rd(ie),Se);if(ie.$$typeof===E)return ee(G,q,W,Ed(q,ie),Se);Od(q,ie)}return null}function ye(G,q,W,ie){for(var Se=null,Be=null,ve=q,Me=q=0,Le=null;ve!==null&&Me<W.length;Me++){ve.index>Me?(Le=ve,ve=null):Le=ve.sibling;var Ve=J(G,ve,W[Me],ie);if(Ve===null){ve===null&&(ve=Le);break}i&&ve&&Ve.alternate===null&&a(G,ve),q=S(Ve,q,Me),Be===null?Se=Ve:Be.sibling=Ve,Be=Ve,ve=Le}if(Me===W.length)return d(G,ve),ze&&is(G,Me),Se;if(ve===null){for(;Me<W.length;Me++)ve=oe(G,W[Me],ie),ve!==null&&(q=S(ve,q,Me),Be===null?Se=ve:Be.sibling=ve,Be=ve);return ze&&is(G,Me),Se}for(ve=p(ve);Me<W.length;Me++)Le=ee(ve,G,Me,W[Me],ie),Le!==null&&(i&&Le.alternate!==null&&ve.delete(Le.key===null?Me:Le.key),q=S(Le,q,Me),Be===null?Se=Le:Be.sibling=Le,Be=Le);return i&&ve.forEach(function(mi){return a(G,mi)}),ze&&is(G,Me),Se}function je(G,q,W,ie){if(W==null)throw Error(r(151));for(var Se=null,Be=null,ve=q,Me=q=0,Le=null,Ve=W.next();ve!==null&&!Ve.done;Me++,Ve=W.next()){ve.index>Me?(Le=ve,ve=null):Le=ve.sibling;var mi=J(G,ve,Ve.value,ie);if(mi===null){ve===null&&(ve=Le);break}i&&ve&&mi.alternate===null&&a(G,ve),q=S(mi,q,Me),Be===null?Se=mi:Be.sibling=mi,Be=mi,ve=Le}if(Ve.done)return d(G,ve),ze&&is(G,Me),Se;if(ve===null){for(;!Ve.done;Me++,Ve=W.next())Ve=oe(G,Ve.value,ie),Ve!==null&&(q=S(Ve,q,Me),Be===null?Se=Ve:Be.sibling=Ve,Be=Ve);return ze&&is(G,Me),Se}for(ve=p(ve);!Ve.done;Me++,Ve=W.next())Ve=ee(ve,G,Me,Ve.value,ie),Ve!==null&&(i&&Ve.alternate!==null&&ve.delete(Ve.key===null?Me:Ve.key),q=S(Ve,q,Me),Be===null?Se=Ve:Be.sibling=Ve,Be=Ve);return i&&ve.forEach(function(q3){return a(G,q3)}),ze&&is(G,Me),Se}function tt(G,q,W,ie){if(typeof W=="object"&&W!==null&&W.type===w&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:e:{for(var Se=W.key;q!==null;){if(q.key===Se){if(Se=W.type,Se===w){if(q.tag===7){d(G,q.sibling),ie=b(q,W.props.children),ie.return=G,G=ie;break e}}else if(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&fo(Se)===q.type){d(G,q.sibling),ie=b(q,W.props),nc(ie,W),ie.return=G,G=ie;break e}d(G,q);break}else a(G,q);q=q.sibling}W.type===w?(ie=oo(W.props.children,G.mode,ie,W.key),ie.return=G,G=ie):(ie=jd(W.type,W.key,W.props,null,G.mode,ie),nc(ie,W),ie.return=G,G=ie)}return k(G);case v:e:{for(Se=W.key;q!==null;){if(q.key===Se)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){d(G,q.sibling),ie=b(q,W.children||[]),ie.return=G,G=ie;break e}else{d(G,q);break}else a(G,q);q=q.sibling}ie=ug(W,G.mode,ie),ie.return=G,G=ie}return k(G);case R:return W=fo(W),tt(G,q,W,ie)}if(K(W))return ye(G,q,W,ie);if(V(W)){if(Se=V(W),typeof Se!="function")throw Error(r(150));return W=Se.call(W),je(G,q,W,ie)}if(typeof W.then=="function")return tt(G,q,Rd(W),ie);if(W.$$typeof===E)return tt(G,q,Ed(G,W),ie);Od(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(d(G,q.sibling),ie=b(q,W),ie.return=G,G=ie):(d(G,q),ie=cg(W,G.mode,ie),ie.return=G,G=ie),k(G)):d(G,q)}return function(G,q,W,ie){try{tc=0;var Se=tt(G,q,W,ie);return Sa=null,Se}catch(ve){if(ve===va||ve===Md)throw ve;var Be=Dn(29,ve,null,G.mode);return Be.lanes=ie,Be.return=G,Be}finally{}}}var po=hS(!0),pS=hS(!1),Js=!1;function wg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ng(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ei(i,a,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(qe&2)!==0){var b=p.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),p.pending=a,a=Cd(i),X1(i,null,d),a}return Nd(i,p,a,d),Cd(i)}function rc(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194048)!==0)){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,i1(i,d)}}function Cg(i,a){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?b=S=k:S=S.next=k,d=d.next}while(d!==null);S===null?b=S=a:S=S.next=a}else b=S=a;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}var jg=!1;function sc(){if(jg){var i=ba;if(i!==null)throw i}}function ic(i,a,d,p){jg=!1;var b=i.updateQueue;Js=!1;var S=b.firstBaseUpdate,k=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var U=D,Y=U.next;U.next=null,k===null?S=Y:k.next=Y,k=U;var re=i.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==k&&(D===null?re.firstBaseUpdate=Y:D.next=Y,re.lastBaseUpdate=U))}if(S!==null){var oe=b.baseState;k=0,re=Y=U=null,D=S;do{var J=D.lane&-536870913,ee=J!==D.lane;if(ee?(Pe&J)===J:(p&J)===J){J!==0&&J===xa&&(jg=!0),re!==null&&(re=re.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ye=i,je=D;J=a;var tt=d;switch(je.tag){case 1:if(ye=je.payload,typeof ye=="function"){oe=ye.call(tt,oe,J);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=je.payload,J=typeof ye=="function"?ye.call(tt,oe,J):ye,J==null)break e;oe=g({},oe,J);break e;case 2:Js=!0}}J=D.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=b.callbacks,ee===null?b.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(Y=re=ee,U=oe):re=re.next=ee,k|=J;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,b.lastBaseUpdate=ee,b.shared.pending=null}}while(!0);re===null&&(U=oe),b.baseState=U,b.firstBaseUpdate=Y,b.lastBaseUpdate=re,S===null&&(b.shared.lanes=0),ii|=k,i.lanes=k,i.memoizedState=oe}}function mS(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function gS(i,a){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)mS(d[i],a)}var wa=$(null),Dd=$(0);function yS(i,a){i=ys,se(Dd,i),se(wa,a),ys=i|a.baseLanes}function kg(){se(Dd,ys),se(wa,wa.current)}function Tg(){ys=Dd.current,X(wa),X(Dd)}var In=$(null),ir=null;function ti(i){var a=i.alternate;se(Ct,Ct.current&1),se(In,i),ir===null&&(a===null||wa.current!==null||a.memoizedState!==null)&&(ir=i)}function Eg(i){se(Ct,Ct.current),se(In,i),ir===null&&(ir=i)}function xS(i){i.tag===22?(se(Ct,Ct.current),se(In,i),ir===null&&(ir=i)):ni()}function ni(){se(Ct,Ct.current),se(In,In.current)}function Pn(i){X(In),ir===i&&(ir=null),X(Ct)}var Ct=$(0);function Id(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Dy(d)||Iy(d)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var cs=0,_e=null,Ze=null,Tt=null,Pd=!1,Na=!1,mo=!1,Ld=0,oc=0,Ca=null,IO=0;function gt(){throw Error(r(321))}function _g(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!On(i[d],a[d]))return!1;return!0}function Mg(i,a,d,p,b,S){return cs=S,_e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=i===null||i.memoizedState===null?tw:qg,mo=!1,S=d(p,b),mo=!1,Na&&(S=vS(a,d,p,b)),bS(i),S}function bS(i){z.H=cc;var a=Ze!==null&&Ze.next!==null;if(cs=0,Tt=Ze=_e=null,Pd=!1,oc=0,Ca=null,a)throw Error(r(300));i===null||Et||(i=i.dependencies,i!==null&&Td(i)&&(Et=!0))}function vS(i,a,d,p){_e=i;var b=0;do{if(Na&&(Ca=null),oc=0,Na=!1,25<=b)throw Error(r(301));if(b+=1,Tt=Ze=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=nw,S=a(d,p)}while(Na);return S}function PO(){var i=z.H,a=i.useState()[0];return a=typeof a.then=="function"?ac(a):a,i=i.useState()[0],(Ze!==null?Ze.memoizedState:null)!==i&&(_e.flags|=1024),a}function Ag(){var i=Ld!==0;return Ld=0,i}function Rg(i,a,d){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~d}function Og(i){if(Pd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Pd=!1}cs=0,Tt=Ze=_e=null,Na=!1,oc=Ld=0,Ca=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?_e.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function jt(){if(Ze===null){var i=_e.alternate;i=i!==null?i.memoizedState:null}else i=Ze.next;var a=Tt===null?_e.memoizedState:Tt.next;if(a!==null)Tt=a,Ze=i;else{if(i===null)throw _e.alternate===null?Error(r(467)):Error(r(310));Ze=i,i={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Tt===null?_e.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(i){var a=oc;return oc+=1,Ca===null&&(Ca=[]),i=uS(Ca,i,a),a=_e,(Tt===null?a.memoizedState:Tt.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?tw:qg),i}function Bd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ac(i);if(i.$$typeof===E)return Gt(i)}throw Error(r(438,String(i)))}function Dg(i){var a=null,d=_e.updateQueue;if(d!==null&&(a=d.memoCache),a==null){var p=_e.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),d===null&&(d=zd(),_e.updateQueue=d),d.memoCache=a,d=a.data[a.index],d===void 0)for(d=a.data[a.index]=Array(i),p=0;p<i;p++)d[p]=L;return a.index++,d}function us(i,a){return typeof a=="function"?a(i):a}function Vd(i){var a=jt();return Ig(a,Ze,i)}function Ig(i,a,d){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var b=i.baseQueue,S=p.pending;if(S!==null){if(b!==null){var k=b.next;b.next=S.next,S.next=k}a.baseQueue=b=S,p.pending=null}if(S=i.baseState,b===null)i.memoizedState=S;else{a=b.next;var D=k=null,U=null,Y=a,re=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(Pe&oe)===oe:(cs&oe)===oe){var J=Y.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===xa&&(re=!0);else if((cs&J)===J){Y=Y.next,J===xa&&(re=!0);continue}else oe={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(D=U=oe,k=S):U=U.next=oe,_e.lanes|=J,ii|=J;oe=Y.action,mo&&d(S,oe),S=Y.hasEagerState?Y.eagerState:d(S,oe)}else J={lane:oe,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(D=U=J,k=S):U=U.next=J,_e.lanes|=oe,ii|=oe;Y=Y.next}while(Y!==null&&Y!==a);if(U===null?k=S:U.next=D,!On(S,i.memoizedState)&&(Et=!0,re&&(d=ba,d!==null)))throw d;i.memoizedState=S,i.baseState=k,i.baseQueue=U,p.lastRenderedState=S}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Pg(i){var a=jt(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var p=d.dispatch,b=d.pending,S=a.memoizedState;if(b!==null){d.pending=null;var k=b=b.next;do S=i(S,k.action),k=k.next;while(k!==b);On(S,a.memoizedState)||(Et=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),d.lastRenderedState=S}return[S,p]}function SS(i,a,d){var p=_e,b=jt(),S=ze;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=a();var k=!On((Ze||b).memoizedState,d);if(k&&(b.memoizedState=d,Et=!0),b=b.queue,Bg(CS.bind(null,p,b,i),[i]),b.getSnapshot!==a||k||Tt!==null&&Tt.memoizedState.tag&1){if(p.flags|=2048,ja(9,{destroy:void 0},NS.bind(null,p,b,d,a),null),nt===null)throw Error(r(349));S||(cs&127)!==0||wS(p,a,d)}return d}function wS(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=_e.updateQueue,a===null?(a=zd(),_e.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function NS(i,a,d,p){a.value=d,a.getSnapshot=p,jS(a)&&kS(i)}function CS(i,a,d){return d(function(){jS(a)&&kS(i)})}function jS(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!On(i,d)}catch{return!0}}function kS(i){var a=io(i,2);a!==null&&Cn(a,i,2)}function Lg(i){var a=dn();if(typeof i=="function"){var d=i;if(i=d(),mo){qs(!0);try{d()}finally{qs(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},a}function TS(i,a,d,p){return i.baseState=d,Ig(i,Ze,typeof p=="function"?p:us)}function LO(i,a,d,p,b){if(Ud(i))throw Error(r(485));if(i=a.action,i!==null){var S={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){S.listeners.push(k)}};z.T!==null?d(!0):S.isTransition=!1,p(S),d=a.pending,d===null?(S.next=a.pending=S,ES(a,S)):(S.next=d.next,a.pending=d.next=S)}}function ES(i,a){var d=a.action,p=a.payload,b=i.state;if(a.isTransition){var S=z.T,k={};z.T=k;try{var D=d(b,p),U=z.S;U!==null&&U(k,D),_S(i,a,D)}catch(Y){zg(i,a,Y)}finally{S!==null&&k.types!==null&&(S.types=k.types),z.T=S}}else try{S=d(b,p),_S(i,a,S)}catch(Y){zg(i,a,Y)}}function _S(i,a,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){MS(i,a,p)},function(p){return zg(i,a,p)}):MS(i,a,d)}function MS(i,a,d){a.status="fulfilled",a.value=d,AS(a),i.state=d,a=i.pending,a!==null&&(d=a.next,d===a?i.pending=null:(d=d.next,a.next=d,ES(i,d)))}function zg(i,a,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=d,AS(a),a=a.next;while(a!==p)}i.action=null}function AS(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function RS(i,a){return a}function OS(i,a){if(ze){var d=nt.formState;if(d!==null){e:{var p=_e;if(ze){if(ot){t:{for(var b=ot,S=sr;b.nodeType!==8;){if(!S){b=null;break t}if(b=or(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){ot=or(b.nextSibling),p=b.data==="F!";break e}}Ys(p)}p=!1}p&&(a=d[0])}}return d=dn(),d.memoizedState=d.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RS,lastRenderedState:a},d.queue=p,d=JS.bind(null,_e,p),p.dispatch=d,p=Lg(!1),S=Fg.bind(null,_e,!1,p.queue),p=dn(),b={state:a,dispatch:null,action:i,pending:null},p.queue=b,d=LO.bind(null,_e,b,S,d),b.dispatch=d,p.memoizedState=i,[a,d,!1]}function DS(i){var a=jt();return IS(a,Ze,i)}function IS(i,a,d){if(a=Ig(i,a,RS)[0],i=Vd(us)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var p=ac(a)}catch(k){throw k===va?Md:k}else p=a;a=jt();var b=a.queue,S=b.dispatch;return d!==a.memoizedState&&(_e.flags|=2048,ja(9,{destroy:void 0},zO.bind(null,b,d),null)),[p,S,i]}function zO(i,a){i.action=a}function PS(i){var a=jt(),d=Ze;if(d!==null)return IS(a,d,i);jt(),a=a.memoizedState,d=jt();var p=d.queue.dispatch;return d.memoizedState=i,[a,p,!1]}function ja(i,a,d,p){return i={tag:i,create:d,deps:p,inst:a,next:null},a=_e.updateQueue,a===null&&(a=zd(),_e.updateQueue=a),d=a.lastEffect,d===null?a.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,a.lastEffect=i),i}function LS(){return jt().memoizedState}function $d(i,a,d,p){var b=dn();_e.flags|=i,b.memoizedState=ja(1|a,{destroy:void 0},d,p===void 0?null:p)}function Hd(i,a,d,p){var b=jt();p=p===void 0?null:p;var S=b.memoizedState.inst;Ze!==null&&p!==null&&_g(p,Ze.memoizedState.deps)?b.memoizedState=ja(a,S,d,p):(_e.flags|=i,b.memoizedState=ja(1|a,S,d,p))}function zS(i,a){$d(8390656,8,i,a)}function Bg(i,a){Hd(2048,8,i,a)}function BO(i){_e.flags|=4;var a=_e.updateQueue;if(a===null)a=zd(),_e.updateQueue=a,a.events=[i];else{var d=a.events;d===null?a.events=[i]:d.push(i)}}function BS(i){var a=jt().memoizedState;return BO({ref:a,nextImpl:i}),function(){if((qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function VS(i,a){return Hd(4,2,i,a)}function $S(i,a){return Hd(4,4,i,a)}function HS(i,a){if(typeof a=="function"){i=i();var d=a(i);return function(){typeof d=="function"?d():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function US(i,a,d){d=d!=null?d.concat([i]):null,Hd(4,4,HS.bind(null,a,i),d)}function Vg(){}function FS(i,a){var d=jt();a=a===void 0?null:a;var p=d.memoizedState;return a!==null&&_g(a,p[1])?p[0]:(d.memoizedState=[i,a],i)}function qS(i,a){var d=jt();a=a===void 0?null:a;var p=d.memoizedState;if(a!==null&&_g(a,p[1]))return p[0];if(p=i(),mo){qs(!0);try{i()}finally{qs(!1)}}return d.memoizedState=[p,a],p}function $g(i,a,d){return d===void 0||(cs&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=a:(i.memoizedState=d,i=Kw(),_e.lanes|=i,ii|=i,d)}function KS(i,a,d,p){return On(d,a)?d:wa.current!==null?(i=$g(i,d,p),On(i,a)||(Et=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(Pe&261930)===0?(Et=!0,i.memoizedState=d):(i=Kw(),_e.lanes|=i,ii|=i,a)}function QS(i,a,d,p,b){var S=Q.p;Q.p=S!==0&&8>S?S:8;var k=z.T,D={};z.T=D,Fg(i,!1,a,d);try{var U=b(),Y=z.S;if(Y!==null&&Y(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=DO(U,p);lc(i,a,re,Bn(i))}else lc(i,a,p,Bn(i))}catch(oe){lc(i,a,{then:function(){},status:"rejected",reason:oe},Bn())}finally{Q.p=S,k!==null&&D.types!==null&&(k.types=D.types),z.T=k}}function VO(){}function Hg(i,a,d,p){if(i.tag!==5)throw Error(r(476));var b=GS(i).queue;QS(i,b,a,F,d===null?VO:function(){return WS(i),d(p)})}function GS(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:F},next:null};var d={};return a.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:d},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function WS(i){var a=GS(i);a.next===null&&(a=i.alternate.memoizedState),lc(i,a.next.queue,{},Bn())}function Ug(){return Gt(jc)}function YS(){return jt().memoizedState}function XS(){return jt().memoizedState}function $O(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var d=Bn();i=Zs(d);var p=ei(a,i,d);p!==null&&(Cn(p,a,d),rc(p,a,d)),a={cache:xg()},i.payload=a;return}a=a.return}}function HO(i,a,d){var p=Bn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ud(i)?ZS(a,d):(d=ag(i,a,d,p),d!==null&&(Cn(d,i,p),ew(d,a,p)))}function JS(i,a,d){var p=Bn();lc(i,a,d,p)}function lc(i,a,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ud(i))ZS(a,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var k=a.lastRenderedState,D=S(k,d);if(b.hasEagerState=!0,b.eagerState=D,On(D,k))return Nd(i,a,b,0),nt===null&&wd(),!1}catch{}finally{}if(d=ag(i,a,b,p),d!==null)return Cn(d,i,p),ew(d,a,p),!0}return!1}function Fg(i,a,d,p){if(p={lane:2,revertLane:wy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Ud(i)){if(a)throw Error(r(479))}else a=ag(i,d,p,2),a!==null&&Cn(a,i,2)}function Ud(i){var a=i.alternate;return i===_e||a!==null&&a===_e}function ZS(i,a){Na=Pd=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function ew(i,a,d){if((d&4194048)!==0){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,i1(i,d)}}var cc={readContext:Gt,use:Bd,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};cc.useEffectEvent=gt;var tw={readContext:Gt,use:Bd,useCallback:function(i,a){return dn().memoizedState=[i,a===void 0?null:a],i},useContext:Gt,useEffect:zS,useImperativeHandle:function(i,a,d){d=d!=null?d.concat([i]):null,$d(4194308,4,HS.bind(null,a,i),d)},useLayoutEffect:function(i,a){return $d(4194308,4,i,a)},useInsertionEffect:function(i,a){$d(4,2,i,a)},useMemo:function(i,a){var d=dn();a=a===void 0?null:a;var p=i();if(mo){qs(!0);try{i()}finally{qs(!1)}}return d.memoizedState=[p,a],p},useReducer:function(i,a,d){var p=dn();if(d!==void 0){var b=d(a);if(mo){qs(!0);try{d(a)}finally{qs(!1)}}}else b=a;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=HO.bind(null,_e,i),[p.memoizedState,i]},useRef:function(i){var a=dn();return i={current:i},a.memoizedState=i},useState:function(i){i=Lg(i);var a=i.queue,d=JS.bind(null,_e,a);return a.dispatch=d,[i.memoizedState,d]},useDebugValue:Vg,useDeferredValue:function(i,a){var d=dn();return $g(d,i,a)},useTransition:function(){var i=Lg(!1);return i=QS.bind(null,_e,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,d){var p=_e,b=dn();if(ze){if(d===void 0)throw Error(r(407));d=d()}else{if(d=a(),nt===null)throw Error(r(349));(Pe&127)!==0||wS(p,a,d)}b.memoizedState=d;var S={value:d,getSnapshot:a};return b.queue=S,zS(CS.bind(null,p,S,i),[i]),p.flags|=2048,ja(9,{destroy:void 0},NS.bind(null,p,S,d,a),null),d},useId:function(){var i=dn(),a=nt.identifierPrefix;if(ze){var d=Lr,p=Pr;d=(p&~(1<<32-Rn(p)-1)).toString(32)+d,a="_"+a+"R_"+d,d=Ld++,0<d&&(a+="H"+d.toString(32)),a+="_"}else d=IO++,a="_"+a+"r_"+d.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Ug,useFormState:OS,useActionState:OS,useOptimistic:function(i){var a=dn();a.memoizedState=a.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=d,a=Fg.bind(null,_e,!0,d),d.dispatch=a,[i,a]},useMemoCache:Dg,useCacheRefresh:function(){return dn().memoizedState=$O.bind(null,_e)},useEffectEvent:function(i){var a=dn(),d={impl:i};return a.memoizedState=d,function(){if((qe&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},qg={readContext:Gt,use:Bd,useCallback:FS,useContext:Gt,useEffect:Bg,useImperativeHandle:US,useInsertionEffect:VS,useLayoutEffect:$S,useMemo:qS,useReducer:Vd,useRef:LS,useState:function(){return Vd(us)},useDebugValue:Vg,useDeferredValue:function(i,a){var d=jt();return KS(d,Ze.memoizedState,i,a)},useTransition:function(){var i=Vd(us)[0],a=jt().memoizedState;return[typeof i=="boolean"?i:ac(i),a]},useSyncExternalStore:SS,useId:YS,useHostTransitionStatus:Ug,useFormState:DS,useActionState:DS,useOptimistic:function(i,a){var d=jt();return TS(d,Ze,i,a)},useMemoCache:Dg,useCacheRefresh:XS};qg.useEffectEvent=BS;var nw={readContext:Gt,use:Bd,useCallback:FS,useContext:Gt,useEffect:Bg,useImperativeHandle:US,useInsertionEffect:VS,useLayoutEffect:$S,useMemo:qS,useReducer:Pg,useRef:LS,useState:function(){return Pg(us)},useDebugValue:Vg,useDeferredValue:function(i,a){var d=jt();return Ze===null?$g(d,i,a):KS(d,Ze.memoizedState,i,a)},useTransition:function(){var i=Pg(us)[0],a=jt().memoizedState;return[typeof i=="boolean"?i:ac(i),a]},useSyncExternalStore:SS,useId:YS,useHostTransitionStatus:Ug,useFormState:PS,useActionState:PS,useOptimistic:function(i,a){var d=jt();return Ze!==null?TS(d,Ze,i,a):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Dg,useCacheRefresh:XS};nw.useEffectEvent=BS;function Kg(i,a,d,p){a=i.memoizedState,d=d(p,a),d=d==null?a:g({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Qg={enqueueSetState:function(i,a,d){i=i._reactInternals;var p=Bn(),b=Zs(p);b.payload=a,d!=null&&(b.callback=d),a=ei(i,b,p),a!==null&&(Cn(a,i,p),rc(a,i,p))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var p=Bn(),b=Zs(p);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=ei(i,b,p),a!==null&&(Cn(a,i,p),rc(a,i,p))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=Bn(),p=Zs(d);p.tag=2,a!=null&&(p.callback=a),a=ei(i,p,d),a!==null&&(Cn(a,i,d),rc(a,i,d))}};function rw(i,a,d,p,b,S,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,S,k):a.prototype&&a.prototype.isPureReactComponent?!Wl(d,p)||!Wl(b,S):!0}function sw(i,a,d,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,p),a.state!==i&&Qg.enqueueReplaceState(a,a.state,null)}function go(i,a){var d=a;if("ref"in a){d={};for(var p in a)p!=="ref"&&(d[p]=a[p])}if(i=i.defaultProps){d===a&&(d=g({},d));for(var b in i)d[b]===void 0&&(d[b]=i[b])}return d}function iw(i){Sd(i)}function ow(i){console.error(i)}function aw(i){Sd(i)}function Fd(i,a){try{var d=i.onUncaughtError;d(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function lw(i,a,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Gg(i,a,d){return d=Zs(d),d.tag=3,d.payload={element:null},d.callback=function(){Fd(i,a)},d}function cw(i){return i=Zs(i),i.tag=3,i}function uw(i,a,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;i.payload=function(){return b(S)},i.callback=function(){lw(a,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){lw(a,d,p),typeof b!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function UO(i,a,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=d.alternate,a!==null&&ya(a,d,b,!0),d=In.current,d!==null){switch(d.tag){case 31:case 13:return ir===null?nf():d.alternate===null&&yt===0&&(yt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===Ad?d.flags|=16384:(a=d.updateQueue,a===null?d.updateQueue=new Set([p]):a.add(p),by(i,p,b)),!1;case 22:return d.flags|=65536,p===Ad?d.flags|=16384:(a=d.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=a):(d=a.retryQueue,d===null?a.retryQueue=new Set([p]):d.add(p)),by(i,p,b)),!1}throw Error(r(435,d.tag))}return by(i,p,b),nf(),!1}if(ze)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,p!==hg&&(i=Error(r(422),{cause:p}),Jl(tr(i,d)))):(p!==hg&&(a=Error(r(423),{cause:p}),Jl(tr(a,d))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=tr(p,d),b=Gg(i.stateNode,p,b),Cg(i,b),yt!==4&&(yt=2)),!1;var S=Error(r(520),{cause:p});if(S=tr(S,d),yc===null?yc=[S]:yc.push(S),yt!==4&&(yt=2),a===null)return!0;p=tr(p,d),d=a;do{switch(d.tag){case 3:return d.flags|=65536,i=b&-b,d.lanes|=i,i=Gg(d.stateNode,p,i),Cg(d,i),!1;case 1:if(a=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(oi===null||!oi.has(S))))return d.flags|=65536,b&=-b,d.lanes|=b,b=cw(b),uw(b,i,d,p),Cg(d,b),!1}d=d.return}while(d!==null);return!1}var Wg=Error(r(461)),Et=!1;function Wt(i,a,d,p){a.child=i===null?pS(a,null,d,p):po(a,i.child,d,p)}function dw(i,a,d,p,b){d=d.render;var S=a.ref;if("ref"in p){var k={};for(var D in p)D!=="ref"&&(k[D]=p[D])}else k=p;return co(a),p=Mg(i,a,d,k,S,b),D=Ag(),i!==null&&!Et?(Rg(i,a,b),ds(i,a,b)):(ze&&D&&dg(a),a.flags|=1,Wt(i,a,p,b),a.child)}function fw(i,a,d,p,b){if(i===null){var S=d.type;return typeof S=="function"&&!lg(S)&&S.defaultProps===void 0&&d.compare===null?(a.tag=15,a.type=S,hw(i,a,S,p,b)):(i=jd(d.type,null,p,a,a.mode,b),i.ref=a.ref,i.return=a,a.child=i)}if(S=i.child,!ry(i,b)){var k=S.memoizedProps;if(d=d.compare,d=d!==null?d:Wl,d(k,p)&&i.ref===a.ref)return ds(i,a,b)}return a.flags|=1,i=ss(S,p),i.ref=a.ref,i.return=a,a.child=i}function hw(i,a,d,p,b){if(i!==null){var S=i.memoizedProps;if(Wl(S,p)&&i.ref===a.ref)if(Et=!1,a.pendingProps=p=S,ry(i,b))(i.flags&131072)!==0&&(Et=!0);else return a.lanes=i.lanes,ds(i,a,b)}return Yg(i,a,d,p,b)}function pw(i,a,d,p){var b=p.children,S=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((a.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,i!==null){for(p=a.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,a.child=null;return mw(i,a,S,d,p)}if((d&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&_d(a,S!==null?S.cachePool:null),S!==null?yS(a,S):kg(),xS(a);else return p=a.lanes=536870912,mw(i,a,S!==null?S.baseLanes|d:d,d,p)}else S!==null?(_d(a,S.cachePool),yS(a,S),ni(),a.memoizedState=null):(i!==null&&_d(a,null),kg(),ni());return Wt(i,a,b,d),a.child}function uc(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function mw(i,a,d,p,b){var S=vg();return S=S===null?null:{parent:kt._currentValue,pool:S},a.memoizedState={baseLanes:d,cachePool:S},i!==null&&_d(a,null),kg(),xS(a),i!==null&&ya(i,a,p,!0),a.childLanes=b,null}function qd(i,a){return a=Qd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function gw(i,a,d){return po(a,i.child,null,d),i=qd(a,a.pendingProps),i.flags|=2,Pn(a),a.memoizedState=null,i}function FO(i,a,d){var p=a.pendingProps,b=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(ze){if(p.mode==="hidden")return i=qd(a,p),a.lanes=536870912,uc(null,i);if(Eg(a),(i=ot)?(i=EN(i,sr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Gs!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},d=Z1(i),d.return=a,a.child=d,Qt=a,ot=null)):i=null,i===null)throw Ys(a);return a.lanes=536870912,null}return qd(a,p)}var S=i.memoizedState;if(S!==null){var k=S.dehydrated;if(Eg(a),b)if(a.flags&256)a.flags&=-257,a=gw(i,a,d);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Et||ya(i,a,d,!1),b=(d&i.childLanes)!==0,Et||b){if(p=nt,p!==null&&(k=o1(p,d),k!==0&&k!==S.retryLane))throw S.retryLane=k,io(i,k),Cn(p,i,k),Wg;nf(),a=gw(i,a,d)}else i=S.treeContext,ot=or(k.nextSibling),Qt=a,ze=!0,Ws=null,sr=!1,i!==null&&nS(a,i),a=qd(a,p),a.flags|=4096;return a}return i=ss(i.child,{mode:p.mode,children:p.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Kd(i,a){var d=a.ref;if(d===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(a.flags|=4194816)}}function Yg(i,a,d,p,b){return co(a),d=Mg(i,a,d,p,void 0,b),p=Ag(),i!==null&&!Et?(Rg(i,a,b),ds(i,a,b)):(ze&&p&&dg(a),a.flags|=1,Wt(i,a,d,b),a.child)}function yw(i,a,d,p,b,S){return co(a),a.updateQueue=null,d=vS(a,p,d,b),bS(i),p=Ag(),i!==null&&!Et?(Rg(i,a,S),ds(i,a,S)):(ze&&p&&dg(a),a.flags|=1,Wt(i,a,d,S),a.child)}function xw(i,a,d,p,b){if(co(a),a.stateNode===null){var S=ha,k=d.contextType;typeof k=="object"&&k!==null&&(S=Gt(k)),S=new d(p,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Qg,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=p,S.state=a.memoizedState,S.refs={},wg(a),k=d.contextType,S.context=typeof k=="object"&&k!==null?Gt(k):ha,S.state=a.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Kg(a,d,k,p),S.state=a.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(k=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),k!==S.state&&Qg.enqueueReplaceState(S,S.state,null),ic(a,p,S,b),sc(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(i===null){S=a.stateNode;var D=a.memoizedProps,U=go(d,D);S.props=U;var Y=S.context,re=d.contextType;k=ha,typeof re=="object"&&re!==null&&(k=Gt(re));var oe=d.getDerivedStateFromProps;re=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||Y!==k)&&sw(a,S,p,k),Js=!1;var J=a.memoizedState;S.state=J,ic(a,p,S,b),sc(),Y=a.memoizedState,D||J!==Y||Js?(typeof oe=="function"&&(Kg(a,d,oe,p),Y=a.memoizedState),(U=Js||rw(a,d,U,p,J,Y,k))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Y),S.props=p,S.state=Y,S.context=k,p=U):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,Ng(i,a),k=a.memoizedProps,re=go(d,k),S.props=re,oe=a.pendingProps,J=S.context,Y=d.contextType,U=ha,typeof Y=="object"&&Y!==null&&(U=Gt(Y)),D=d.getDerivedStateFromProps,(Y=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==oe||J!==U)&&sw(a,S,p,U),Js=!1,J=a.memoizedState,S.state=J,ic(a,p,S,b),sc();var ee=a.memoizedState;k!==oe||J!==ee||Js||i!==null&&i.dependencies!==null&&Td(i.dependencies)?(typeof D=="function"&&(Kg(a,d,D,p),ee=a.memoizedState),(re=Js||rw(a,d,re,p,J,ee,U)||i!==null&&i.dependencies!==null&&Td(i.dependencies))?(Y||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ee,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ee,U)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ee),S.props=p,S.state=ee,S.context=U,p=re):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),p=!1)}return S=p,Kd(i,a),p=(a.flags&128)!==0,S||p?(S=a.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,i!==null&&p?(a.child=po(a,i.child,null,b),a.child=po(a,null,d,b)):Wt(i,a,d,b),a.memoizedState=S.state,i=a.child):i=ds(i,a,b),i}function bw(i,a,d,p){return ao(),a.flags|=256,Wt(i,a,d,p),a.child}var Xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jg(i){return{baseLanes:i,cachePool:lS()}}function Zg(i,a,d){return i=i!==null?i.childLanes&~d:0,a&&(i|=zn),i}function vw(i,a,d){var p=a.pendingProps,b=!1,S=(a.flags&128)!==0,k;if((k=S)||(k=i!==null&&i.memoizedState===null?!1:(Ct.current&2)!==0),k&&(b=!0,a.flags&=-129),k=(a.flags&32)!==0,a.flags&=-33,i===null){if(ze){if(b?ti(a):ni(),(i=ot)?(i=EN(i,sr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Gs!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},d=Z1(i),d.return=a,a.child=d,Qt=a,ot=null)):i=null,i===null)throw Ys(a);return Iy(i)?a.lanes=32:a.lanes=536870912,null}var D=p.children;return p=p.fallback,b?(ni(),b=a.mode,D=Qd({mode:"hidden",children:D},b),p=oo(p,b,d,null),D.return=a,p.return=a,D.sibling=p,a.child=D,p=a.child,p.memoizedState=Jg(d),p.childLanes=Zg(i,k,d),a.memoizedState=Xg,uc(null,p)):(ti(a),ey(a,D))}var U=i.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(S)a.flags&256?(ti(a),a.flags&=-257,a=ty(i,a,d)):a.memoizedState!==null?(ni(),a.child=i.child,a.flags|=128,a=null):(ni(),D=p.fallback,b=a.mode,p=Qd({mode:"visible",children:p.children},b),D=oo(D,b,d,null),D.flags|=2,p.return=a,D.return=a,p.sibling=D,a.child=p,po(a,i.child,null,d),p=a.child,p.memoizedState=Jg(d),p.childLanes=Zg(i,k,d),a.memoizedState=Xg,a=uc(null,p));else if(ti(a),Iy(D)){if(k=D.nextSibling&&D.nextSibling.dataset,k)var Y=k.dgst;k=Y,p=Error(r(419)),p.stack="",p.digest=k,Jl({value:p,source:null,stack:null}),a=ty(i,a,d)}else if(Et||ya(i,a,d,!1),k=(d&i.childLanes)!==0,Et||k){if(k=nt,k!==null&&(p=o1(k,d),p!==0&&p!==U.retryLane))throw U.retryLane=p,io(i,p),Cn(k,i,p),Wg;Dy(D)||nf(),a=ty(i,a,d)}else Dy(D)?(a.flags|=192,a.child=i.child,a=null):(i=U.treeContext,ot=or(D.nextSibling),Qt=a,ze=!0,Ws=null,sr=!1,i!==null&&nS(a,i),a=ey(a,p.children),a.flags|=4096);return a}return b?(ni(),D=p.fallback,b=a.mode,U=i.child,Y=U.sibling,p=ss(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,Y!==null?D=ss(Y,D):(D=oo(D,b,d,null),D.flags|=2),D.return=a,p.return=a,p.sibling=D,a.child=p,uc(null,p),p=a.child,D=i.child.memoizedState,D===null?D=Jg(d):(b=D.cachePool,b!==null?(U=kt._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=lS(),D={baseLanes:D.baseLanes|d,cachePool:b}),p.memoizedState=D,p.childLanes=Zg(i,k,d),a.memoizedState=Xg,uc(i.child,p)):(ti(a),d=i.child,i=d.sibling,d=ss(d,{mode:"visible",children:p.children}),d.return=a,d.sibling=null,i!==null&&(k=a.deletions,k===null?(a.deletions=[i],a.flags|=16):k.push(i)),a.child=d,a.memoizedState=null,d)}function ey(i,a){return a=Qd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Qd(i,a){return i=Dn(22,i,null,a),i.lanes=0,i}function ty(i,a,d){return po(a,i.child,null,d),i=ey(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Sw(i,a,d){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),gg(i.return,a,d)}function ny(i,a,d,p,b,S){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:S}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=b,k.treeForkCount=S)}function ww(i,a,d){var p=a.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var k=Ct.current,D=(k&2)!==0;if(D?(k=k&1|2,a.flags|=128):k&=1,se(Ct,k),Wt(i,a,p,d),p=ze?Xl:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Sw(i,d,a);else if(i.tag===19)Sw(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(d=a.child,b=null;d!==null;)i=d.alternate,i!==null&&Id(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=a.child,a.child=null):(b=d.sibling,d.sibling=null),ny(a,!1,b,d,S,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=a.child,a.child=null;b!==null;){if(i=b.alternate,i!==null&&Id(i)===null){a.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}ny(a,!0,d,null,S,p);break;case"together":ny(a,!1,null,null,void 0,p);break;default:a.memoizedState=null}return a.child}function ds(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),ii|=a.lanes,(d&a.childLanes)===0)if(i!==null){if(ya(i,a,d,!1),(d&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,d=ss(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=ss(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function ry(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Td(i)))}function qO(i,a,d){switch(a.tag){case 3:ge(a,a.stateNode.containerInfo),Xs(a,kt,i.memoizedState.cache),ao();break;case 27:case 5:pe(a);break;case 4:ge(a,a.stateNode.containerInfo);break;case 10:Xs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Eg(a),null;break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(ti(a),a.flags|=128,null):(d&a.child.childLanes)!==0?vw(i,a,d):(ti(a),i=ds(i,a,d),i!==null?i.sibling:null);ti(a);break;case 19:var b=(i.flags&128)!==0;if(p=(d&a.childLanes)!==0,p||(ya(i,a,d,!1),p=(d&a.childLanes)!==0),b){if(p)return ww(i,a,d);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),se(Ct,Ct.current),p)break;return null;case 22:return a.lanes=0,pw(i,a,d,a.pendingProps);case 24:Xs(a,kt,i.memoizedState.cache)}return ds(i,a,d)}function Nw(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps)Et=!0;else{if(!ry(i,d)&&(a.flags&128)===0)return Et=!1,qO(i,a,d);Et=(i.flags&131072)!==0}else Et=!1,ze&&(a.flags&1048576)!==0&&tS(a,Xl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var p=a.pendingProps;if(i=fo(a.elementType),a.type=i,typeof i=="function")lg(i)?(p=go(i,p),a.tag=1,a=xw(null,a,i,p,d)):(a.tag=0,a=Yg(null,a,i,p,d));else{if(i!=null){var b=i.$$typeof;if(b===_){a.tag=11,a=dw(null,a,i,p,d);break e}else if(b===M){a.tag=14,a=fw(null,a,i,p,d);break e}}throw a=B(i)||i,Error(r(306,a,""))}}return a;case 0:return Yg(i,a,a.type,a.pendingProps,d);case 1:return p=a.type,b=go(p,a.pendingProps),xw(i,a,p,b,d);case 3:e:{if(ge(a,a.stateNode.containerInfo),i===null)throw Error(r(387));p=a.pendingProps;var S=a.memoizedState;b=S.element,Ng(i,a),ic(a,p,null,d);var k=a.memoizedState;if(p=k.cache,Xs(a,kt,p),p!==S.cache&&yg(a,[kt],d,!0),sc(),p=k.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:k.cache},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){a=bw(i,a,p,d);break e}else if(p!==b){b=tr(Error(r(424)),a),Jl(b),a=bw(i,a,p,d);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=or(i.firstChild),Qt=a,ze=!0,Ws=null,sr=!0,d=pS(a,null,p,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ao(),p===b){a=ds(i,a,d);break e}Wt(i,a,p,d)}a=a.child}return a;case 26:return Kd(i,a),i===null?(d=DN(a.type,null,a.pendingProps,null))?a.memoizedState=d:ze||(d=a.type,i=a.pendingProps,p=uf(de.current).createElement(d),p[Kt]=a,p[xn]=i,Yt(p,d,i),Vt(p),a.stateNode=p):a.memoizedState=DN(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return pe(a),i===null&&ze&&(p=a.stateNode=AN(a.type,a.pendingProps,de.current),Qt=a,sr=!0,b=ot,ui(a.type)?(Py=b,ot=or(p.firstChild)):ot=b),Wt(i,a,a.pendingProps.children,d),Kd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&ze&&((b=p=ot)&&(p=S3(p,a.type,a.pendingProps,sr),p!==null?(a.stateNode=p,Qt=a,ot=or(p.firstChild),sr=!1,b=!0):b=!1),b||Ys(a)),pe(a),b=a.type,S=a.pendingProps,k=i!==null?i.memoizedProps:null,p=S.children,Ay(b,S)?p=null:k!==null&&Ay(b,k)&&(a.flags|=32),a.memoizedState!==null&&(b=Mg(i,a,PO,null,null,d),jc._currentValue=b),Kd(i,a),Wt(i,a,p,d),a.child;case 6:return i===null&&ze&&((i=d=ot)&&(d=w3(d,a.pendingProps,sr),d!==null?(a.stateNode=d,Qt=a,ot=null,i=!0):i=!1),i||Ys(a)),null;case 13:return vw(i,a,d);case 4:return ge(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=po(a,null,p,d):Wt(i,a,p,d),a.child;case 11:return dw(i,a,a.type,a.pendingProps,d);case 7:return Wt(i,a,a.pendingProps,d),a.child;case 8:return Wt(i,a,a.pendingProps.children,d),a.child;case 12:return Wt(i,a,a.pendingProps.children,d),a.child;case 10:return p=a.pendingProps,Xs(a,a.type,p.value),Wt(i,a,p.children,d),a.child;case 9:return b=a.type._context,p=a.pendingProps.children,co(a),b=Gt(b),p=p(b),a.flags|=1,Wt(i,a,p,d),a.child;case 14:return fw(i,a,a.type,a.pendingProps,d);case 15:return hw(i,a,a.type,a.pendingProps,d);case 19:return ww(i,a,d);case 31:return FO(i,a,d);case 22:return pw(i,a,d,a.pendingProps);case 24:return co(a),p=Gt(kt),i===null?(b=vg(),b===null&&(b=nt,S=xg(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=d),b=S),a.memoizedState={parent:p,cache:b},wg(a),Xs(a,kt,b)):((i.lanes&d)!==0&&(Ng(i,a),ic(a,null,null,d),sc()),b=i.memoizedState,S=a.memoizedState,b.parent!==p?(b={parent:p,cache:p},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),Xs(a,kt,p)):(p=S.cache,Xs(a,kt,p),p!==b.cache&&yg(a,[kt],d,!0))),Wt(i,a,a.pendingProps.children,d),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function fs(i){i.flags|=4}function sy(i,a,d,p,b){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(Yw())i.flags|=8192;else throw ho=Ad,Sg}else i.flags&=-16777217}function Cw(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!BN(a))if(Yw())i.flags|=8192;else throw ho=Ad,Sg}function Gd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?r1():536870912,i.lanes|=a,_a|=a)}function dc(i,a){if(!ze)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function at(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(a)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=d,a}function KO(i,a,d){var p=a.pendingProps;switch(fg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(a),null;case 1:return at(a),null;case 3:return d=a.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),ls(kt),fe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(ga(a)?fs(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pg())),at(a),null;case 26:var b=a.type,S=a.memoizedState;return i===null?(fs(a),S!==null?(at(a),Cw(a,S)):(at(a),sy(a,b,null,p,d))):S?S!==i.memoizedState?(fs(a),at(a),Cw(a,S)):(at(a),a.flags&=-16777217):(i=i.memoizedProps,i!==p&&fs(a),at(a),sy(a,b,i,p,d)),null;case 27:if(Ce(a),d=de.current,b=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==p&&fs(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return at(a),null}i=ne.current,ga(a)?rS(a):(i=AN(b,p,d),a.stateNode=i,fs(a))}return at(a),null;case 5:if(Ce(a),b=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==p&&fs(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return at(a),null}if(S=ne.current,ga(a))rS(a);else{var k=uf(de.current);switch(S){case 1:S=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=k.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?k.createElement(b,{is:p.is}):k.createElement(b)}}S[Kt]=a,S[xn]=p;e:for(k=a.child;k!==null;){if(k.tag===5||k.tag===6)S.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===a)break e;for(;k.sibling===null;){if(k.return===null||k.return===a)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}a.stateNode=S;e:switch(Yt(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&fs(a)}}return at(a),sy(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,d),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==p&&fs(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(r(166));if(i=de.current,ga(a)){if(i=a.stateNode,d=a.memoizedProps,p=null,b=Qt,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Kt]=a,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||vN(i.nodeValue,d)),i||Ys(a,!0)}else i=uf(i).createTextNode(p),i[Kt]=a,a.stateNode=i}return at(a),null;case 31:if(d=a.memoizedState,i===null||i.memoizedState!==null){if(p=ga(a),d!==null){if(i===null){if(!p)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Kt]=a}else ao(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;at(a),i=!1}else d=pg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return a.flags&256?(Pn(a),a):(Pn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return at(a),null;case 13:if(p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=ga(a),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Kt]=a}else ao(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;at(a),b=!1}else b=pg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(Pn(a),a):(Pn(a),null)}return Pn(a),(a.flags&128)!==0?(a.lanes=d,a):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=a.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),d!==i&&d&&(a.child.flags|=8192),Gd(a,a.updateQueue),at(a),null);case 4:return fe(),i===null&&ky(a.stateNode.containerInfo),at(a),null;case 10:return ls(a.type),at(a),null;case 19:if(X(Ct),p=a.memoizedState,p===null)return at(a),null;if(b=(a.flags&128)!==0,S=p.rendering,S===null)if(b)dc(p,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(S=Id(i),S!==null){for(a.flags|=128,dc(p,!1),i=S.updateQueue,a.updateQueue=i,Gd(a,i),a.subtreeFlags=0,i=d,d=a.child;d!==null;)J1(d,i),d=d.sibling;return se(Ct,Ct.current&1|2),ze&&is(a,p.treeForkCount),a.child}i=i.sibling}p.tail!==null&&Fe()>Zd&&(a.flags|=128,b=!0,dc(p,!1),a.lanes=4194304)}else{if(!b)if(i=Id(S),i!==null){if(a.flags|=128,b=!0,i=i.updateQueue,a.updateQueue=i,Gd(a,i),dc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!ze)return at(a),null}else 2*Fe()-p.renderingStartTime>Zd&&d!==536870912&&(a.flags|=128,b=!0,dc(p,!1),a.lanes=4194304);p.isBackwards?(S.sibling=a.child,a.child=S):(i=p.last,i!==null?i.sibling=S:a.child=S,p.last=S)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Fe(),i.sibling=null,d=Ct.current,se(Ct,b?d&1|2:d&1),ze&&is(a,p.treeForkCount),i):(at(a),null);case 22:case 23:return Pn(a),Tg(),p=a.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(d&536870912)!==0&&(a.flags&128)===0&&(at(a),a.subtreeFlags&6&&(a.flags|=8192)):at(a),d=a.updateQueue,d!==null&&Gd(a,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==d&&(a.flags|=2048),i!==null&&X(uo),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),ls(kt),at(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function QO(i,a){switch(fg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ls(kt),fe(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ce(a),null;case 31:if(a.memoizedState!==null){if(Pn(a),a.alternate===null)throw Error(r(340));ao()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Pn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ao()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return X(Ct),null;case 4:return fe(),null;case 10:return ls(a.type),null;case 22:case 23:return Pn(a),Tg(),i!==null&&X(uo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ls(kt),null;case 25:return null;default:return null}}function jw(i,a){switch(fg(a),a.tag){case 3:ls(kt),fe();break;case 26:case 27:case 5:Ce(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&Pn(a);break;case 13:Pn(a);break;case 19:X(Ct);break;case 10:ls(a.type);break;case 22:case 23:Pn(a),Tg(),i!==null&&X(uo);break;case 24:ls(kt)}}function fc(i,a){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){p=void 0;var S=d.create,k=d.inst;p=S(),k.destroy=p}d=d.next}while(d!==b)}}catch(D){Ye(a,a.return,D)}}function ri(i,a,d){try{var p=a.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&i)===i){var k=p.inst,D=k.destroy;if(D!==void 0){k.destroy=void 0,b=a;var U=d,Y=D;try{Y()}catch(re){Ye(b,U,re)}}}p=p.next}while(p!==S)}}catch(re){Ye(a,a.return,re)}}function kw(i){var a=i.updateQueue;if(a!==null){var d=i.stateNode;try{gS(a,d)}catch(p){Ye(i,i.return,p)}}}function Tw(i,a,d){d.props=go(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Ye(i,a,p)}}function hc(i,a){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(b){Ye(i,a,b)}}function zr(i,a){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){Ye(i,a,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Ye(i,a,b)}else d.current=null}function Ew(i){var a=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){Ye(i,i.return,b)}}function iy(i,a,d){try{var p=i.stateNode;m3(p,i.type,d,a),p[xn]=a}catch(b){Ye(i,i.return,b)}}function _w(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ui(i.type)||i.tag===4}function oy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_w(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ui(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ay(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,a):(a=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,a.appendChild(i),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=ns));else if(p!==4&&(p===27&&ui(i.type)&&(d=i.stateNode,a=null),i=i.child,i!==null))for(ay(i,a,d),i=i.sibling;i!==null;)ay(i,a,d),i=i.sibling}function Wd(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(p!==4&&(p===27&&ui(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Wd(i,a,d),i=i.sibling;i!==null;)Wd(i,a,d),i=i.sibling}function Mw(i){var a=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);Yt(a,p,d),a[Kt]=i,a[xn]=d}catch(S){Ye(i,i.return,S)}}var hs=!1,_t=!1,ly=!1,Aw=typeof WeakSet=="function"?WeakSet:Set,$t=null;function GO(i,a){if(i=i.containerInfo,_y=yf,i=U1(i),tg(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var k=0,D=-1,U=-1,Y=0,re=0,oe=i,J=null;t:for(;;){for(var ee;oe!==d||b!==0&&oe.nodeType!==3||(D=k+b),oe!==S||p!==0&&oe.nodeType!==3||(U=k+p),oe.nodeType===3&&(k+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)J=oe,oe=ee;for(;;){if(oe===i)break t;if(J===d&&++Y===b&&(D=k),J===S&&++re===p&&(U=k),(ee=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ee}d=D===-1||U===-1?null:{start:D,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(My={focusedElem:i,selectionRange:d},yf=!1,$t=a;$t!==null;)if(a=$t,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,$t=i;else for(;$t!==null;){switch(a=$t,S=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)b=i[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,d=a,b=S.memoizedProps,S=S.memoizedState,p=d.stateNode;try{var ye=go(d.type,b);i=p.getSnapshotBeforeUpdate(ye,S),p.__reactInternalSnapshotBeforeUpdate=i}catch(je){Ye(d,d.return,je)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,d=i.nodeType,d===9)Oy(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Oy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,$t=i;break}$t=a.return}}function Rw(i,a,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:ms(i,d),p&4&&fc(5,d);break;case 1:if(ms(i,d),p&4)if(i=d.stateNode,a===null)try{i.componentDidMount()}catch(k){Ye(d,d.return,k)}else{var b=go(d.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(b,a,i.__reactInternalSnapshotBeforeUpdate)}catch(k){Ye(d,d.return,k)}}p&64&&kw(d),p&512&&hc(d,d.return);break;case 3:if(ms(i,d),p&64&&(i=d.updateQueue,i!==null)){if(a=null,d.child!==null)switch(d.child.tag){case 27:case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}try{gS(i,a)}catch(k){Ye(d,d.return,k)}}break;case 27:a===null&&p&4&&Mw(d);case 26:case 5:ms(i,d),a===null&&p&4&&Ew(d),p&512&&hc(d,d.return);break;case 12:ms(i,d);break;case 31:ms(i,d),p&4&&Iw(i,d);break;case 13:ms(i,d),p&4&&Pw(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=r3.bind(null,d),N3(i,d))));break;case 22:if(p=d.memoizedState!==null||hs,!p){a=a!==null&&a.memoizedState!==null||_t,b=hs;var S=_t;hs=p,(_t=a)&&!S?gs(i,d,(d.subtreeFlags&8772)!==0):ms(i,d),hs=b,_t=S}break;case 30:break;default:ms(i,d)}}function Ow(i){var a=i.alternate;a!==null&&(i.alternate=null,Ow(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&zm(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ut=null,vn=!1;function ps(i,a,d){for(d=d.child;d!==null;)Dw(i,a,d),d=d.sibling}function Dw(i,a,d){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ll,d)}catch{}switch(d.tag){case 26:_t||zr(d,a),ps(i,a,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:_t||zr(d,a);var p=ut,b=vn;ui(d.type)&&(ut=d.stateNode,vn=!1),ps(i,a,d),wc(d.stateNode),ut=p,vn=b;break;case 5:_t||zr(d,a);case 6:if(p=ut,b=vn,ut=null,ps(i,a,d),ut=p,vn=b,ut!==null)if(vn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(d.stateNode)}catch(S){Ye(d,a,S)}else try{ut.removeChild(d.stateNode)}catch(S){Ye(d,a,S)}break;case 18:ut!==null&&(vn?(i=ut,kN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),La(i)):kN(ut,d.stateNode));break;case 4:p=ut,b=vn,ut=d.stateNode.containerInfo,vn=!0,ps(i,a,d),ut=p,vn=b;break;case 0:case 11:case 14:case 15:ri(2,d,a),_t||ri(4,d,a),ps(i,a,d);break;case 1:_t||(zr(d,a),p=d.stateNode,typeof p.componentWillUnmount=="function"&&Tw(d,a,p)),ps(i,a,d);break;case 21:ps(i,a,d);break;case 22:_t=(p=_t)||d.memoizedState!==null,ps(i,a,d),_t=p;break;default:ps(i,a,d)}}function Iw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{La(i)}catch(d){Ye(a,a.return,d)}}}function Pw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{La(i)}catch(d){Ye(a,a.return,d)}}function WO(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Aw),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Aw),a;default:throw Error(r(435,i.tag))}}function Yd(i,a){var d=WO(i);a.forEach(function(p){if(!d.has(p)){d.add(p);var b=s3.bind(null,i,p);p.then(b,b)}})}function Sn(i,a){var d=a.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],S=i,k=a,D=k;e:for(;D!==null;){switch(D.tag){case 27:if(ui(D.type)){ut=D.stateNode,vn=!1;break e}break;case 5:ut=D.stateNode,vn=!1;break e;case 3:case 4:ut=D.stateNode.containerInfo,vn=!0;break e}D=D.return}if(ut===null)throw Error(r(160));Dw(S,k,b),ut=null,vn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Lw(a,i),a=a.sibling}var br=null;function Lw(i,a){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(a,i),wn(i),p&4&&(ri(3,i,i.return),fc(3,i),ri(5,i,i.return));break;case 1:Sn(a,i),wn(i),p&512&&(_t||d===null||zr(d,d.return)),p&64&&hs&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=br;if(Sn(a,i),wn(i),p&512&&(_t||d===null||zr(d,d.return)),p&4){var S=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[Vl]||S[Kt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),Yt(S,p,d),S[Kt]=i,Vt(S),p=S;break e;case"link":var k=LN("link","href",b).get(p+(d.href||""));if(k){for(var D=0;D<k.length;D++)if(S=k[D],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(D,1);break t}}S=b.createElement(p),Yt(S,p,d),b.head.appendChild(S);break;case"meta":if(k=LN("meta","content",b).get(p+(d.content||""))){for(D=0;D<k.length;D++)if(S=k[D],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(D,1);break t}}S=b.createElement(p),Yt(S,p,d),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[Kt]=i,Vt(S),p=S}i.stateNode=p}else zN(b,i.type,i.stateNode);else i.stateNode=PN(b,p,i.memoizedProps);else S!==p?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,p===null?zN(b,i.type,i.stateNode):PN(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&iy(i,i.memoizedProps,d.memoizedProps)}break;case 27:Sn(a,i),wn(i),p&512&&(_t||d===null||zr(d,d.return)),d!==null&&p&4&&iy(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Sn(a,i),wn(i),p&512&&(_t||d===null||zr(d,d.return)),i.flags&32){b=i.stateNode;try{oa(b,"")}catch(ye){Ye(i,i.return,ye)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,iy(i,b,d!==null?d.memoizedProps:b)),p&1024&&(ly=!0);break;case 6:if(Sn(a,i),wn(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(ye){Ye(i,i.return,ye)}}break;case 3:if(hf=null,b=br,br=df(a.containerInfo),Sn(a,i),br=b,wn(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{La(a.containerInfo)}catch(ye){Ye(i,i.return,ye)}ly&&(ly=!1,zw(i));break;case 4:p=br,br=df(i.stateNode.containerInfo),Sn(a,i),wn(i),br=p;break;case 12:Sn(a,i),wn(i);break;case 31:Sn(a,i),wn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Yd(i,p)));break;case 13:Sn(a,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Jd=Fe()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Yd(i,p)));break;case 22:b=i.memoizedState!==null;var U=d!==null&&d.memoizedState!==null,Y=hs,re=_t;if(hs=Y||b,_t=re||U,Sn(a,i),_t=re,hs=Y,wn(i),p&8192)e:for(a=i.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(d===null||U||hs||_t||yo(i)),d=null,a=i;;){if(a.tag===5||a.tag===26){if(d===null){U=d=a;try{if(S=U.stateNode,b)k=S.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{D=U.stateNode;var oe=U.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ye){Ye(U,U.return,ye)}}}else if(a.tag===6){if(d===null){U=a;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(ye){Ye(U,U.return,ye)}}}else if(a.tag===18){if(d===null){U=a;try{var ee=U.stateNode;b?TN(ee,!0):TN(U.stateNode,!1)}catch(ye){Ye(U,U.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;d===a&&(d=null),a=a.return}d===a&&(d=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Yd(i,d))));break;case 19:Sn(a,i),wn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Yd(i,p)));break;case 30:break;case 21:break;default:Sn(a,i),wn(i)}}function wn(i){var a=i.flags;if(a&2){try{for(var d,p=i.return;p!==null;){if(_w(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,S=oy(i);Wd(i,S,b);break;case 5:var k=d.stateNode;d.flags&32&&(oa(k,""),d.flags&=-33);var D=oy(i);Wd(i,D,k);break;case 3:case 4:var U=d.stateNode.containerInfo,Y=oy(i);ay(i,Y,U);break;default:throw Error(r(161))}}catch(re){Ye(i,i.return,re)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function zw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;zw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ms(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rw(i,a.alternate,a),a=a.sibling}function yo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ri(4,a,a.return),yo(a);break;case 1:zr(a,a.return);var d=a.stateNode;typeof d.componentWillUnmount=="function"&&Tw(a,a.return,d),yo(a);break;case 27:wc(a.stateNode);case 26:case 5:zr(a,a.return),yo(a);break;case 22:a.memoizedState===null&&yo(a);break;case 30:yo(a);break;default:yo(a)}i=i.sibling}}function gs(i,a,d){for(d=d&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,b=i,S=a,k=S.flags;switch(S.tag){case 0:case 11:case 15:gs(b,S,d),fc(4,S);break;case 1:if(gs(b,S,d),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Y){Ye(p,p.return,Y)}if(p=S,b=p.updateQueue,b!==null){var D=p.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)mS(U[b],D)}catch(Y){Ye(p,p.return,Y)}}d&&k&64&&kw(S),hc(S,S.return);break;case 27:Mw(S);case 26:case 5:gs(b,S,d),d&&p===null&&k&4&&Ew(S),hc(S,S.return);break;case 12:gs(b,S,d);break;case 31:gs(b,S,d),d&&k&4&&Iw(b,S);break;case 13:gs(b,S,d),d&&k&4&&Pw(b,S);break;case 22:S.memoizedState===null&&gs(b,S,d),hc(S,S.return);break;case 30:break;default:gs(b,S,d)}a=a.sibling}}function cy(i,a){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Zl(d))}function uy(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Zl(i))}function vr(i,a,d,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bw(i,a,d,p),a=a.sibling}function Bw(i,a,d,p){var b=a.flags;switch(a.tag){case 0:case 11:case 15:vr(i,a,d,p),b&2048&&fc(9,a);break;case 1:vr(i,a,d,p);break;case 3:vr(i,a,d,p),b&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Zl(i)));break;case 12:if(b&2048){vr(i,a,d,p),i=a.stateNode;try{var S=a.memoizedProps,k=S.id,D=S.onPostCommit;typeof D=="function"&&D(k,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){Ye(a,a.return,U)}}else vr(i,a,d,p);break;case 31:vr(i,a,d,p);break;case 13:vr(i,a,d,p);break;case 23:break;case 22:S=a.stateNode,k=a.alternate,a.memoizedState!==null?S._visibility&2?vr(i,a,d,p):pc(i,a):S._visibility&2?vr(i,a,d,p):(S._visibility|=2,ka(i,a,d,p,(a.subtreeFlags&10256)!==0||!1)),b&2048&&cy(k,a);break;case 24:vr(i,a,d,p),b&2048&&uy(a.alternate,a);break;default:vr(i,a,d,p)}}function ka(i,a,d,p,b){for(b=b&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var S=i,k=a,D=d,U=p,Y=k.flags;switch(k.tag){case 0:case 11:case 15:ka(S,k,D,U,b),fc(8,k);break;case 23:break;case 22:var re=k.stateNode;k.memoizedState!==null?re._visibility&2?ka(S,k,D,U,b):pc(S,k):(re._visibility|=2,ka(S,k,D,U,b)),b&&Y&2048&&cy(k.alternate,k);break;case 24:ka(S,k,D,U,b),b&&Y&2048&&uy(k.alternate,k);break;default:ka(S,k,D,U,b)}a=a.sibling}}function pc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var d=i,p=a,b=p.flags;switch(p.tag){case 22:pc(d,p),b&2048&&cy(p.alternate,p);break;case 24:pc(d,p),b&2048&&uy(p.alternate,p);break;default:pc(d,p)}a=a.sibling}}var mc=8192;function Ta(i,a,d){if(i.subtreeFlags&mc)for(i=i.child;i!==null;)Vw(i,a,d),i=i.sibling}function Vw(i,a,d){switch(i.tag){case 26:Ta(i,a,d),i.flags&mc&&i.memoizedState!==null&&I3(d,br,i.memoizedState,i.memoizedProps);break;case 5:Ta(i,a,d);break;case 3:case 4:var p=br;br=df(i.stateNode.containerInfo),Ta(i,a,d),br=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=mc,mc=16777216,Ta(i,a,d),mc=p):Ta(i,a,d));break;default:Ta(i,a,d)}}function $w(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function gc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];$t=p,Uw(p,i)}$w(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hw(i),i=i.sibling}function Hw(i){switch(i.tag){case 0:case 11:case 15:gc(i),i.flags&2048&&ri(9,i,i.return);break;case 3:gc(i);break;case 12:gc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Xd(i)):gc(i);break;default:gc(i)}}function Xd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];$t=p,Uw(p,i)}$w(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ri(8,a,a.return),Xd(a);break;case 22:d=a.stateNode,d._visibility&2&&(d._visibility&=-3,Xd(a));break;default:Xd(a)}i=i.sibling}}function Uw(i,a){for(;$t!==null;){var d=$t;switch(d.tag){case 0:case 11:case 15:ri(8,d,a);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Zl(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,$t=p;else e:for(d=i;$t!==null;){p=$t;var b=p.sibling,S=p.return;if(Ow(p),p===d){$t=null;break e}if(b!==null){b.return=S,$t=b;break e}$t=S}}}var YO={getCacheForType:function(i){var a=Gt(kt),d=a.data.get(i);return d===void 0&&(d=i(),a.data.set(i,d)),d},cacheSignal:function(){return Gt(kt).controller.signal}},XO=typeof WeakMap=="function"?WeakMap:Map,qe=0,nt=null,De=null,Pe=0,We=0,Ln=null,si=!1,Ea=!1,dy=!1,ys=0,yt=0,ii=0,xo=0,fy=0,zn=0,_a=0,yc=null,Nn=null,hy=!1,Jd=0,Fw=0,Zd=1/0,ef=null,oi=null,It=0,ai=null,Ma=null,xs=0,py=0,my=null,qw=null,xc=0,gy=null;function Bn(){return(qe&2)!==0&&Pe!==0?Pe&-Pe:z.T!==null?wy():a1()}function Kw(){if(zn===0)if((Pe&536870912)===0||ze){var i=ld;ld<<=1,(ld&3932160)===0&&(ld=262144),zn=i}else zn=536870912;return i=In.current,i!==null&&(i.flags|=32),zn}function Cn(i,a,d){(i===nt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Aa(i,0),li(i,Pe,zn,!1)),Bl(i,d),((qe&2)===0||i!==nt)&&(i===nt&&((qe&2)===0&&(xo|=d),yt===4&&li(i,Pe,zn,!1)),Br(i))}function Qw(i,a,d){if((qe&6)!==0)throw Error(r(327));var p=!d&&(a&127)===0&&(a&i.expiredLanes)===0||zl(i,a),b=p?e3(i,a):xy(i,a,!0),S=p;do{if(b===0){Ea&&!p&&li(i,a,0,!1);break}else{if(d=i.current.alternate,S&&!JO(d)){b=xy(i,a,!1),S=!1;continue}if(b===2){if(S=a,i.errorRecoveryDisabledLanes&S)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){a=k;e:{var D=i;b=yc;var U=D.current.memoizedState.isDehydrated;if(U&&(Aa(D,k).flags|=256),k=xy(D,k,!1),k!==2){if(dy&&!U){D.errorRecoveryDisabledLanes|=S,xo|=S,b=4;break e}S=Nn,Nn=b,S!==null&&(Nn===null?Nn=S:Nn.push.apply(Nn,S))}b=k}if(S=!1,b!==2)continue}}if(b===1){Aa(i,0),li(i,a,0,!0);break}e:{switch(p=i,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:li(p,a,zn,!si);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(b=Jd+300-Fe(),10<b)){if(li(p,a,zn,!si),ud(p,0,!0)!==0)break e;xs=a,p.timeoutHandle=CN(Gw.bind(null,p,d,Nn,ef,hy,a,zn,xo,_a,si,S,"Throttled",-0,0),b);break e}Gw(p,d,Nn,ef,hy,a,zn,xo,_a,si,S,null,-0,0)}}break}while(!0);Br(i)}function Gw(i,a,d,p,b,S,k,D,U,Y,re,oe,J,ee){if(i.timeoutHandle=-1,oe=a.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ns},Vw(a,S,oe);var ye=(S&62914560)===S?Jd-Fe():(S&4194048)===S?Fw-Fe():0;if(ye=P3(oe,ye),ye!==null){xs=S,i.cancelPendingCommit=ye(nN.bind(null,i,a,S,d,p,b,k,D,U,re,oe,null,J,ee)),li(i,S,k,!Y);return}}nN(i,a,S,d,p,b,k,D,U)}function JO(i){for(var a=i;;){var d=a.tag;if((d===0||d===11||d===15)&&a.flags&16384&&(d=a.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],S=b.getSnapshot;b=b.value;try{if(!On(S(),b))return!1}catch{return!1}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function li(i,a,d,p){a&=~fy,a&=~xo,i.suspendedLanes|=a,i.pingedLanes&=~a,p&&(i.warmLanes|=a),p=i.expirationTimes;for(var b=a;0<b;){var S=31-Rn(b),k=1<<S;p[S]=-1,b&=~k}d!==0&&s1(i,d,a)}function tf(){return(qe&6)===0?(bc(0),!1):!0}function yy(){if(De!==null){if(We===0)var i=De.return;else i=De,as=lo=null,Og(i),Sa=null,tc=0,i=De;for(;i!==null;)jw(i.alternate,i),i=i.return;De=null}}function Aa(i,a){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,x3(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),xs=0,yy(),nt=i,De=d=ss(i.current,null),Pe=a,We=0,Ln=null,si=!1,Ea=zl(i,a),dy=!1,_a=zn=fy=xo=ii=yt=0,Nn=yc=null,hy=!1,(a&8)!==0&&(a|=a&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=a;0<p;){var b=31-Rn(p),S=1<<b;a|=i[b],p&=~S}return ys=a,wd(),d}function Ww(i,a){_e=null,z.H=cc,a===va||a===Md?(a=dS(),We=3):a===Sg?(a=dS(),We=4):We=a===Wg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,De===null&&(yt=1,Fd(i,tr(a,i.current)))}function Yw(){var i=In.current;return i===null?!0:(Pe&4194048)===Pe?ir===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===ir:!1}function Xw(){var i=z.H;return z.H=cc,i===null?cc:i}function Jw(){var i=z.A;return z.A=YO,i}function nf(){yt=4,si||(Pe&4194048)!==Pe&&In.current!==null||(Ea=!0),(ii&134217727)===0&&(xo&134217727)===0||nt===null||li(nt,Pe,zn,!1)}function xy(i,a,d){var p=qe;qe|=2;var b=Xw(),S=Jw();(nt!==i||Pe!==a)&&(ef=null,Aa(i,a)),a=!1;var k=yt;e:do try{if(We!==0&&De!==null){var D=De,U=Ln;switch(We){case 8:yy(),k=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var Y=We;if(We=0,Ln=null,Ra(i,D,U,Y),d&&Ea){k=0;break e}break;default:Y=We,We=0,Ln=null,Ra(i,D,U,Y)}}ZO(),k=yt;break}catch(re){Ww(i,re)}while(!0);return a&&i.shellSuspendCounter++,as=lo=null,qe=p,z.H=b,z.A=S,De===null&&(nt=null,Pe=0,wd()),k}function ZO(){for(;De!==null;)Zw(De)}function e3(i,a){var d=qe;qe|=2;var p=Xw(),b=Jw();nt!==i||Pe!==a?(ef=null,Zd=Fe()+500,Aa(i,a)):Ea=zl(i,a);e:do try{if(We!==0&&De!==null){a=De;var S=Ln;t:switch(We){case 1:We=0,Ln=null,Ra(i,a,S,1);break;case 2:case 9:if(cS(S)){We=0,Ln=null,eN(a);break}a=function(){We!==2&&We!==9||nt!==i||(We=7),Br(i)},S.then(a,a);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:cS(S)?(We=0,Ln=null,eN(a)):(We=0,Ln=null,Ra(i,a,S,7));break;case 5:var k=null;switch(De.tag){case 26:k=De.memoizedState;case 5:case 27:var D=De;if(k?BN(k):D.stateNode.complete){We=0,Ln=null;var U=D.sibling;if(U!==null)De=U;else{var Y=D.return;Y!==null?(De=Y,rf(Y)):De=null}break t}}We=0,Ln=null,Ra(i,a,S,5);break;case 6:We=0,Ln=null,Ra(i,a,S,6);break;case 8:yy(),yt=6;break e;default:throw Error(r(462))}}t3();break}catch(re){Ww(i,re)}while(!0);return as=lo=null,z.H=p,z.A=b,qe=d,De!==null?0:(nt=null,Pe=0,wd(),yt)}function t3(){for(;De!==null&&!id();)Zw(De)}function Zw(i){var a=Nw(i.alternate,i,ys);i.memoizedProps=i.pendingProps,a===null?rf(i):De=a}function eN(i){var a=i,d=a.alternate;switch(a.tag){case 15:case 0:a=yw(d,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=yw(d,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:Og(a);default:jw(d,a),a=De=J1(a,ys),a=Nw(d,a,ys)}i.memoizedProps=i.pendingProps,a===null?rf(i):De=a}function Ra(i,a,d,p){as=lo=null,Og(a),Sa=null,tc=0;var b=a.return;try{if(UO(i,b,a,d,Pe)){yt=1,Fd(i,tr(d,i.current)),De=null;return}}catch(S){if(b!==null)throw De=b,S;yt=1,Fd(i,tr(d,i.current)),De=null;return}a.flags&32768?(ze||p===1?i=!0:Ea||(Pe&536870912)!==0?i=!1:(si=i=!0,(p===2||p===9||p===3||p===6)&&(p=In.current,p!==null&&p.tag===13&&(p.flags|=16384))),tN(a,i)):rf(a)}function rf(i){var a=i;do{if((a.flags&32768)!==0){tN(a,si);return}i=a.return;var d=KO(a.alternate,a,ys);if(d!==null){De=d;return}if(a=a.sibling,a!==null){De=a;return}De=a=i}while(a!==null);yt===0&&(yt=5)}function tN(i,a){do{var d=QO(i.alternate,i);if(d!==null){d.flags&=32767,De=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!a&&(i=i.sibling,i!==null)){De=i;return}De=i=d}while(i!==null);yt=6,De=null}function nN(i,a,d,p,b,S,k,D,U){i.cancelPendingCommit=null;do sf();while(It!==0);if((qe&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(S=a.lanes|a.childLanes,S|=og,DR(i,d,S,k,D,U),i===nt&&(De=nt=null,Pe=0),Ma=a,ai=i,xs=d,py=S,my=b,qw=p,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,i3(od,function(){return aN(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||p){p=z.T,z.T=null,b=Q.p,Q.p=2,k=qe,qe|=4;try{GO(i,a,d)}finally{qe=k,Q.p=b,z.T=p}}It=1,rN(),sN(),iN()}}function rN(){if(It===1){It=0;var i=ai,a=Ma,d=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||d){d=z.T,z.T=null;var p=Q.p;Q.p=2;var b=qe;qe|=4;try{Lw(a,i);var S=My,k=U1(i.containerInfo),D=S.focusedElem,U=S.selectionRange;if(k!==D&&D&&D.ownerDocument&&H1(D.ownerDocument.documentElement,D)){if(U!==null&&tg(D)){var Y=U.start,re=U.end;if(re===void 0&&(re=Y),"selectionStart"in D)D.selectionStart=Y,D.selectionEnd=Math.min(re,D.value.length);else{var oe=D.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ye=D.textContent.length,je=Math.min(U.start,ye),tt=U.end===void 0?je:Math.min(U.end,ye);!ee.extend&&je>tt&&(k=tt,tt=je,je=k);var G=$1(D,je),q=$1(D,tt);if(G&&q&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==q.node||ee.focusOffset!==q.offset)){var W=oe.createRange();W.setStart(G.node,G.offset),ee.removeAllRanges(),je>tt?(ee.addRange(W),ee.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ee.addRange(W))}}}}for(oe=[],ee=D;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<oe.length;D++){var ie=oe[D];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}yf=!!_y,My=_y=null}finally{qe=b,Q.p=p,z.T=d}}i.current=a,It=2}}function sN(){if(It===2){It=0;var i=ai,a=Ma,d=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||d){d=z.T,z.T=null;var p=Q.p;Q.p=2;var b=qe;qe|=4;try{Rw(i,a.alternate,a)}finally{qe=b,Q.p=p,z.T=d}}It=3}}function iN(){if(It===4||It===3){It=0,Je();var i=ai,a=Ma,d=xs,p=qw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?It=5:(It=0,Ma=ai=null,oN(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(oi=null),Pm(d),a=a.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ll,a,void 0,(a.current.flags&128)===128)}catch{}if(p!==null){a=z.T,b=Q.p,Q.p=2,z.T=null;try{for(var S=i.onRecoverableError,k=0;k<p.length;k++){var D=p[k];S(D.value,{componentStack:D.stack})}}finally{z.T=a,Q.p=b}}(xs&3)!==0&&sf(),Br(i),b=i.pendingLanes,(d&261930)!==0&&(b&42)!==0?i===gy?xc++:(xc=0,gy=i):xc=0,bc(0)}}function oN(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Zl(a)))}function sf(){return rN(),sN(),iN(),aN()}function aN(){if(It!==5)return!1;var i=ai,a=py;py=0;var d=Pm(xs),p=z.T,b=Q.p;try{Q.p=32>d?32:d,z.T=null,d=my,my=null;var S=ai,k=xs;if(It=0,Ma=ai=null,xs=0,(qe&6)!==0)throw Error(r(331));var D=qe;if(qe|=4,Hw(S.current),Bw(S,S.current,k,d),qe=D,bc(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ll,S)}catch{}return!0}finally{Q.p=b,z.T=p,oN(i,a)}}function lN(i,a,d){a=tr(d,a),a=Gg(i.stateNode,a,2),i=ei(i,a,2),i!==null&&(Bl(i,2),Br(i))}function Ye(i,a,d){if(i.tag===3)lN(i,i,d);else for(;a!==null;){if(a.tag===3){lN(a,i,d);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(oi===null||!oi.has(p))){i=tr(d,i),d=cw(2),p=ei(a,d,2),p!==null&&(uw(d,p,a,i),Bl(p,2),Br(p));break}}a=a.return}}function by(i,a,d){var p=i.pingCache;if(p===null){p=i.pingCache=new XO;var b=new Set;p.set(a,b)}else b=p.get(a),b===void 0&&(b=new Set,p.set(a,b));b.has(d)||(dy=!0,b.add(d),i=n3.bind(null,i,a,d),a.then(i,i))}function n3(i,a,d){var p=i.pingCache;p!==null&&p.delete(a),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,nt===i&&(Pe&d)===d&&(yt===4||yt===3&&(Pe&62914560)===Pe&&300>Fe()-Jd?(qe&2)===0&&Aa(i,0):fy|=d,_a===Pe&&(_a=0)),Br(i)}function cN(i,a){a===0&&(a=r1()),i=io(i,a),i!==null&&(Bl(i,a),Br(i))}function r3(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),cN(i,d)}function s3(i,a){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(a),cN(i,d)}function i3(i,a){return yr(i,a)}var of=null,Oa=null,vy=!1,af=!1,Sy=!1,ci=0;function Br(i){i!==Oa&&i.next===null&&(Oa===null?of=Oa=i:Oa=Oa.next=i),af=!0,vy||(vy=!0,a3())}function bc(i,a){if(!Sy&&af){Sy=!0;do for(var d=!1,p=of;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var k=p.suspendedLanes,D=p.pingedLanes;S=(1<<31-Rn(42|i)+1)-1,S&=b&~(k&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,hN(p,S))}else S=Pe,S=ud(p,p===nt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||zl(p,S)||(d=!0,hN(p,S));p=p.next}while(d);Sy=!1}}function o3(){uN()}function uN(){af=vy=!1;var i=0;ci!==0&&y3()&&(i=ci);for(var a=Fe(),d=null,p=of;p!==null;){var b=p.next,S=dN(p,a);S===0?(p.next=null,d===null?of=b:d.next=b,b===null&&(Oa=d)):(d=p,(i!==0||(S&3)!==0)&&(af=!0)),p=b}It!==0&&It!==5||bc(i),ci!==0&&(ci=0)}function dN(i,a){for(var d=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var k=31-Rn(S),D=1<<k,U=b[k];U===-1?((D&d)===0||(D&p)!==0)&&(b[k]=OR(D,a)):U<=a&&(i.expiredLanes|=D),S&=~D}if(a=nt,d=Pe,d=ud(i,i===a?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===a&&(We===2||We===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Fs(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||zl(i,d)){if(a=d&-d,a===i.callbackPriority)return a;switch(p!==null&&Fs(p),Pm(d)){case 2:case 8:d=t1;break;case 32:d=od;break;case 268435456:d=n1;break;default:d=od}return p=fN.bind(null,i),d=yr(d,p),i.callbackPriority=a,i.callbackNode=d,a}return p!==null&&p!==null&&Fs(p),i.callbackPriority=2,i.callbackNode=null,2}function fN(i,a){if(It!==0&&It!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(sf()&&i.callbackNode!==d)return null;var p=Pe;return p=ud(i,i===nt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(Qw(i,p,a),dN(i,Fe()),i.callbackNode!=null&&i.callbackNode===d?fN.bind(null,i):null)}function hN(i,a){if(sf())return null;Qw(i,a,!0)}function a3(){b3(function(){(qe&6)!==0?yr(Pl,o3):uN()})}function wy(){if(ci===0){var i=xa;i===0&&(i=ad,ad<<=1,(ad&261888)===0&&(ad=256)),ci=i}return ci}function pN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:pd(""+i)}function mN(i,a){var d=a.ownerDocument.createElement("input");return d.name=a.name,d.value=a.value,i.id&&d.setAttribute("form",i.id),a.parentNode.insertBefore(d,a),i=new FormData(i),d.parentNode.removeChild(d),i}function l3(i,a,d,p,b){if(a==="submit"&&d&&d.stateNode===b){var S=pN((b[xn]||null).action),k=p.submitter;k&&(a=(a=k[xn]||null)?pN(a.formAction):k.getAttribute("formAction"),a!==null&&(S=a,k=null));var D=new xd("action","action",null,p,b);i.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ci!==0){var U=k?mN(b,k):new FormData(b);Hg(d,{pending:!0,data:U,method:b.method,action:S},null,U)}}else typeof S=="function"&&(D.preventDefault(),U=k?mN(b,k):new FormData(b),Hg(d,{pending:!0,data:U,method:b.method,action:S},S,U))},currentTarget:b}]})}}for(var Ny=0;Ny<ig.length;Ny++){var Cy=ig[Ny],c3=Cy.toLowerCase(),u3=Cy[0].toUpperCase()+Cy.slice(1);xr(c3,"on"+u3)}xr(K1,"onAnimationEnd"),xr(Q1,"onAnimationIteration"),xr(G1,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(kO,"onTransitionRun"),xr(TO,"onTransitionStart"),xr(EO,"onTransitionCancel"),xr(W1,"onTransitionEnd"),sa("onMouseEnter",["mouseout","mouseover"]),sa("onMouseLeave",["mouseout","mouseover"]),sa("onPointerEnter",["pointerout","pointerover"]),sa("onPointerLeave",["pointerout","pointerover"]),to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),to("onBeforeInput",["compositionend","keypress","textInput","paste"]),to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function gN(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],b=p.event;p=p.listeners;e:{var S=void 0;if(a)for(var k=p.length-1;0<=k;k--){var D=p[k],U=D.instance,Y=D.currentTarget;if(D=D.listener,U!==S&&b.isPropagationStopped())break e;S=D,b.currentTarget=Y;try{S(b)}catch(re){Sd(re)}b.currentTarget=null,S=U}else for(k=0;k<p.length;k++){if(D=p[k],U=D.instance,Y=D.currentTarget,D=D.listener,U!==S&&b.isPropagationStopped())break e;S=D,b.currentTarget=Y;try{S(b)}catch(re){Sd(re)}b.currentTarget=null,S=U}}}}function Ie(i,a){var d=a[Lm];d===void 0&&(d=a[Lm]=new Set);var p=i+"__bubble";d.has(p)||(yN(a,i,2,!1),d.add(p))}function jy(i,a,d){var p=0;a&&(p|=4),yN(d,i,p,a)}var lf="_reactListening"+Math.random().toString(36).slice(2);function ky(i){if(!i[lf]){i[lf]=!0,u1.forEach(function(d){d!=="selectionchange"&&(d3.has(d)||jy(d,!1,i),jy(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[lf]||(a[lf]=!0,jy("selectionchange",!1,a))}}function yN(i,a,d,p){switch(KN(a)){case 2:var b=B3;break;case 8:b=V3;break;default:b=$y}d=b.bind(null,a,d,i),b=void 0,!Km||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(a,d,{capture:!0,passive:b}):i.addEventListener(a,d,!0):b!==void 0?i.addEventListener(a,d,{passive:b}):i.addEventListener(a,d,!1)}function Ty(i,a,d,p,b){var S=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var D=p.stateNode.containerInfo;if(D===b)break;if(k===4)for(k=p.return;k!==null;){var U=k.tag;if((U===3||U===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;D!==null;){if(k=ta(D),k===null)return;if(U=k.tag,U===5||U===6||U===26||U===27){p=S=k;continue e}D=D.parentNode}}p=p.return}w1(function(){var Y=S,re=Fm(d),oe=[];e:{var J=Y1.get(i);if(J!==void 0){var ee=xd,ye=i;switch(i){case"keypress":if(gd(d)===0)break e;case"keydown":case"keyup":ee=sO;break;case"focusin":ye="focus",ee=Ym;break;case"focusout":ye="blur",ee=Ym;break;case"beforeblur":case"afterblur":ee=Ym;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=KR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=aO;break;case K1:case Q1:case G1:ee=WR;break;case W1:ee=cO;break;case"scroll":case"scrollend":ee=FR;break;case"wheel":ee=dO;break;case"copy":case"cut":case"paste":ee=XR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=T1;break;case"toggle":case"beforetoggle":ee=hO}var je=(a&4)!==0,tt=!je&&(i==="scroll"||i==="scrollend"),G=je?J!==null?J+"Capture":null:J;je=[];for(var q=Y,W;q!==null;){var ie=q;if(W=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||W===null||G===null||(ie=Hl(q,G),ie!=null&&je.push(Sc(q,ie,W))),tt)break;q=q.return}0<je.length&&(J=new ee(J,ye,null,d,re),oe.push({event:J,listeners:je}))}}if((a&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&d!==Um&&(ye=d.relatedTarget||d.fromElement)&&(ta(ye)||ye[ea]))break e;if((ee||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ye=d.relatedTarget||d.toElement,ee=Y,ye=ye?ta(ye):null,ye!==null&&(tt=o(ye),je=ye.tag,ye!==tt||je!==5&&je!==27&&je!==6)&&(ye=null)):(ee=null,ye=Y),ee!==ye)){if(je=j1,ie="onMouseLeave",G="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(je=T1,ie="onPointerLeave",G="onPointerEnter",q="pointer"),tt=ee==null?J:$l(ee),W=ye==null?J:$l(ye),J=new je(ie,q+"leave",ee,d,re),J.target=tt,J.relatedTarget=W,ie=null,ta(re)===Y&&(je=new je(G,q+"enter",ye,d,re),je.target=W,je.relatedTarget=tt,ie=je),tt=ie,ee&&ye)t:{for(je=f3,G=ee,q=ye,W=0,ie=G;ie;ie=je(ie))W++;ie=0;for(var Se=q;Se;Se=je(Se))ie++;for(;0<W-ie;)G=je(G),W--;for(;0<ie-W;)q=je(q),ie--;for(;W--;){if(G===q||q!==null&&G===q.alternate){je=G;break t}G=je(G),q=je(q)}je=null}else je=null;ee!==null&&xN(oe,J,ee,je,!1),ye!==null&&tt!==null&&xN(oe,tt,ye,je,!0)}}e:{if(J=Y?$l(Y):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Be=I1;else if(O1(J))if(P1)Be=NO;else{Be=SO;var ve=vO}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Y&&Hm(Y.elementType)&&(Be=I1):Be=wO;if(Be&&(Be=Be(i,Y))){D1(oe,Be,d,re);break e}ve&&ve(i,J,Y),i==="focusout"&&Y&&J.type==="number"&&Y.memoizedProps.value!=null&&$m(J,"number",J.value)}switch(ve=Y?$l(Y):window,i){case"focusin":(O1(ve)||ve.contentEditable==="true")&&(ua=ve,ng=Y,Yl=null);break;case"focusout":Yl=ng=ua=null;break;case"mousedown":rg=!0;break;case"contextmenu":case"mouseup":case"dragend":rg=!1,F1(oe,d,re);break;case"selectionchange":if(jO)break;case"keydown":case"keyup":F1(oe,d,re)}var Me;if(Jm)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ca?A1(i,d)&&(Le="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(E1&&d.locale!=="ko"&&(ca||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ca&&(Me=N1()):(Qs=re,Qm="value"in Qs?Qs.value:Qs.textContent,ca=!0)),ve=cf(Y,Le),0<ve.length&&(Le=new k1(Le,i,null,d,re),oe.push({event:Le,listeners:ve}),Me?Le.data=Me:(Me=R1(d),Me!==null&&(Le.data=Me)))),(Me=mO?gO(i,d):yO(i,d))&&(Le=cf(Y,"onBeforeInput"),0<Le.length&&(ve=new k1("onBeforeInput","beforeinput",null,d,re),oe.push({event:ve,listeners:Le}),ve.data=Me)),l3(oe,i,Y,d,re)}gN(oe,a)})}function Sc(i,a,d){return{instance:i,listener:a,currentTarget:d}}function cf(i,a){for(var d=a+"Capture",p=[];i!==null;){var b=i,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Hl(i,d),b!=null&&p.unshift(Sc(i,b,S)),b=Hl(i,a),b!=null&&p.push(Sc(i,b,S))),i.tag===3)return p;i=i.return}return[]}function f3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function xN(i,a,d,p,b){for(var S=a._reactName,k=[];d!==null&&d!==p;){var D=d,U=D.alternate,Y=D.stateNode;if(D=D.tag,U!==null&&U===p)break;D!==5&&D!==26&&D!==27||Y===null||(U=Y,b?(Y=Hl(d,S),Y!=null&&k.unshift(Sc(d,Y,U))):b||(Y=Hl(d,S),Y!=null&&k.push(Sc(d,Y,U)))),d=d.return}k.length!==0&&i.push({event:a,listeners:k})}var h3=/\r\n?/g,p3=/\u0000|\uFFFD/g;function bN(i){return(typeof i=="string"?i:""+i).replace(h3,`
`).replace(p3,"")}function vN(i,a){return a=bN(a),bN(i)===a}function et(i,a,d,p,b,S){switch(d){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||oa(i,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&oa(i,""+p);break;case"className":fd(i,"class",p);break;case"tabIndex":fd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":fd(i,d,p);break;case"style":v1(i,p,S);break;case"data":if(a!=="object"){fd(i,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=pd(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(a!=="input"&&et(i,a,"name",b.name,b,null),et(i,a,"formEncType",b.formEncType,b,null),et(i,a,"formMethod",b.formMethod,b,null),et(i,a,"formTarget",b.formTarget,b,null)):(et(i,a,"encType",b.encType,b,null),et(i,a,"method",b.method,b,null),et(i,a,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=pd(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=ns);break;case"onScroll":p!=null&&Ie("scroll",i);break;case"onScrollEnd":p!=null&&Ie("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=pd(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":Ie("beforetoggle",i),Ie("toggle",i),dd(i,"popover",p);break;case"xlinkActuate":ts(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ts(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ts(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ts(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ts(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ts(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ts(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ts(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ts(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":dd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=HR.get(d)||d,dd(i,d,p))}}function Ey(i,a,d,p,b,S){switch(d){case"style":v1(i,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof p=="string"?oa(i,p):(typeof p=="number"||typeof p=="bigint")&&oa(i,""+p);break;case"onScroll":p!=null&&Ie("scroll",i);break;case"onScrollEnd":p!=null&&Ie("scrollend",i);break;case"onClick":p!=null&&(i.onclick=ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!d1.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),a=d.slice(2,b?d.length-7:void 0),S=i[xn]||null,S=S!=null?S[d]:null,typeof S=="function"&&i.removeEventListener(a,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(a,p,b);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):dd(i,d,p)}}}function Yt(i,a,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",i),Ie("load",i);var p=!1,b=!1,S;for(S in d)if(d.hasOwnProperty(S)){var k=d[S];if(k!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:et(i,a,S,k,d,null)}}b&&et(i,a,"srcSet",d.srcSet,d,null),p&&et(i,a,"src",d.src,d,null);return;case"input":Ie("invalid",i);var D=S=k=b=null,U=null,Y=null;for(p in d)if(d.hasOwnProperty(p)){var re=d[p];if(re!=null)switch(p){case"name":b=re;break;case"type":k=re;break;case"checked":U=re;break;case"defaultChecked":Y=re;break;case"value":S=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:et(i,a,p,re,d,null)}}g1(i,S,D,U,Y,k,b,!1);return;case"select":Ie("invalid",i),p=k=S=null;for(b in d)if(d.hasOwnProperty(b)&&(D=d[b],D!=null))switch(b){case"value":S=D;break;case"defaultValue":k=D;break;case"multiple":p=D;default:et(i,a,b,D,d,null)}a=S,d=k,i.multiple=!!p,a!=null?ia(i,!!p,a,!1):d!=null&&ia(i,!!p,d,!0);return;case"textarea":Ie("invalid",i),S=b=p=null;for(k in d)if(d.hasOwnProperty(k)&&(D=d[k],D!=null))switch(k){case"value":p=D;break;case"defaultValue":b=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:et(i,a,k,D,d,null)}x1(i,p,b,S);return;case"option":for(U in d)if(d.hasOwnProperty(U)&&(p=d[U],p!=null))switch(U){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:et(i,a,U,p,d,null)}return;case"dialog":Ie("beforetoggle",i),Ie("toggle",i),Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":Ie("load",i);break;case"video":case"audio":for(p=0;p<vc.length;p++)Ie(vc[p],i);break;case"image":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"embed":case"source":case"link":Ie("error",i),Ie("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in d)if(d.hasOwnProperty(Y)&&(p=d[Y],p!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:et(i,a,Y,p,d,null)}return;default:if(Hm(a)){for(re in d)d.hasOwnProperty(re)&&(p=d[re],p!==void 0&&Ey(i,a,re,p,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(p=d[D],p!=null&&et(i,a,D,p,d,null))}function m3(i,a,d,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,k=null,D=null,U=null,Y=null,re=null;for(ee in d){var oe=d[ee];if(d.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=oe;default:p.hasOwnProperty(ee)||et(i,a,ee,null,p,oe)}}for(var J in p){var ee=p[J];if(oe=d[J],p.hasOwnProperty(J)&&(ee!=null||oe!=null))switch(J){case"type":S=ee;break;case"name":b=ee;break;case"checked":Y=ee;break;case"defaultChecked":re=ee;break;case"value":k=ee;break;case"defaultValue":D=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:ee!==oe&&et(i,a,J,ee,p,oe)}}Vm(i,k,D,U,Y,re,S,b);return;case"select":ee=k=D=J=null;for(S in d)if(U=d[S],d.hasOwnProperty(S)&&U!=null)switch(S){case"value":break;case"multiple":ee=U;default:p.hasOwnProperty(S)||et(i,a,S,null,p,U)}for(b in p)if(S=p[b],U=d[b],p.hasOwnProperty(b)&&(S!=null||U!=null))switch(b){case"value":J=S;break;case"defaultValue":D=S;break;case"multiple":k=S;default:S!==U&&et(i,a,b,S,p,U)}a=D,d=k,p=ee,J!=null?ia(i,!!d,J,!1):!!p!=!!d&&(a!=null?ia(i,!!d,a,!0):ia(i,!!d,d?[]:"",!1));return;case"textarea":ee=J=null;for(D in d)if(b=d[D],d.hasOwnProperty(D)&&b!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:et(i,a,D,null,p,b)}for(k in p)if(b=p[k],S=d[k],p.hasOwnProperty(k)&&(b!=null||S!=null))switch(k){case"value":J=b;break;case"defaultValue":ee=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&et(i,a,k,b,p,S)}y1(i,J,ee);return;case"option":for(var ye in d)if(J=d[ye],d.hasOwnProperty(ye)&&J!=null&&!p.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:et(i,a,ye,null,p,J)}for(U in p)if(J=p[U],ee=d[U],p.hasOwnProperty(U)&&J!==ee&&(J!=null||ee!=null))switch(U){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:et(i,a,U,J,p,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in d)J=d[je],d.hasOwnProperty(je)&&J!=null&&!p.hasOwnProperty(je)&&et(i,a,je,null,p,J);for(Y in p)if(J=p[Y],ee=d[Y],p.hasOwnProperty(Y)&&J!==ee&&(J!=null||ee!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:et(i,a,Y,J,p,ee)}return;default:if(Hm(a)){for(var tt in d)J=d[tt],d.hasOwnProperty(tt)&&J!==void 0&&!p.hasOwnProperty(tt)&&Ey(i,a,tt,void 0,p,J);for(re in p)J=p[re],ee=d[re],!p.hasOwnProperty(re)||J===ee||J===void 0&&ee===void 0||Ey(i,a,re,J,p,ee);return}}for(var G in d)J=d[G],d.hasOwnProperty(G)&&J!=null&&!p.hasOwnProperty(G)&&et(i,a,G,null,p,J);for(oe in p)J=p[oe],ee=d[oe],!p.hasOwnProperty(oe)||J===ee||J==null&&ee==null||et(i,a,oe,J,p,ee)}function SN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],S=b.transferSize,k=b.initiatorType,D=b.duration;if(S&&D&&SN(k)){for(k=0,D=b.responseEnd,p+=1;p<d.length;p++){var U=d[p],Y=U.startTime;if(Y>D)break;var re=U.transferSize,oe=U.initiatorType;re&&SN(oe)&&(U=U.responseEnd,k+=re*(U<D?1:(D-Y)/(U-Y)))}if(--p,a+=8*(S+k)/(b.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _y=null,My=null;function uf(i){return i.nodeType===9?i:i.ownerDocument}function wN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NN(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Ay(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ry=null;function y3(){var i=window.event;return i&&i.type==="popstate"?i===Ry?!1:(Ry=i,!0):(Ry=null,!1)}var CN=typeof setTimeout=="function"?setTimeout:void 0,x3=typeof clearTimeout=="function"?clearTimeout:void 0,jN=typeof Promise=="function"?Promise:void 0,b3=typeof queueMicrotask=="function"?queueMicrotask:typeof jN<"u"?function(i){return jN.resolve(null).then(i).catch(v3)}:CN;function v3(i){setTimeout(function(){throw i})}function ui(i){return i==="head"}function kN(i,a){var d=a,p=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(b),La(a);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")wc(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,wc(d);for(var S=d.firstChild;S;){var k=S.nextSibling,D=S.nodeName;S[Vl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=k}}else d==="body"&&wc(i.ownerDocument.body);d=b}while(d);La(a)}function TN(i,a){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?a?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(a?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function Oy(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var d=a;switch(a=a.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Oy(d),zm(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function S3(i,a,d,p){for(;i.nodeType===1;){var b=d;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Vl])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=or(i.nextSibling),i===null)break}return null}function w3(i,a,d){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=or(i.nextSibling),i===null))return null;return i}function EN(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=or(i.nextSibling),i===null))return null;return i}function Dy(i){return i.data==="$?"||i.data==="$~"}function Iy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function N3(i,a){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||d.readyState!=="loading")a();else{var p=function(){a(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function or(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Py=null;function _N(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(a===0)return or(i.nextSibling);a--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||a++}i=i.nextSibling}return null}function MN(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(a===0)return i;a--}else d!=="/$"&&d!=="/&"||a++}i=i.previousSibling}return null}function AN(i,a,d){switch(a=uf(d),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function wc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);zm(i)}var ar=new Map,RN=new Set;function df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=Q.d;Q.d={f:C3,r:j3,D:k3,C:T3,L:E3,m:_3,X:A3,S:M3,M:R3};function C3(){var i=bs.f(),a=tf();return i||a}function j3(i){var a=na(i);a!==null&&a.tag===5&&a.type==="form"?WS(a):bs.r(i)}var Da=typeof document>"u"?null:document;function ON(i,a,d){var p=Da;if(p&&typeof a=="string"&&a){var b=Zn(a);b='link[rel="'+i+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),RN.has(b)||(RN.add(b),i={rel:i,crossOrigin:d,href:a},p.querySelector(b)===null&&(a=p.createElement("link"),Yt(a,"link",i),Vt(a),p.head.appendChild(a)))}}function k3(i){bs.D(i),ON("dns-prefetch",i,null)}function T3(i,a){bs.C(i,a),ON("preconnect",i,a)}function E3(i,a,d){bs.L(i,a,d);var p=Da;if(p&&i&&a){var b='link[rel="preload"][as="'+Zn(a)+'"]';a==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Zn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Zn(d.imageSizes)+'"]')):b+='[href="'+Zn(i)+'"]';var S=b;switch(a){case"style":S=Ia(i);break;case"script":S=Pa(i)}ar.has(S)||(i=g({rel:"preload",href:a==="image"&&d&&d.imageSrcSet?void 0:i,as:a},d),ar.set(S,i),p.querySelector(b)!==null||a==="style"&&p.querySelector(Nc(S))||a==="script"&&p.querySelector(Cc(S))||(a=p.createElement("link"),Yt(a,"link",i),Vt(a),p.head.appendChild(a)))}}function _3(i,a){bs.m(i,a);var d=Da;if(d&&i){var p=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+Zn(p)+'"][href="'+Zn(i)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Pa(i)}if(!ar.has(S)&&(i=g({rel:"modulepreload",href:i},a),ar.set(S,i),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Cc(S)))return}p=d.createElement("link"),Yt(p,"link",i),Vt(p),d.head.appendChild(p)}}}function M3(i,a,d){bs.S(i,a,d);var p=Da;if(p&&i){var b=ra(p).hoistableStyles,S=Ia(i);a=a||"default";var k=b.get(S);if(!k){var D={loading:0,preload:null};if(k=p.querySelector(Nc(S)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},d),(d=ar.get(S))&&Ly(i,d);var U=k=p.createElement("link");Vt(U),Yt(U,"link",i),U._p=new Promise(function(Y,re){U.onload=Y,U.onerror=re}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,ff(k,a,p)}k={type:"stylesheet",instance:k,count:1,state:D},b.set(S,k)}}}function A3(i,a){bs.X(i,a);var d=Da;if(d&&i){var p=ra(d).hoistableScripts,b=Pa(i),S=p.get(b);S||(S=d.querySelector(Cc(b)),S||(i=g({src:i,async:!0},a),(a=ar.get(b))&&zy(i,a),S=d.createElement("script"),Vt(S),Yt(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function R3(i,a){bs.M(i,a);var d=Da;if(d&&i){var p=ra(d).hoistableScripts,b=Pa(i),S=p.get(b);S||(S=d.querySelector(Cc(b)),S||(i=g({src:i,async:!0,type:"module"},a),(a=ar.get(b))&&zy(i,a),S=d.createElement("script"),Vt(S),Yt(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function DN(i,a,d,p){var b=(b=de.current)?df(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(a=Ia(d.href),d=ra(b).hoistableStyles,p=d.get(a),p||(p={type:"style",instance:null,count:0,state:null},d.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Ia(d.href);var S=ra(b).hoistableStyles,k=S.get(i);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,k),(S=b.querySelector(Nc(i)))&&!S._p&&(k.instance=S,k.state.loading=5),ar.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ar.set(i,d),S||O3(b,i,d,k.state))),a&&p===null)throw Error(r(528,""));return k}if(a&&p!==null)throw Error(r(529,""));return null;case"script":return a=d.async,d=d.src,typeof d=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pa(d),d=ra(b).hoistableScripts,p=d.get(a),p||(p={type:"script",instance:null,count:0,state:null},d.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ia(i){return'href="'+Zn(i)+'"'}function Nc(i){return'link[rel="stylesheet"]['+i+"]"}function IN(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function O3(i,a,d,p){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=i.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),Yt(a,"link",d),Vt(a),i.head.appendChild(a))}function Pa(i){return'[src="'+Zn(i)+'"]'}function Cc(i){return"script[async]"+i}function PN(i,a,d){if(a.count++,a.instance===null)switch(a.type){case"style":var p=i.querySelector('style[data-href~="'+Zn(d.href)+'"]');if(p)return a.instance=p,Vt(p),p;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Vt(p),Yt(p,"style",b),ff(p,d.precedence,i),a.instance=p;case"stylesheet":b=Ia(d.href);var S=i.querySelector(Nc(b));if(S)return a.state.loading|=4,a.instance=S,Vt(S),S;p=IN(d),(b=ar.get(b))&&Ly(p,b),S=(i.ownerDocument||i).createElement("link"),Vt(S);var k=S;return k._p=new Promise(function(D,U){k.onload=D,k.onerror=U}),Yt(S,"link",p),a.state.loading|=4,ff(S,d.precedence,i),a.instance=S;case"script":return S=Pa(d.src),(b=i.querySelector(Cc(S)))?(a.instance=b,Vt(b),b):(p=d,(b=ar.get(S))&&(p=g({},d),zy(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),Vt(b),Yt(b,"link",p),i.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,ff(p,d.precedence,i));return a.instance}function ff(i,a,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,k=0;k<p.length;k++){var D=p[k];if(D.dataset.precedence===a)S=D;else if(S!==b)break}S?S.parentNode.insertBefore(i,S.nextSibling):(a=d.nodeType===9?d.head:d,a.insertBefore(i,a.firstChild))}function Ly(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function zy(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var hf=null;function LN(i,a,d){if(hf===null){var p=new Map,b=hf=new Map;b.set(d,p)}else b=hf,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),b=0;b<d.length;b++){var S=d[b];if(!(S[Vl]||S[Kt]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var k=S.getAttribute(a)||"";k=i+k;var D=p.get(k);D?D.push(S):p.set(k,[S])}}return p}function zN(i,a,d){i=i.ownerDocument||i,i.head.insertBefore(d,a==="title"?i.querySelector("head > title"):null)}function D3(i,a,d){if(d===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function BN(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function I3(i,a,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Ia(p.href),S=a.querySelector(Nc(b));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=pf.bind(i),a.then(i,i)),d.state.loading|=4,d.instance=S,Vt(S);return}S=a.ownerDocument||a,p=IN(p),(b=ar.get(b))&&Ly(p,b),S=S.createElement("link"),Vt(S);var k=S;k._p=new Promise(function(D,U){k.onload=D,k.onerror=U}),Yt(S,"link",p),d.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,a),(a=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=pf.bind(i),a.addEventListener("load",d),a.addEventListener("error",d))}}var By=0;function P3(i,a){return i.stylesheets&&i.count===0&&gf(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+a);0<i.imgBytes&&By===0&&(By=62500*g3());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>By?50:800)+a);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mf=null;function gf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mf=new Map,a.forEach(L3,i),mf=null,pf.call(i))}function L3(i,a){if(!(a.state.loading&4)){var d=mf.get(i);if(d)var p=d.get(null);else{d=new Map,mf.set(i,d);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var k=b[S];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}b=a.instance,k=b.getAttribute("data-precedence"),S=d.get(k)||p,S===p&&d.set(null,b),d.set(k,b),this.count++,p=pf.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),a.state.loading|=4}}var jc={$$typeof:E,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function z3(i,a,d,p,b,S,k,D,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.hiddenUpdates=Dm(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function VN(i,a,d,p,b,S,k,D,U,Y,re,oe){return i=new z3(i,a,d,k,U,Y,re,oe,D),a=1,S===!0&&(a|=24),S=Dn(3,null,null,a),i.current=S,S.stateNode=i,a=xg(),a.refCount++,i.pooledCache=a,a.refCount++,S.memoizedState={element:p,isDehydrated:d,cache:a},wg(S),i}function $N(i){return i?(i=ha,i):ha}function HN(i,a,d,p,b,S){b=$N(b),p.context===null?p.context=b:p.pendingContext=b,p=Zs(a),p.payload={element:d},S=S===void 0?null:S,S!==null&&(p.callback=S),d=ei(i,p,a),d!==null&&(Cn(d,i,a),rc(d,i,a))}function UN(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function Vy(i,a){UN(i,a),(i=i.alternate)&&UN(i,a)}function FN(i){if(i.tag===13||i.tag===31){var a=io(i,67108864);a!==null&&Cn(a,i,67108864),Vy(i,67108864)}}function qN(i){if(i.tag===13||i.tag===31){var a=Bn();a=Im(a);var d=io(i,a);d!==null&&Cn(d,i,a),Vy(i,a)}}var yf=!0;function B3(i,a,d,p){var b=z.T;z.T=null;var S=Q.p;try{Q.p=2,$y(i,a,d,p)}finally{Q.p=S,z.T=b}}function V3(i,a,d,p){var b=z.T;z.T=null;var S=Q.p;try{Q.p=8,$y(i,a,d,p)}finally{Q.p=S,z.T=b}}function $y(i,a,d,p){if(yf){var b=Hy(p);if(b===null)Ty(i,a,p,xf,d),QN(i,p);else if(H3(b,i,a,d,p))p.stopPropagation();else if(QN(i,p),a&4&&-1<$3.indexOf(i)){for(;b!==null;){var S=na(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var k=eo(S.pendingLanes);if(k!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;k;){var U=1<<31-Rn(k);D.entanglements[1]|=U,k&=~U}Br(S),(qe&6)===0&&(Zd=Fe()+500,bc(0))}}break;case 31:case 13:D=io(S,2),D!==null&&Cn(D,S,2),tf(),Vy(S,2)}if(S=Hy(p),S===null&&Ty(i,a,p,xf,d),S===b)break;b=S}b!==null&&p.stopPropagation()}else Ty(i,a,p,null,d)}}function Hy(i){return i=Fm(i),Uy(i)}var xf=null;function Uy(i){if(xf=null,i=ta(i),i!==null){var a=o(i);if(a===null)i=null;else{var d=a.tag;if(d===13){if(i=l(a),i!==null)return i;i=null}else if(d===31){if(i=c(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return xf=i,null}function KN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case Pl:return 2;case t1:return 8;case od:case TR:return 32;case n1:return 268435456;default:return 32}default:return 32}}var Fy=!1,di=null,fi=null,hi=null,kc=new Map,Tc=new Map,pi=[],$3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QN(i,a){switch(i){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":kc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(a.pointerId)}}function Ec(i,a,d,p,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:a,domEventName:d,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},a!==null&&(a=na(a),a!==null&&FN(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),i)}function H3(i,a,d,p,b){switch(a){case"focusin":return di=Ec(di,i,a,d,p,b),!0;case"dragenter":return fi=Ec(fi,i,a,d,p,b),!0;case"mouseover":return hi=Ec(hi,i,a,d,p,b),!0;case"pointerover":var S=b.pointerId;return kc.set(S,Ec(kc.get(S)||null,i,a,d,p,b)),!0;case"gotpointercapture":return S=b.pointerId,Tc.set(S,Ec(Tc.get(S)||null,i,a,d,p,b)),!0}return!1}function GN(i){var a=ta(i.target);if(a!==null){var d=o(a);if(d!==null){if(a=d.tag,a===13){if(a=l(d),a!==null){i.blockedOn=a,l1(i.priority,function(){qN(d)});return}}else if(a===31){if(a=c(d),a!==null){i.blockedOn=a,l1(i.priority,function(){qN(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=Hy(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Um=p,d.target.dispatchEvent(p),Um=null}else return a=na(d),a!==null&&FN(a),i.blockedOn=d,!1;a.shift()}return!0}function WN(i,a,d){bf(i)&&d.delete(a)}function U3(){Fy=!1,di!==null&&bf(di)&&(di=null),fi!==null&&bf(fi)&&(fi=null),hi!==null&&bf(hi)&&(hi=null),kc.forEach(WN),Tc.forEach(WN)}function vf(i,a){i.blockedOn===a&&(i.blockedOn=null,Fy||(Fy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U3)))}var Sf=null;function YN(i){Sf!==i&&(Sf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sf===i&&(Sf=null);for(var a=0;a<i.length;a+=3){var d=i[a],p=i[a+1],b=i[a+2];if(typeof p!="function"){if(Uy(p||d)===null)continue;break}var S=na(d);S!==null&&(i.splice(a,3),a-=3,Hg(S,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function La(i){function a(U){return vf(U,i)}di!==null&&vf(di,i),fi!==null&&vf(fi,i),hi!==null&&vf(hi,i),kc.forEach(a),Tc.forEach(a);for(var d=0;d<pi.length;d++){var p=pi[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<pi.length&&(d=pi[0],d.blockedOn===null);)GN(d),d.blockedOn===null&&pi.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],S=d[p+1],k=b[xn]||null;if(typeof S=="function")k||YN(d);else if(k){var D=null;if(S&&S.hasAttribute("formAction")){if(b=S,k=S[xn]||null)D=k.formAction;else if(Uy(b)!==null)continue}else D=k.action;typeof D=="function"?d[p+1]=D:(d.splice(p,3),p-=3),YN(d)}}}function XN(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function a(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),b!==null&&(b(),b=null)}}}function qy(i){this._internalRoot=i}wf.prototype.render=qy.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var d=a.current,p=Bn();HN(d,p,i,a,null,null)},wf.prototype.unmount=qy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;HN(i.current,2,null,i,null,null),tf(),a[ea]=null}};function wf(i){this._internalRoot=i}wf.prototype.unstable_scheduleHydration=function(i){if(i){var a=a1();i={blockedOn:null,target:i,priority:a};for(var d=0;d<pi.length&&a!==0&&a<pi[d].priority;d++);pi.splice(d,0,i),d===0&&GN(i)}};var JN=e.version;if(JN!=="19.2.0")throw Error(r(527,JN,"19.2.0"));Q.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var F3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{Ll=Nf.inject(F3),An=Nf}catch{}}return Mc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var d=!1,p="",b=iw,S=ow,k=aw;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),a=VN(i,1,!1,null,null,d,p,null,b,S,k,XN),i[ea]=a.current,ky(i),new qy(a)},Mc.hydrateRoot=function(i,a,d){if(!s(i))throw Error(r(299));var p=!1,b="",S=iw,k=ow,D=aw,U=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.formState!==void 0&&(U=d.formState)),a=VN(i,1,!0,a,d??null,p,b,U,S,k,D,XN),a.context=$N(null),d=a.current,p=Bn(),p=Im(p),b=Zs(p),b.callback=null,ei(d,b,p),d=p,a.current.lanes=d,Bl(a,d),Br(a),i[ea]=a.current,ky(i),new wf(a)},Mc.version="19.2.0",Mc}var lC;function eD(){if(lC)return Gy.exports;lC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gy.exports=Z3(),Gy.exports}var tD=eD();const nD=Ip(tD),ax=new WeakMap,rD=new WeakMap,Nh={current:[]};let Jy=!1,Yc=0;const Vc=new Set,Cf=new Map;function Rk(t){for(const e of t){if(Nh.current.includes(e))continue;Nh.current.push(e),e.recompute();const n=rD.get(e);if(n)for(const r of n){const s=ax.get(r);s?.length&&Rk(s)}}}function sD(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function iD(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function Ok(t){if(Yc>0&&!Cf.has(t)&&Cf.set(t,t.prevState),Vc.add(t),!(Yc>0)&&!Jy)try{for(Jy=!0;Vc.size>0;){const e=Array.from(Vc);Vc.clear();for(const n of e){const r=Cf.get(n)??n.prevState;n.prevState=r,sD(n)}for(const n of e){const r=ax.get(n);r&&(Nh.current.push(n),Rk(r))}for(const n of e){const r=ax.get(n);if(r)for(const s of r)iD(s)}}}finally{Jy=!1,Nh.current=[],Cf.clear()}}function Xc(t){Yc++;try{t()}finally{if(Yc--,Yc===0){const e=Vc.values().next().value;e&&Ok(e)}}}function oD(t){return typeof t=="function"}class aD{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var s,o;this.listeners.add(r);const l=(o=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:o.call(s,r,this);return()=>{this.listeners.delete(r),l?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,r,s;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):oD(e)?this.state=e(this.prevState):this.state=e,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),Ok(this)}}const Ai="__TSR_index",cC="popstate",uC="beforeunload";function lD(t){let e=t.getLocation();const n=new Set,r=l=>{e=t.getLocation(),n.forEach(c=>c({location:e,action:l}))},s=l=>{t.notifyOnIndexChange??!0?r(l):e=t.getLocation()},o=async({task:l,navigateOpts:c,...f})=>{if(c?.ignoreBlocker??!1){l();return}const m=t.getBlockers?.()??[],g=f.type==="PUSH"||f.type==="REPLACE";if(typeof document<"u"&&m.length&&g)for(const y of m){const x=Ch(f.path,f.state);if(await y.blockerFn({currentLocation:e,nextLocation:x,action:f.type})){t.onBlocked?.();return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,f)=>{const h=e.state[Ai];c=dC(h+1,c),o({task:()=>{t.pushState(l,c),r({type:"PUSH"})},navigateOpts:f,type:"PUSH",path:l,state:c})},replace:(l,c,f)=>{const h=e.state[Ai];c=dC(h,c),o({task:()=>{t.replaceState(l,c),r({type:"REPLACE"})},navigateOpts:f,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{t.go(l),s({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{t.back(l?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{t.forward(l?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>e.state[Ai]!==0,createHref:l=>t.createHref(l),block:l=>{if(!t.setBlockers)return()=>{};const c=t.getBlockers?.()??[];return t.setBlockers([...c,l]),()=>{const f=t.getBlockers?.()??[];t.setBlockers?.(f.filter(h=>h!==l))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:r}}function dC(t,e){e||(e={});const n=Sb();return{...e,key:n,__TSR_key:n,[Ai]:t}}function cD(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let s=[];const o=()=>s,l=R=>s=R,c=(R=>R),f=(()=>Ch(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const R=Sb();e.history.replaceState({[Ai]:0,key:R,__TSR_key:R},"")}let h=f(),m,g=!1,y=!1,x=!1,v=!1;const w=()=>h;let N,j;const A=()=>{N&&(M._ignoreSubscribers=!0,(N.isPush?e.history.pushState:e.history.replaceState)(N.state,"",N.href),M._ignoreSubscribers=!1,N=void 0,j=void 0,m=void 0)},E=(R,I,L)=>{const P=c(I);j||(m=h),h=Ch(I,L),N={href:P,state:L,isPush:N?.isPush||R==="push"},j||(j=Promise.resolve().then(()=>A()))},_=R=>{h=f(),M.notify({type:R})},T=async()=>{if(y){y=!1;return}const R=f(),I=R.state[Ai]-h.state[Ai],L=I===1,P=I===-1,V=!L&&!P||g;g=!1;const H=V?"GO":P?"BACK":"FORWARD",B=V?{type:"GO",index:I}:{type:P?"BACK":"FORWARD"};if(x)x=!1;else{const K=o();if(typeof document<"u"&&K.length){for(const z of K)if(await z.blockerFn({currentLocation:h,nextLocation:R,action:H})){y=!0,e.history.go(1),M.notify(B);return}}}h=f(),M.notify(B)},O=R=>{if(v){v=!1;return}let I=!1;const L=o();if(typeof document<"u"&&L.length)for(const P of L){const V=P.enableBeforeUnload??!0;if(V===!0){I=!0;break}if(typeof V=="function"&&V()===!0){I=!0;break}}if(I)return R.preventDefault(),R.returnValue=""},M=lD({getLocation:w,getLength:()=>e.history.length,pushState:(R,I)=>E("push",R,I),replaceState:(R,I)=>E("replace",R,I),back:R=>(R&&(x=!0),v=!0,e.history.back()),forward:R=>{R&&(x=!0),v=!0,e.history.forward()},go:R=>{g=!0,e.history.go(R)},createHref:R=>c(R),flush:A,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(uC,O,{capture:!0}),e.removeEventListener(cC,T)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:o,setBlockers:l,notifyOnIndexChange:!1});return e.addEventListener(uC,O,{capture:!0}),e.addEventListener(cC,T),e.history.pushState=function(...R){const I=n.apply(e.history,R);return M._ignoreSubscribers||_("PUSH"),I},e.history.replaceState=function(...R){const I=r.apply(e.history,R);return M._ignoreSubscribers||_("REPLACE"),I},M}function Ch(t,e){const n=t.indexOf("#"),r=t.indexOf("?"),s=Sb();return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Ai]:0,key:s,__TSR_key:s}}}function Sb(){return(Math.random()+1).toString(36).substring(7)}function lx(t){return t[t.length-1]}function uD(t){return typeof t=="function"}function _o(t,e){return uD(t)?t(e):t}const dD=Object.prototype.hasOwnProperty;function cr(t,e){if(t===e)return t;const n=e,r=pC(t)&&pC(n);if(!r&&!(jh(t)&&jh(n)))return n;const s=r?t:fC(t);if(!s)return n;const o=r?n:fC(n);if(!o)return n;const l=s.length,c=o.length,f=r?new Array(c):{};let h=0;for(let m=0;m<c;m++){const g=r?m:o[m],y=t[g],x=n[g];if(y===x){f[g]=y,(r?m<l:dD.call(t,g))&&h++;continue}if(y===null||x===null||typeof y!="object"||typeof x!="object"){f[g]=x;continue}const v=cr(y,x);f[g]=v,v===y&&h++}return l===c&&h===l?t:f}function fC(t){const e=[],n=Object.getOwnPropertyNames(t);for(const s of n){if(!Object.prototype.propertyIsEnumerable.call(t,s))return!1;e.push(s)}const r=Object.getOwnPropertySymbols(t);for(const s of r){if(!Object.prototype.propertyIsEnumerable.call(t,s))return!1;e.push(s)}return e}function jh(t){if(!hC(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!hC(n)||!n.hasOwnProperty("isPrototypeOf"))}function hC(t){return Object.prototype.toString.call(t)==="[object Object]"}function pC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Mo(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let r=0,s=t.length;r<s;r++)if(!Mo(t[r],e[r],n))return!1;return!0}if(jh(t)&&jh(e)){const r=n?.ignoreUndefined??!0;if(n?.partial){for(const l in e)if((!r||e[l]!==void 0)&&!Mo(t[l],e[l],n))return!1;return!0}let s=0;if(!r)s=Object.keys(t).length;else for(const l in t)t[l]!==void 0&&s++;let o=0;for(const l in e)if((!r||e[l]!==void 0)&&(o++,o>s||!Mo(t[l],e[l],n)))return!1;return s===o}return!1}function rl(t){let e,n;const r=new Promise((s,o)=>{e=s,n=o});return r.status="pending",r.resolve=s=>{r.status="resolved",r.value=s,e(s),t?.(s)},r.reject=s=>{r.status="rejected",n(s)},r}function Ri(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}const fD=Array.from(new Map([["%","%25"],["\\","%5C"]]).values());function mC(t,e=fD){function n(s,o,l=0){for(let c=l;c<o.length;c++){const f=o[c].toUpperCase();if(s.includes(f)){const h=s.split(f),m=[];for(const g of h)m.push(n(g,o,c+1));return m.join(f)}}try{return decodeURI(s)}catch{return s.replaceAll(/%[0-9A-F]{2}/g,c=>{try{return decodeURI(c)}catch{return c}})}}if(t===""||!/%[0-9A-Fa-f]{2}/g.test(t))return t;const r=t.replaceAll(/%[0-9a-f]{2}/g,s=>s.toUpperCase());return n(r,e)}var hD="Invariant failed";function Ds(t,e){if(!t)throw new Error(hD)}const Gr=0,Lo=1,sl=2,il=3;function As(t){return wb(t.filter(e=>e!==void 0).join("/"))}function wb(t){return t.replace(/\/{2,}/g,"/")}function Nb(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Oi(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function ih(t){return Oi(Nb(t))}function kh(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function pD(t,e,n){return kh(t,n)===kh(e,n)}function mD(t){const{type:e,value:n}=t;if(e===Gr)return n;const{prefixSegment:r,suffixSegment:s}=t;if(e===Lo){const o=n.substring(1);if(r&&s)return`${r}{$${o}}${s}`;if(r)return`${r}{$${o}}`;if(s)return`{$${o}}${s}`}if(e===il){const o=n.substring(1);return r&&s?`${r}{-$${o}}${s}`:r?`${r}{-$${o}}`:s?`{-$${o}}${s}`:`{-$${o}}`}if(e===sl){if(r&&s)return`${r}{$}${s}`;if(r)return`${r}{$}`;if(s)return`{$}${s}`}return n}function gD({base:t,to:e,trailingSlash:n="never",parseCache:r}){let s=ol(t,r).slice();const o=ol(e,r);s.length>1&&lx(s)?.value==="/"&&s.pop();for(let f=0,h=o.length;f<h;f++){const m=o[f],g=m.value;g==="/"?f?f===h-1&&s.push(m):s=[m]:g===".."?s.pop():g==="."||s.push(m)}s.length>1&&(lx(s).value==="/"?n==="never"&&s.pop():n==="always"&&s.push({type:Gr,value:"/"}));const l=s.map(mD);return As(l)}const ol=(t,e)=>{if(!t)return[];const n=e?.get(t);if(n)return n;const r=wD(t);return e?.set(t,r),r},yD=/^\$.{1,}$/,xD=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,bD=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,vD=/^\$$/,SD=/^(.*?)\{\$\}(.*)$/;function wD(t){t=wb(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:Gr,value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>{const s=r.match(SD);if(s){const c=s[1],f=s[2];return{type:sl,value:"$",prefixSegment:c||void 0,suffixSegment:f||void 0}}const o=r.match(bD);if(o){const c=o[1],f=o[2],h=o[3];return{type:il,value:f,prefixSegment:c||void 0,suffixSegment:h||void 0}}const l=r.match(xD);if(l){const c=l[1],f=l[2],h=l[3];return{type:Lo,value:""+f,prefixSegment:c||void 0,suffixSegment:h||void 0}}if(yD.test(r)){const c=r.substring(1);return{type:Lo,value:"$"+c,prefixSegment:void 0,suffixSegment:void 0}}return vD.test(r)?{type:sl,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:Gr,value:r}})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:Gr,value:"/"})),e}function jf({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:s,parseCache:o}){const l=ol(t,o);function c(g){const y=e[g],x=typeof y=="string";return g==="*"||g==="_splat"?x?encodeURI(y):y:x?ND(y,s):y}let f=!1;const h={},m=As(l.map(g=>{if(g.type===Gr)return g.value;if(g.type===sl){h._splat=e._splat,h["*"]=e._splat;const y=g.prefixSegment||"",x=g.suffixSegment||"";if(!e._splat)return f=!0,n?`${y}${g.value}${x}`:y||x?`${y}${x}`:void 0;const v=c("_splat");return n?`${y}${g.value}${v??""}${x}`:`${y}${v}${x}`}if(g.type===Lo){const y=g.value.substring(1);!f&&!(y in e)&&(f=!0),h[y]=e[y];const x=g.prefixSegment||"",v=g.suffixSegment||"";if(r){const w=c(g.value);return`${x}${g.value}${w??""}${v}`}return`${x}${c(y)??"undefined"}${v}`}if(g.type===il){const y=g.value.substring(1),x=g.prefixSegment||"",v=g.suffixSegment||"";if(!(y in e)||e[y]==null)return n?`${x}${y}${v}`:x||v?`${x}${v}`:void 0;if(h[y]=e[y],r){const w=c(g.value);return`${x}${g.value}${w??""}${v}`}return n?`${x}${y}${c(y)??""}${v}`:`${x}${c(y)??""}${v}`}return g.value}));return{usedParams:h,interpolatedPath:m,isMissingParams:f}}function ND(t,e){let n=encodeURIComponent(t);if(e)for(const[r,s]of e)n=n.replaceAll(r,s);return n}function cx(t,e,n){const r=CD(t,e,n);if(!(e.to&&!r))return r??{}}function CD(t,{to:e,fuzzy:n,caseSensitive:r},s){const o=e,l=ol(t.startsWith("/")?t:`/${t}`,s),c=ol(o.startsWith("/")?o:`/${o}`,s),f={};return jD(l,c,f,n,r)?f:void 0}function jD(t,e,n,r,s){let o=0,l=0;for(;o<t.length||l<e.length;){const c=t[o],f=e[l];if(f){if(f.type===sl){const h=t.slice(o);let m;if(f.prefixSegment||f.suffixSegment){if(!c)return!1;const g=f.prefixSegment||"",y=f.suffixSegment||"",x=c.value;if("prefixSegment"in f&&!x.startsWith(g)||"suffixSegment"in f&&!t[t.length-1]?.value.endsWith(y))return!1;let v=decodeURI(As(h.map(w=>w.value)));g&&v.startsWith(g)&&(v=v.slice(g.length)),y&&v.endsWith(y)&&(v=v.slice(0,v.length-y.length)),m=v}else m=decodeURI(As(h.map(g=>g.value)));return n["*"]=m,n._splat=m,!0}if(f.type===Gr){if(f.value==="/"&&!c?.value){l++;continue}if(c){if(s){if(f.value!==c.value)return!1}else if(f.value.toLowerCase()!==c.value.toLowerCase())return!1;o++,l++;continue}else return!1}if(f.type===Lo){if(!c||c.value==="/")return!1;let h="",m=!1;if(f.prefixSegment||f.suffixSegment){const g=f.prefixSegment||"",y=f.suffixSegment||"",x=c.value;if(g&&!x.startsWith(g)||y&&!x.endsWith(y))return!1;let v=x;g&&v.startsWith(g)&&(v=v.slice(g.length)),y&&v.endsWith(y)&&(v=v.slice(0,v.length-y.length)),h=decodeURIComponent(v),m=!0}else h=decodeURIComponent(c.value),m=!0;m&&(n[f.value.substring(1)]=h,o++),l++;continue}if(f.type===il){if(!c){l++;continue}if(c.value==="/"){l++;continue}let h="",m=!1;if(f.prefixSegment||f.suffixSegment){const g=f.prefixSegment||"",y=f.suffixSegment||"",x=c.value;if((!g||x.startsWith(g))&&(!y||x.endsWith(y))){let v=x;g&&v.startsWith(g)&&(v=v.slice(g.length)),y&&v.endsWith(y)&&(v=v.slice(0,v.length-y.length)),h=decodeURIComponent(v),m=!0}}else{let g=!0;for(let y=l+1;y<e.length;y++){const x=e[y];if(x?.type===Gr&&x.value===c.value){g=!1;break}if(x?.type===Lo||x?.type===sl){t.length<e.length&&(g=!1);break}}g&&(h=decodeURIComponent(c.value),m=!0)}m&&(n[f.value.substring(1)]=h,o++),l++;continue}}if(o<t.length&&l>=e.length)return n["**"]=As(t.slice(o).map(h=>h.value)),!!r&&e[e.length-1]?.value!=="/";if(l<e.length&&o>=t.length){for(let h=l;h<e.length;h++)if(e[h]?.type!==il)return!1;break}break}return!0}const kD=.75,TD=1,ED=.5,_D=.4,MD=.25,AD=.2,RD=.05,OD=.02,DD=.01,gC=2e-4,yC=1e-4;function xC(t,e){return t.prefixSegment&&t.suffixSegment?e+RD+gC*t.prefixSegment.length+yC*t.suffixSegment.length:t.prefixSegment?e+OD+gC*t.prefixSegment.length:t.suffixSegment?e+DD+yC*t.suffixSegment.length:e}function ID(t){const e=[];return t.forEach((r,s)=>{if(r.isRoot||!r.path)return;const o=Nb(r.fullPath);let l=ol(o),c=0;for(;l.length>c+1&&l[c]?.value==="/";)c++;c>0&&(l=l.slice(c));let f=0,h=!1;const m=l.map((g,y)=>{if(g.value==="/")return kD;if(g.type===Gr)return TD;let x;g.type===Lo?x=ED:g.type===il?(x=_D,f++):x=MD;for(let v=y+1;v<l.length;v++){const w=l[v];if(w.type===Gr&&w.value!=="/")return h=!0,xC(g,x+AD)}return xC(g,x)});e.push({child:r,trimmed:o,parsed:l,index:s,scores:m,optionalParamCount:f,hasStaticAfter:h})}),e.sort((r,s)=>{const o=Math.min(r.scores.length,s.scores.length);for(let l=0;l<o;l++)if(r.scores[l]!==s.scores[l])return s.scores[l]-r.scores[l];if(r.scores.length!==s.scores.length){if(r.optionalParamCount!==s.optionalParamCount){if(r.hasStaticAfter===s.hasStaticAfter)return r.optionalParamCount-s.optionalParamCount;if(r.hasStaticAfter&&!s.hasStaticAfter)return-1;if(!r.hasStaticAfter&&s.hasStaticAfter)return 1}return s.scores.length-r.scores.length}for(let l=0;l<o;l++)if(r.parsed[l].value!==s.parsed[l].value)return r.parsed[l].value>s.parsed[l].value?1:-1;return r.index-s.index}).map((r,s)=>(r.child.rank=s,r.child))}function PD({routeTree:t,initRoute:e}){const n={},r={},s=l=>{l.forEach((c,f)=>{e?.(c,f);const h=n[c.id];if(Ds(!h,`Duplicate routes found with id: ${String(c.id)}`),n[c.id]=c,!c.isRoot&&c.path){const g=Oi(c.fullPath);(!r[g]||c.fullPath.endsWith("/"))&&(r[g]=c)}const m=c.children;m?.length&&s(m)})};s([t]);const o=ID(Object.values(n));return{routesById:n,routesByPath:r,flatRoutes:o}}function Er(t){return!!t?.isNotFound}function LD(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Th="tsr-scroll-restoration-v1_3",zD=(t,e)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}};function BD(){const t=LD();if(!t)return null;const e=t.getItem(Th);let n=e?JSON.parse(e):{};return{state:n,set:r=>(n=_o(r,n)||n,t.setItem(Th,JSON.stringify(n)))}}const kf=BD(),ux=t=>t.state.__TSR_key||t.href;function VD(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Eh=!1;function Dk({storageKey:t,key:e,behavior:n,shouldScrollRestoration:r,scrollToTopSelectors:s,location:o}){let l;try{l=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const c=e||window.history.state?.__TSR_key,f=l[c];Eh=!0;e:{if(r&&f&&Object.keys(f).length>0){for(const g in f){const y=f[g];if(g==="window")window.scrollTo({top:y.scrollY,left:y.scrollX,behavior:n});else if(g){const x=document.querySelector(g);x&&(x.scrollLeft=y.scrollX,x.scrollTop=y.scrollY)}}break e}const h=(o??window.location).hash.split("#",2)[1];if(h){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const y=document.getElementById(h);y&&y.scrollIntoView(g)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),s)for(const g of s){if(g==="window")continue;const y=typeof g=="function"?g():document.querySelector(g);y&&y.scrollTo(m)}}Eh=!1}function $D(t,e){if(!kf&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!kf))return;t.isScrollRestorationSetup=!0,Eh=!1;const r=t.options.getScrollRestorationKey||ux;window.history.scrollRestoration="manual";const s=o=>{if(Eh||!t.isScrollRestoring)return;let l="";if(o.target===document||o.target===window)l="window";else{const f=o.target.getAttribute("data-scroll-restoration-id");f?l=`[data-scroll-restoration-id="${f}"]`:l=VD(o.target)}const c=r(t.state.location);kf.set(f=>{const h=f[c]||={},m=h[l]||={};if(l==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(l){const g=document.querySelector(l);g&&(m.scrollX=g.scrollLeft||0,m.scrollY=g.scrollTop||0)}return f})};typeof document<"u"&&document.addEventListener("scroll",zD(s,100),!0),t.subscribe("onRendered",o=>{const l=r(o.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(Dk({storageKey:Th,key:l,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&kf.set(c=>(c[l]||={},c)))})}function HD(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function UD(t,e=String){const n=new URLSearchParams;for(const r in t){const s=t[r];s!==void 0&&n.set(r,e(s))}return n.toString()}function Zy(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function FD(t){const e=new URLSearchParams(t),n={};for(const[r,s]of e.entries()){const o=n[r];o==null?n[r]=Zy(s):Array.isArray(o)?o.push(Zy(s)):n[r]=[o,Zy(s)]}return n}const qD=QD(JSON.parse),KD=GD(JSON.stringify,JSON.parse);function QD(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=FD(e);for(const r in n){const s=n[r];if(typeof s=="string")try{n[r]=t(s)}catch{}}return n}}function GD(t,e){const n=typeof e=="function";function r(s){if(typeof s=="object"&&s!==null)try{return t(s)}catch{}else if(n&&typeof s=="string")try{return e(s),t(s)}catch{}return s}return s=>{const o=UD(s,r);return o?`?${o}`:""}}const Vn="__root__";function WD(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function qr(t){return t instanceof Response&&!!t.options}function YD(t){const e=new Map;let n,r;const s=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,r&&(r.next=o,o.prev=r)):(o.next.prev=void 0,n=o.next,o.next=void 0,r&&(o.prev=r,r.next=o)),r=o)};return{get(o){const l=e.get(o);if(l)return s(l),l.value},set(o,l){if(e.size>=t&&n){const f=n;e.delete(f.key),f.next&&(n=f.next,f.next.prev=void 0),f===r&&(r=void 0)}const c=e.get(o);if(c)c.value=l,s(c);else{const f={key:o,value:l,prev:r};r&&(r.next=f),r=f,n||(n=f),e.set(o,f)}}}}const oh=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Pp=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),Ik=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Ds(n.options.notFoundComponent);const r=t.matches.find(s=>s.routeId===n.id);Ds(r,"Could not find match for route: "+n.id),t.updateMatch(r.id,s=>({...s,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,Ik(t,e))},ki=(t,e,n)=>{if(!(!qr(n)&&!Er(n))){if(qr(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const r=qr(n)?"redirected":"notFound";t.updateMatch(e.id,s=>({...s,status:r,isFetching:!1,error:n})),Er(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw qr(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(Ik(t,n),n)}},Pk=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},Ac=(t,e,n,r)=>{const{id:s,routeId:o}=t.matches[e],l=t.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=r,t.firstBadMatchIndex??=e,ki(t,t.router.getMatch(s),n);try{l.options.onError?.(n)}catch(c){n=c,ki(t,t.router.getMatch(s),n)}t.updateMatch(s,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},XD=(t,e,n,r)=>{const s=t.router.getMatch(e),o=t.matches[n-1]?.id,l=o?t.router.getMatch(o):void 0;if(t.router.isShell()){s.ssr=e===Vn;return}if(l?.ssr===!1){s.ssr=!1;return}const c=x=>x===!0&&l?.ssr==="data-only"?"data-only":x,f=t.router.options.defaultSsr??!0;if(r.options.ssr===void 0){s.ssr=c(f);return}if(typeof r.options.ssr!="function"){s.ssr=c(r.options.ssr);return}const{search:h,params:m}=s,g={search:Tf(h,s.searchError),params:Tf(m,s.paramsError),location:t.location,matches:t.matches.map(x=>({index:x.index,pathname:x.pathname,fullPath:x.fullPath,staticData:x.staticData,id:x.id,routeId:x.routeId,search:Tf(x.search,x.searchError),params:Tf(x.params,x.paramsError),ssr:x.ssr}))},y=r.options.ssr(g);if(Ri(y))return y.then(x=>{s.ssr=c(x??f)});s.ssr=c(y??f)},Lk=(t,e,n,r)=>{if(r._nonReactive.pendingTimeout!==void 0)return;const s=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!Pp(t,e)&&(n.options.loader||n.options.beforeLoad||Vk(n))&&typeof s=="number"&&s!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const l=setTimeout(()=>{oh(t)},s);r._nonReactive.pendingTimeout=l}},JD=(t,e,n)=>{const r=t.router.getMatch(e);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;Lk(t,e,n,r);const s=()=>{const o=t.router.getMatch(e);o.preload&&(o.status==="redirected"||o.status==="notFound")&&ki(t,o,o.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(s):s()},ZD=(t,e,n,r)=>{const s=t.router.getMatch(e),o=s._nonReactive.loadPromise;s._nonReactive.loadPromise=rl(()=>{o?.resolve()});const{paramsError:l,searchError:c}=s;l&&Ac(t,n,l,"PARSE_PARAMS"),c&&Ac(t,n,c,"VALIDATE_SEARCH"),Lk(t,e,r,s);const f=new AbortController,h=t.matches[n-1]?.id,y={...(h?t.router.getMatch(h):void 0)?.context??t.router.options.context??void 0,...s.__routeContext};let x=!1;const v=()=>{x||(x=!0,t.updateMatch(e,M=>({...M,isFetching:"beforeLoad",fetchCount:M.fetchCount+1,abortController:f,context:y})))},w=()=>{s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,M=>({...M,isFetching:!1}))};if(!r.options.beforeLoad){Xc(()=>{v(),w()});return}s._nonReactive.beforeLoadPromise=rl();const{search:N,params:j,cause:A}=s,E=Pp(t,e),_={search:N,abortController:f,params:j,preload:E,context:y,location:t.location,navigate:M=>t.router.navigate({...M,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:E?"preload":A,matches:t.matches,...t.router.options.additionalContext},T=M=>{if(M===void 0){Xc(()=>{v(),w()});return}(qr(M)||Er(M))&&(v(),Ac(t,n,M,"BEFORE_LOAD")),Xc(()=>{v(),t.updateMatch(e,R=>({...R,__beforeLoadContext:M,context:{...R.context,...M}})),w()})};let O;try{if(O=r.options.beforeLoad(_),Ri(O))return v(),O.catch(M=>{Ac(t,n,M,"BEFORE_LOAD")}).then(T)}catch(M){v(),Ac(t,n,M,"BEFORE_LOAD")}T(O)},e5=(t,e)=>{const{id:n,routeId:r}=t.matches[e],s=t.router.looseRoutesById[r],o=()=>{if(t.router.isServer){const f=XD(t,n,e,s);if(Ri(f))return f.then(c)}return c()},l=()=>ZD(t,n,e,s),c=()=>{if(Pk(t,n))return;const f=JD(t,n,s);return Ri(f)?f.then(l):l()};return o()},Jc=(t,e,n)=>{const r=t.router.getMatch(e);if(!r||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const s={matches:t.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([n.options.head?.(s),n.options.scripts?.(s),n.options.headers?.(s)]).then(([o,l,c])=>{const f=o?.meta,h=o?.links,m=o?.scripts,g=o?.styles;return{meta:f,links:h,headScripts:m,headers:c,scripts:l,styles:g}})},zk=(t,e,n,r)=>{const s=t.matchPromises[n-1],{params:o,loaderDeps:l,abortController:c,context:f,cause:h}=t.router.getMatch(e),m=Pp(t,e);return{params:o,deps:l,preload:!!m,parentMatchPromise:s,abortController:c,context:f,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:m?"preload":h,route:r,...t.router.options.additionalContext}},bC=async(t,e,n,r)=>{try{const s=t.router.getMatch(e);try{(!t.router.isServer||s.ssr===!0)&&Bk(r);const o=r.options.loader?.(zk(t,e,n,r)),l=r.options.loader&&Ri(o);if(!!(l||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||s._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),r.options.loader){const g=l?await o:o;ki(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,y=>({...y,loaderData:g}))}r._lazyPromise&&await r._lazyPromise;const f=Jc(t,e,r),h=f?await f:void 0,m=s._nonReactive.minPendingPromise;m&&await m,r._componentsPromise&&await r._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...h}))}catch(o){let l=o;const c=s._nonReactive.minPendingPromise;c&&await c,Er(o)&&await r.options.notFoundComponent?.preload?.(),ki(t,t.router.getMatch(e),o);try{r.options.onError?.(o)}catch(m){l=m,ki(t,t.router.getMatch(e),m)}const f=Jc(t,e,r),h=f?await f:void 0;t.updateMatch(e,m=>({...m,error:l,status:"error",isFetching:!1,...h}))}}catch(s){const o=t.router.getMatch(e);if(o){const l=Jc(t,e,r);if(l){const c=await l;t.updateMatch(e,f=>({...f,...c}))}o._nonReactive.loaderPromise=void 0}ki(t,o,s)}},t5=async(t,e)=>{const{id:n,routeId:r}=t.matches[e];let s=!1,o=!1;const l=t.router.looseRoutesById[r];if(Pk(t,n)){if(t.router.isServer){const h=Jc(t,n,l);if(h){const m=await h;t.updateMatch(n,g=>({...g,...m}))}return t.router.getMatch(n)}}else{const h=t.router.getMatch(n);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!t.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const m=t.router.getMatch(n);m.error&&ki(t,m,m.error)}else{const m=Date.now()-h.updatedAt,g=Pp(t,n),y=g?l.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:l.options.staleTime??t.router.options.defaultStaleTime??0,x=l.options.shouldReload,v=typeof x=="function"?x(zk(t,n,e,l)):x,w=!!g&&!t.router.state.matches.some(E=>E.id===n),N=t.router.getMatch(n);N._nonReactive.loaderPromise=rl(),w!==N.preload&&t.updateMatch(n,E=>({...E,preload:w}));const{status:j,invalid:A}=N;if(s=j==="success"&&(A||(v??m>y)),!(g&&l.options.preload===!1))if(s&&!t.sync)o=!0,(async()=>{try{await bC(t,n,e,l);const E=t.router.getMatch(n);E._nonReactive.loaderPromise?.resolve(),E._nonReactive.loadPromise?.resolve(),E._nonReactive.loaderPromise=void 0}catch(E){qr(E)&&await t.router.navigate(E.options)}})();else if(j!=="success"||s&&t.sync)await bC(t,n,e,l);else{const E=Jc(t,n,l);if(E){const _=await E;t.updateMatch(n,T=>({...T,..._}))}}}}const c=t.router.getMatch(n);o||(c._nonReactive.loaderPromise?.resolve(),c._nonReactive.loadPromise?.resolve()),clearTimeout(c._nonReactive.pendingTimeout),c._nonReactive.pendingTimeout=void 0,o||(c._nonReactive.loaderPromise=void 0),c._nonReactive.dehydrated=void 0;const f=o?c.isFetching:!1;return f!==c.isFetching||c.invalid!==!1?(t.updateMatch(n,h=>({...h,isFetching:f,invalid:!1})),t.router.getMatch(n)):c};async function vC(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&oh(e);try{for(let s=0;s<e.matches.length;s++){const o=e5(e,s);Ri(o)&&await o}const n=e.firstBadMatchIndex??e.matches.length;for(let s=0;s<n;s++)e.matchPromises.push(t5(e,s));await Promise.all(e.matchPromises);const r=oh(e);Ri(r)&&await r}catch(n){if(Er(n)&&!e.preload){const r=oh(e);throw Ri(r)&&await r,n}if(qr(n))throw n}return e.matches}async function Bk(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...r}=e.options;Object.assign(t.options,r),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const r of $k){const s=t.options[r]?.preload;s&&n.push(s())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function Tf(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function Vk(t){for(const e of $k)if(t.options[e]?.preload)return!0;return!1}const $k=["component","errorComponent","pendingComponent","notFoundComponent"];function n5(t){return{input:({url:e})=>{for(const n of t)e=Hk(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=Uk(t[n],e);return e}}}function r5(t){const e=ih(t.basepath),n=`/${e}`,r=`${n}/`,s=t.caseSensitive?n:n.toLowerCase(),o=t.caseSensitive?r:r.toLowerCase();return{input:({url:l})=>{const c=t.caseSensitive?l.pathname:l.pathname.toLowerCase();return c===s?l.pathname="/":c.startsWith(o)&&(l.pathname=l.pathname.slice(n.length)),l},output:({url:l})=>(l.pathname=As(["/",e,l.pathname]),l)}}function Hk(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function Uk(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function Ao(t){const e=t.resolvedLocation,n=t.location,r=e?.pathname!==n.pathname,s=e?.href!==n.href,o=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:r,hrefChanged:s,hashChanged:o}}class s5{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,s=this.basepath??r?.basepath??"/",o=this.basepath===void 0,l=r?.rewrite;this.options={...r,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(y=>[encodeURIComponent(y),y])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=cD())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new aD(o5(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(y=>!["redirected"].includes(y.status))}}}),$D(this));let c=!1;const f=this.options.basepath??"/",h=this.options.rewrite;if(o||s!==f||l!==h){this.basepath=f;const y=[];ih(f)!==""&&y.push(r5({basepath:f})),h&&y.push(h),this.rewrite=y.length===0?void 0:y.length===1?y[0]:n5(y),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:r,flatRoutes:s}=PD({routeTree:this.routeTree,initRoute:(l,c)=>{l.init({originalIndex:c})}});this.routesById=n,this.routesByPath=r,this.flatRoutes=s;const o=this.options.notFoundRoute;o&&(o.init({originalIndex:99999999999}),this.routesById[o.id]=o)},this.subscribe=(n,r)=>{const s={eventType:n,fn:r};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const s=({href:f,state:h})=>{const m=new URL(f,this.origin),g=Hk(this.rewrite,m),y=this.options.parseSearch(g.search),x=this.options.stringifySearch(y);g.search=x;const v=g.href.replace(g.origin,""),{pathname:w,hash:N}=g;return{href:v,publicHref:f,url:g.href,pathname:mC(w),searchStr:x,search:cr(r?.search,y),hash:N.split("#").reverse()[0]??"",state:cr(r?.state,h)}},o=s(n),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const f=s(l);return f.state.key=o.state.key,f.state.__TSR_key=o.state.__TSR_key,delete f.state.__tempLocation,{...f,maskedLocation:o}}return o},this.resolvePathWithBase=(n,r)=>gD({base:n,to:wb(r),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,r,s)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},s):this.matchRoutesInternal(n,r),this.parsePathnameCache=YD(1e3),this.getMatchedRoutes=(n,r)=>a5({pathname:n,routePathname:r,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),r=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...r]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const r=(o={})=>{const l=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutes(l,{_buildLocation:!0}),f=lx(c);o.from;const h=o.unsafeRelative==="path"?l.pathname:o.from??f.fullPath,m=this.resolvePathWithBase(h,"."),g=f.search,y={...f.params},x=o.to?this.resolvePathWithBase(m,`${o.to}`):this.resolvePathWithBase(m,"."),v=o.params===!1||o.params===null?{}:(o.params??!0)===!0?y:Object.assign(y,_o(o.params,y)),w=jf({path:x,params:v,parseCache:this.parsePathnameCache}).interpolatedPath,N=this.matchRoutes(w,void 0,{_buildLocation:!0}).map(L=>this.looseRoutesById[L.routeId]);if(Object.keys(v).length>0)for(const L of N){const P=L.options.params?.stringify??L.options.stringifyParams;P&&Object.assign(v,P(v))}const j=mC(jf({path:x,params:v,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath);let A=g;if(n._includeValidateSearch&&this.options.search?.strict){const L={};N.forEach(P=>{if(P.options.validateSearch)try{Object.assign(L,dx(P.options.validateSearch,{...L,...A}))}catch{}}),A=L}A=l5({search:A,dest:o,destRoutes:N,_includeValidateSearch:n._includeValidateSearch}),A=cr(g,A);const E=this.options.stringifySearch(A),_=o.hash===!0?l.hash:o.hash?_o(o.hash,l.hash):void 0,T=_?`#${_}`:"";let O=o.state===!0?l.state:o.state?_o(o.state,l.state):{};O=cr(l.state,O);const M=`${j}${E}${T}`,R=new URL(M,this.origin),I=Uk(this.rewrite,R);return{publicHref:I.pathname+I.search+I.hash,href:M,url:I.href,pathname:j,search:A,searchStr:E,state:O,hash:_??"",unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{const c=r(o);let f=l?r(l):void 0;if(!f){let h={};const m=this.options.routeMasks?.find(g=>{const y=cx(c.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return y?(h=y,!0):!1});if(m){const{from:g,...y}=m;l={from:n.from,...y,params:h},f=r(l)}}return f&&(c.maskedLocation=f),c};return n.mask?s(n,{from:n.from,...n.mask}):s(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...s})=>{const o=()=>{const f=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];f.forEach(m=>{s.state[m]=this.latestLocation.state[m]});const h=Mo(s.state,this.latestLocation.state);return f.forEach(m=>{delete s.state[m]}),h},l=Oi(this.latestLocation.href)===Oi(s.href),c=this.commitLocationPromise;if(this.commitLocationPromise=rl(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:f,hashScrollIntoView:h,...m}=s;f&&(m={...f,state:{...f.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[s.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:r})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:c,...f}={})=>{if(c){const g=this.history.location.state.__TSR_index,y=Ch(c,{__TSR_index:n?g:g+1});f.to=y.pathname,f.search=this.options.parseSearch(y.search),f.hash=y.hash.slice(1)}const h=this.buildLocation({...f,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const m=this.commitLocation({...h,viewTransition:o,replace:n,resetScroll:r,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=({to:n,reloadDocument:r,href:s,...o})=>{if(!r&&s)try{new URL(`${s}`),r=!0}catch{}return r?(s||(s=this.buildLocation({to:n,...o}).url),o.replace?window.location.replace(s):window.location.href=s,Promise.resolve()):this.buildAndCommitLocation({...o,href:s,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),s=o=>{try{return encodeURI(decodeURI(o))}catch{return o}};if(ih(s(this.latestLocation.href))!==ih(s(r.href))){let o=r.url;throw this.origin&&o.startsWith(this.origin)&&(o=o.replace(this.origin,"")||"/"),WD({href:o})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:r.cachedMatches.filter(s=>!n.some(o=>o.id===s.id))}))},this.load=async n=>{let r,s,o;for(o=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const f=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Ao({resolvedLocation:h,location:f})}),this.emit({type:"onBeforeLoad",...Ao({resolvedLocation:h,location:f})}),await vC({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:f,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],g=[],y=[];Xc(()=>{this.__store.setState(x=>{const v=x.matches,w=x.pendingMatches||x.matches;return m=v.filter(N=>!w.some(j=>j.id===N.id)),g=w.filter(N=>!v.some(j=>j.id===N.id)),y=w.filter(N=>v.some(j=>j.id===N.id)),{...x,isLoading:!1,loadedAt:Date.now(),matches:w,pendingMatches:void 0,cachedMatches:[...x.cachedMatches,...m.filter(N=>N.status!=="error")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[g,"onEnter"],[y,"onStay"]].forEach(([x,v])=>{x.forEach(w=>{this.looseRoutesById[w.routeId].options[v]?.(w)})})})})}})}catch(f){qr(f)?(r=f,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):Er(f)&&(s=f),this.__store.setState(h=>({...h,statusCode:r?r.status:s?404:h.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(c=>c.status==="error")&&(l=500),l!==void 0&&this.__store.setState(c=>({...c,statusCode:l}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,l=this.state.resolvedLocation,c=typeof r.types=="function"?r.types(Ao({resolvedLocation:l,location:o})):r.types;if(c===!1){n();return}s={update:n,types:c}}else s=n;document.startViewTransition(s)}else n()},this.updateMatch=(n,r)=>{const s=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";s&&this.__store.setState(o=>({...o,[s]:o[s]?.map(l=>l.id===n?r(l):l)}))},this.getMatch=n=>{const r=s=>s.id===n;return this.state.cachedMatches.find(r)??this.state.pendingMatches?.find(r)??this.state.matches.find(r)},this.invalidate=n=>{const r=s=>n?.filter?.(s)??!0?{...s,invalid:!0,...n?.forcePending||s.status==="error"?{status:"pending",error:void 0}:void 0}:s;return this.__store.setState(s=>({...s,matches:s.matches.map(r),cachedMatches:s.cachedMatches.map(r),pendingMatches:s.pendingMatches?.map(r)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const r=this.buildLocation(n.options);let s=r.url;this.origin&&s.startsWith(this.origin)&&(s=s.replace(this.origin,"")||"/"),n.options.href=r.href,n.headers.set("Location",s)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!r(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const s=this.looseRoutesById[r.routeId];if(!s.options.loader)return!0;const o=(r.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=Bk,this.preloadRoute=async n=>{const r=this.buildLocation(n);let s=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);Xc(()=>{s.forEach(c=>{l.has(c.id)||this.__store.setState(f=>({...f,cachedMatches:[...f.cachedMatches,c]}))})});try{return s=await vC({router:this,matches:s,location:r,preload:!0,updateMatch:(c,f)=>{o.has(c)?s=s.map(h=>h.id===c?f(h):h):this.updateMatch(c,f)}}),s}catch(c){if(qr(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:r});Er(c)||console.error(c);return}},this.matchRoute=(n,r)=>{const s={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(s);if(r?.pending&&this.state.status!=="pending")return!1;const c=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,f=cx(c.pathname,{...r,to:o.pathname},this.parsePathnameCache);return!f||n.params&&!Mo(f,n.params,{partial:!0})?!1:f&&(r?.includeSearch??!0)?Mo(c.search,o.search,{partial:!0})?f:!1:f},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??KD,parseSearch:e.parseSearch??qD}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:s,routeParams:o}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let l=!1;(r?r.path!=="/"&&o["**"]:Oi(e.pathname))&&(this.options.notFoundRoute?s.push(this.options.notFoundRoute):l=!0);const c=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let m=s.length-1;m>=0;m--){const g=s[m];if(g.children)return g.id}return Vn}})(),f=[],h=m=>m?.id?m.context??this.options.context??void 0:this.options.context??void 0;return s.forEach((m,g)=>{const y=f[g-1],[x,v,w]=(()=>{const V=y?.search??e.search,H=y?._strictSearch??void 0;try{const B=dx(m.options.validateSearch,{...V})??void 0;return[{...V,...B},{...H,...B},void 0]}catch(B){let K=B;if(B instanceof _h||(K=new _h(B.message,{cause:B})),n?.throwOnError)throw K;return[V,{},K]}})(),N=m.options.loaderDeps?.({search:x})??"",j=N?JSON.stringify(N):"",{interpolatedPath:A,usedParams:E}=jf({path:m.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),_=jf({path:m.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+j,T=this.getMatch(_),O=this.state.matches.find(V=>V.routeId===m.id),M=T?._strictParams??E;let R;if(!T){const V=m.options.params?.parse??m.options.parseParams;if(V)try{Object.assign(M,V(M))}catch(H){if(R=new i5(H.message,{cause:H}),n?.throwOnError)throw R}}Object.assign(o,M);const I=O?"stay":"enter";let L;if(T)L={...T,cause:I,params:O?cr(O.params,o):o,_strictParams:M,search:cr(O?O.search:T.search,x),_strictSearch:v};else{const V=m.options.loader||m.options.beforeLoad||m.lazyFn||Vk(m)?"pending":"success";L={id:_,index:g,routeId:m.id,params:O?cr(O.params,o):o,_strictParams:M,pathname:A,updatedAt:Date.now(),search:O?cr(O.search,x):x,_strictSearch:v,searchError:void 0,status:V,isFetching:!1,error:void 0,paramsError:R,__routeContext:void 0,_nonReactive:{loadPromise:rl()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:I,loaderDeps:O?cr(O.loaderDeps,N):N,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:m.options.staticData||{},fullPath:m.fullPath}}n?.preload||(L.globalNotFound=c===m.id),L.searchError=w;const P=h(y);L.context={...P,...L.__routeContext,...L.__beforeLoadContext},f.push(L)}),f.forEach((m,g)=>{const y=this.looseRoutesById[m.routeId];if(!this.getMatch(m.id)&&n?._buildLocation!==!0){const v=f[g-1],w=h(v);if(y.options.context){const N={deps:m.loaderDeps,params:m.params,context:w??{},location:e,navigate:j=>this.navigate({...j,_fromLocation:e}),buildLocation:this.buildLocation,cause:m.cause,abortController:m.abortController,preload:!!m.preload,matches:f};m.__routeContext=y.options.context(N)??void 0}m.context={...w,...m.__routeContext,...m.__beforeLoadContext}}}),f}}class _h extends Error{}class i5 extends Error{}function o5(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function dx(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new _h("Async validation not supported");if(n.issues)throw new _h(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function a5({pathname:t,routePathname:e,caseSensitive:n,routesByPath:r,routesById:s,flatRoutes:o,parseCache:l}){let c={};const f=Oi(t),h=x=>cx(f,{to:x.fullPath,caseSensitive:x.options?.caseSensitive??n,fuzzy:!0},l);let m=e!==void 0?r[e]:void 0;if(m)c=h(m);else{let x;for(const v of o){const w=h(v);if(w)if(v.path!=="/"&&w["**"])x||(x={foundRoute:v,routeParams:w});else{m=v,c=w;break}}!m&&x&&(m=x.foundRoute,c=x.routeParams)}let g=m||s[Vn];const y=[g];for(;g.parentRoute;)g=g.parentRoute,y.push(g);return y.reverse(),{matchedRoutes:y,routeParams:c,foundRoute:m}}function l5({search:t,dest:e,destRoutes:n,_includeValidateSearch:r}){const s=n.reduce((c,f)=>{const h=[];if("search"in f.options)f.options.search?.middlewares&&h.push(...f.options.search.middlewares);else if(f.options.preSearchFilters||f.options.postSearchFilters){const m=({search:g,next:y})=>{let x=g;"preSearchFilters"in f.options&&f.options.preSearchFilters&&(x=f.options.preSearchFilters.reduce((w,N)=>N(w),g));const v=y(x);return"postSearchFilters"in f.options&&f.options.postSearchFilters?f.options.postSearchFilters.reduce((w,N)=>N(w),v):v};h.push(m)}if(r&&f.options.validateSearch){const m=({search:g,next:y})=>{const x=y(g);try{return{...x,...dx(f.options.validateSearch,x)??void 0}}catch{return x}};h.push(m)}return c.concat(h)},[])??[],o=({search:c})=>e.search?e.search===!0?c:_o(e.search,c):{};s.push(o);const l=(c,f)=>{if(c>=s.length)return f;const h=s[c];return h({search:f,next:g=>l(c+1,g)})};return l(0,t)}const c5="Error preloading route! ";class Fk{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const r=this.options,s=!r?.path&&!r?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=Vn:this.parentRoute||Ds(!1);let o=s?Vn:r?.path;o&&o!=="/"&&(o=Nb(o));const l=r?.id||o;let c=s?Vn:As([this.parentRoute.id===Vn?"":this.parentRoute.id,l]);o===Vn&&(o="/"),c!==Vn&&(c=As(["/",c]));const f=c===Vn?"/":As([this.parentRoute.fullPath,o]);this._path=o,this._id=c,this._fullPath=f,this._to=f},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class u5 extends Fk{constructor(e){super(e)}}function Cb(t){const e=t.errorComponent??Lp;return u.jsx(d5,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?C.createElement(e,{error:n,reset:r}):t.children})}class d5 extends C.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Lp({error:t}){const[e,n]=C.useState(!1);return u.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[u.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),u.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),u.jsx("div",{style:{height:".25rem"}}),e?u.jsx("div",{children:u.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?u.jsx("code",{children:t.message}):null})}):null]})}function f5({children:t,fallback:e=null}){return h5()?u.jsx(rt.Fragment,{children:t}):u.jsx(rt.Fragment,{children:e})}function h5(){return rt.useSyncExternalStore(p5,()=>!0,()=>!1)}function p5(){return()=>{}}var e0={exports:{}},t0={},n0={exports:{}},r0={};var SC;function m5(){if(SC)return r0;SC=1;var t=Sl();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(g,y){var x=y(),v=r({inst:{value:x,getSnapshot:y}}),w=v[0].inst,N=v[1];return o(function(){w.value=x,w.getSnapshot=y,f(w)&&N({inst:w})},[g,x,y]),s(function(){return f(w)&&N({inst:w}),g(function(){f(w)&&N({inst:w})})},[g]),l(x),x}function f(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!n(g,x)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return r0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,r0}var wC;function qk(){return wC||(wC=1,n0.exports=m5()),n0.exports}var NC;function g5(){if(NC)return t0;NC=1;var t=Sl(),e=qk();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return t0.useSyncExternalStoreWithSelector=function(h,m,g,y,x){var v=o(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=c(function(){function j(O){if(!A){if(A=!0,E=O,O=y(O),x!==void 0&&w.hasValue){var M=w.value;if(x(M,O))return _=M}return _=O}if(M=_,r(E,O))return M;var R=y(O);return x!==void 0&&x(M,R)?(E=O,M):(E=O,_=R)}var A=!1,E,_,T=g===void 0?null:g;return[function(){return j(m())},T===null?void 0:function(){return j(T())}]},[m,g,y,x]);var N=s(h,v[0],v[1]);return l(function(){w.hasValue=!0,w.value=N},[N]),f(N),N},t0}var CC;function y5(){return CC||(CC=1,e0.exports=g5()),e0.exports}var Kk=y5();function x5(t,e=r=>r,n={}){const r=n.equal??b5;return Kk.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,r)}function b5(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!e.has(r)||!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=jC(t);if(n.length!==jC(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function jC(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const s0=C.createContext(null);function Qk(){return typeof document>"u"?s0:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=s0,s0)}function Yn(t){const e=C.useContext(Qk());return t?.warn,e}function pn(t){const e=Yn({warn:t?.router===void 0}),n=t?.router||e,r=C.useRef(void 0);return x5(n.__store,s=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const o=cr(r.current,t.select(s));return r.current=o,o}return t.select(s)}return s})}const zp=C.createContext(void 0),v5=C.createContext(void 0);function Yr(t){const e=C.useContext(t.from?v5:zp);return pn({select:r=>{const s=r.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(Ds(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function jb(t){return Yr({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function kb(t){const{select:e,...n}=t;return Yr({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function $s(t){return Yr({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function Bp(t){return Yr({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function zt(t){const e=Yn();return C.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var wl=Ak();const Gk=Ip(wl),Ef=typeof window<"u"?C.useLayoutEffect:C.useEffect;function i0(t){const e=C.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function S5(t,e,n={},r={}){C.useEffect(()=>{if(!t.current||r.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([o])=>{e(o)},n);return s.observe(t.current),()=>{s.disconnect()}},[e,n,r.disabled,t])}function w5(t){const e=C.useRef(null);return C.useImperativeHandle(t,()=>e.current,[]),e}function N5(t,e){const n=Yn(),[r,s]=C.useState(!1),o=C.useRef(!1),l=w5(e),{activeProps:c,inactiveProps:f,activeOptions:h,to:m,preload:g,preloadDelay:y,hashScrollIntoView:x,replace:v,startTransition:w,resetScroll:N,viewTransition:j,children:A,target:E,disabled:_,style:T,className:O,onClick:M,onFocus:R,onMouseEnter:I,onMouseLeave:L,onTouchStart:P,ignoreBlocker:V,params:H,search:B,hash:K,state:z,mask:Q,reloadDocument:F,unsafeRelative:te,from:ue,_fromLocation:$,...X}=t,se=pn({select:Je=>Je.location.search,structuralSharing:!0}),ne=t.from,ce=C.useMemo(()=>({...t,from:ne}),[n,se,ne,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),de=C.useMemo(()=>n.buildLocation({...ce}),[n,ce]),Z=C.useMemo(()=>{if(_)return;let Je=de.maskedLocation?de.maskedLocation.url:de.url,Fe=!1;return n.origin&&(Je.startsWith(n.origin)?Je=n.history.createHref(Je.replace(n.origin,""))||"/":Fe=!0),{href:Je,external:Fe}},[_,de.maskedLocation,de.url,n.origin,n.history]),ge=C.useMemo(()=>{if(Z?.external)return Z.href;try{return new URL(m),m}catch{}},[m,Z]),fe=t.reloadDocument||ge?!1:g??n.options.defaultPreload,pe=y??n.options.defaultPreloadDelay??0,Ce=pn({select:Je=>{if(ge)return!1;if(h?.exact){if(!pD(Je.location.pathname,de.pathname,n.basepath))return!1}else{const Fe=kh(Je.location.pathname,n.basepath),Mn=kh(de.pathname,n.basepath);if(!(Fe.startsWith(Mn)&&(Fe.length===Mn.length||Fe[Mn.length]==="/")))return!1}return(h?.includeSearch??!0)&&!Mo(Je.location.search,de.search,{partial:!h?.exact,ignoreUndefined:!h?.explicitUndefined})?!1:h?.includeHash?Je.location.hash===de.hash:!0}}),Te=C.useCallback(()=>{n.preloadRoute({...ce}).catch(Je=>{console.warn(Je),console.warn(c5)})},[n,ce]),it=C.useCallback(Je=>{Je?.isIntersecting&&Te()},[Te]);S5(l,it,E5,{disabled:!!_||fe!=="viewport"}),C.useEffect(()=>{o.current||!_&&fe==="render"&&(Te(),o.current=!0)},[_,Te,fe]);const ct=Je=>{const Fe=Je.currentTarget.getAttribute("target"),Mn=E!==void 0?E:Fe;if(!_&&!_5(Je)&&!Je.defaultPrevented&&(!Mn||Mn==="_self")&&Je.button===0){Je.preventDefault(),wl.flushSync(()=>{s(!0)});const Pl=n.subscribe("onResolved",()=>{Pl(),s(!1)});n.navigate({...ce,replace:v,resetScroll:N,hashScrollIntoView:x,startTransition:w,viewTransition:j,ignoreBlocker:V})}};if(ge)return{...X,ref:l,href:ge,...A&&{children:A},...E&&{target:E},..._&&{disabled:_},...T&&{style:T},...O&&{className:O},...M&&{onClick:M},...R&&{onFocus:R},...I&&{onMouseEnter:I},...L&&{onMouseLeave:L},...P&&{onTouchStart:P}};const Nt=Je=>{_||fe&&Te()},Bt=Nt,_n=Je=>{if(!(_||!fe))if(!pe)Te();else{const Fe=Je.target;if(Rc.has(Fe))return;const Mn=setTimeout(()=>{Rc.delete(Fe),Te()},pe);Rc.set(Fe,Mn)}},Us=Je=>{if(_||!fe||!pe)return;const Fe=Je.target,Mn=Rc.get(Fe);Mn&&(clearTimeout(Mn),Rc.delete(Fe))},Ir=Ce?_o(c,{})??C5:o0,yr=Ce?o0:_o(f,{})??o0,Fs=[O,Ir.className,yr.className].filter(Boolean).join(" "),id=(T||Ir.style||yr.style)&&{...T,...Ir.style,...yr.style};return{...X,...Ir,...yr,href:Z?.href,ref:l,onClick:Oc([M,ct]),onFocus:Oc([R,Nt]),onMouseEnter:Oc([I,_n]),onMouseLeave:Oc([L,Us]),onTouchStart:Oc([P,Bt]),disabled:!!_,target:E,...id&&{style:id},...Fs&&{className:Fs},..._&&j5,...Ce&&k5,...r&&T5}}const o0={},C5={className:"active"},j5={role:"link","aria-disabled":!0},k5={"data-status":"active","aria-current":"page"},T5={"data-transitioning":"transitioning"},Rc=new WeakMap,E5={rootMargin:"100px"},Oc=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},Zt=C.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:s,ref:o,...l}=N5(r,e),c=typeof r.children=="function"?r.children({isActive:l["data-status"]==="active"}):r.children;return n===void 0&&delete l.disabled,C.createElement(n||"a",{...l,ref:o},c)});function _5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let M5=class extends Fk{constructor(e){super(e),this.useMatch=n=>Yr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Yr({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>Bp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>$s({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>kb({...n,from:this.id}),this.useLoaderData=n=>jb({...n,from:this.id}),this.useNavigate=()=>zt({from:this.fullPath}),this.Link=rt.forwardRef((n,r)=>u.jsx(Zt,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function A5(t){return new M5(t)}class R5 extends u5{constructor(e){super(e),this.useMatch=n=>Yr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Yr({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>Bp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>$s({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>kb({...n,from:this.id}),this.useLoaderData=n=>jb({...n,from:this.id}),this.useNavigate=()=>zt({from:this.fullPath}),this.Link=rt.forwardRef((n,r)=>u.jsx(Zt,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function O5(t){return new R5(t)}function Ge(t){return typeof t=="object"?new kC(t,{silent:!0}).createRoute(t):new kC(t,{silent:!0}).createRoute}class kC{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const s=A5(r);return s.isRoot=!1,s},this.silent=n?.silent}}class TC{constructor(e){this.useMatch=n=>Yr({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Yr({from:this.options.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>Bp({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>$s({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>kb({...n,from:this.options.id}),this.useLoaderData=n=>jb({...n,from:this.options.id}),this.useNavigate=()=>{const n=Yn();return zt({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function EC(t){return typeof t=="object"?new TC(t):e=>new TC({id:t,...e})}function D5(){const t=Yn(),e=C.useRef({router:t,mounted:!1}),[n,r]=C.useState(!1),{hasPendingMatches:s,isLoading:o}=pn({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(y=>y.status==="pending")}),structuralSharing:!0}),l=i0(o),c=o||n||s,f=i0(c),h=o||s,m=i0(h);return t.startTransition=g=>{r(!0),C.startTransition(()=>{g(),r(!1)})},C.useEffect(()=>{const g=t.history.subscribe(t.load),y=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Oi(t.latestLocation.href)!==Oi(y.href)&&t.commitLocation({...y,replace:!0}),()=>{g()}},[t,t.history]),Ef(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(y){console.error(y)}})()},[t]),Ef(()=>{l&&!o&&t.emit({type:"onLoad",...Ao(t.state)})},[l,t,o]),Ef(()=>{m&&!h&&t.emit({type:"onBeforeRouteMount",...Ao(t.state)})},[h,m,t]),Ef(()=>{f&&!c&&(t.emit({type:"onResolved",...Ao(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),HD(t))},[c,f,t]),null}function I5(t){const e=pn({select:n=>`not-found-${n.location.pathname}-${n.status}`});return u.jsx(Cb,{getResetKey:()=>e,onCatch:(n,r)=>{if(Er(n))t.onCatch?.(n,r);else throw n},errorComponent:({error:n})=>{if(Er(n))return t.fallback?.(n);throw n},children:t.children})}function P5(){return u.jsx("p",{children:"Not Found"})}function Fa(t){return u.jsx(u.Fragment,{children:t.children})}function Wk(t,e,n){return e.options.notFoundComponent?u.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?u.jsx(t.options.defaultNotFoundComponent,{data:n}):u.jsx(P5,{})}function L5({children:t}){const e=Yn();return e.isServer?u.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function z5(){const t=Yn();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||ux)(t.latestLocation),r=n!==ux(t.latestLocation)?n:void 0,s={storageKey:Th,shouldScrollRestoration:!0};return r&&(s.key=r),u.jsx(L5,{children:`(${Dk.toString()})(${JSON.stringify(s)})`})}const Yk=C.memo(function({matchId:e}){const n=Yn(),r=pn({select:j=>{const A=j.matches.find(E=>E.id===e);return Ds(A),{routeId:A.routeId,ssr:A.ssr,_displayPending:A._displayPending}},structuralSharing:!0}),s=n.routesById[r.routeId],o=s.options.pendingComponent??n.options.defaultPendingComponent,l=o?u.jsx(o,{}):null,c=s.options.errorComponent??n.options.defaultErrorComponent,f=s.options.onCatch??n.options.defaultOnCatch,h=s.isRoot?s.options.notFoundComponent??n.options.notFoundRoute?.options.component:s.options.notFoundComponent,m=r.ssr===!1||r.ssr==="data-only",g=(!s.isRoot||s.options.wrapInSuspense||m)&&(s.options.wrapInSuspense??o??(s.options.errorComponent?.preload||m))?C.Suspense:Fa,y=c?Cb:Fa,x=h?I5:Fa,v=pn({select:j=>j.loadedAt}),w=pn({select:j=>{const A=j.matches.findIndex(E=>E.id===e);return j.matches[A-1]?.routeId}}),N=s.isRoot?s.options.shellComponent??Fa:Fa;return u.jsxs(N,{children:[u.jsx(zp.Provider,{value:e,children:u.jsx(g,{fallback:l,children:u.jsx(y,{getResetKey:()=>v,errorComponent:c||Lp,onCatch:(j,A)=>{if(Er(j))throw j;f?.(j,A)},children:u.jsx(x,{fallback:j=>{if(!h||j.routeId&&j.routeId!==r.routeId||!j.routeId&&!s.isRoot)throw j;return C.createElement(h,j)},children:m||r._displayPending?u.jsx(f5,{fallback:l,children:u.jsx(_C,{matchId:e})}):u.jsx(_C,{matchId:e})})})})}),w===Vn&&n.options.scrollRestoration?u.jsxs(u.Fragment,{children:[u.jsx(B5,{}),u.jsx(z5,{})]}):null]})});function B5(){const t=Yn(),e=C.useRef(void 0);return u.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...Ao(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const _C=C.memo(function({matchId:e}){const n=Yn(),{match:r,key:s,routeId:o}=pn({select:f=>{const h=f.matches.find(v=>v.id===e),m=h.routeId,y=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:y?JSON.stringify(y):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),l=n.routesById[o],c=C.useMemo(()=>{const f=l.options.component??n.options.defaultComponent;return f?u.jsx(f,{},s):u.jsx(Iu,{})},[s,l.options.component,n.options.defaultComponent]);if(r._displayPending)throw n.getMatch(r.id)?._nonReactive.displayPendingPromise;if(r._forcePending)throw n.getMatch(r.id)?._nonReactive.minPendingPromise;if(r.status==="pending"){const f=l.options.pendingMinMs??n.options.defaultPendingMinMs;if(f){const h=n.getMatch(r.id);if(h&&!h._nonReactive.minPendingPromise&&!n.isServer){const m=rl();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},f)}}throw n.getMatch(r.id)?._nonReactive.loadPromise}if(r.status==="notFound")return Ds(Er(r.error)),Wk(n,l,r.error);if(r.status==="redirected")throw Ds(qr(r.error)),n.getMatch(r.id)?._nonReactive.loadPromise;if(r.status==="error"){if(n.isServer){const f=(l.options.errorComponent??n.options.defaultErrorComponent)||Lp;return u.jsx(f,{error:r.error,reset:void 0,info:{componentStack:""}})}throw r.error}return c}),Iu=C.memo(function(){const e=Yn(),n=C.useContext(zp),r=pn({select:h=>h.matches.find(m=>m.id===n)?.routeId}),s=e.routesById[r],o=pn({select:h=>{const g=h.matches.find(y=>y.id===n);return Ds(g),g.globalNotFound}}),l=pn({select:h=>{const m=h.matches,g=m.findIndex(y=>y.id===n);return m[g+1]?.id}}),c=e.options.defaultPendingComponent?u.jsx(e.options.defaultPendingComponent,{}):null;if(o)return Wk(e,s,void 0);if(!l)return null;const f=u.jsx(Yk,{matchId:l});return n===Vn?u.jsx(C.Suspense,{fallback:c,children:f}):f});function V5(){const t=Yn(),n=t.routesById[Vn].options.pendingComponent??t.options.defaultPendingComponent,r=n?u.jsx(n,{}):null,s=t.isServer||typeof document<"u"&&t.ssr?Fa:C.Suspense,o=u.jsxs(s,{fallback:r,children:[!t.isServer&&u.jsx(D5,{}),u.jsx($5,{})]});return t.options.InnerWrap?u.jsx(t.options.InnerWrap,{children:o}):o}function $5(){const t=Yn(),e=pn({select:s=>s.matches[0]?.id}),n=pn({select:s=>s.loadedAt}),r=e?u.jsx(Yk,{matchId:e}):null;return u.jsx(zp.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?r:u.jsx(Cb,{getResetKey:()=>n,errorComponent:Lp,onCatch:s=>{s.message||s.toString()},children:r})})}const H5=t=>new U5(t);class U5 extends s5{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=Ge,globalThis.createLazyFileRoute=EC):typeof window<"u"&&(window.createFileRoute=Ge,window.createLazyFileRoute=EC);function F5({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=Qk(),s=u.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?u.jsx(t.options.Wrap,{children:s}):s}function q5({router:t,...e}){return u.jsx(F5,{router:t,...e,children:u.jsx(V5,{})})}function Vp(t){return pn({select:e=>e.location})}var a0={exports:{}},l0={};var MC;function K5(){if(MC)return l0;MC=1;var t=Sl();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return l0.useSyncExternalStoreWithSelector=function(f,h,m,g,y){var x=s(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function N(T){if(!j){if(j=!0,A=T,T=g(T),y!==void 0&&v.hasValue){var O=v.value;if(y(O,T))return E=O}return E=T}if(O=E,n(A,T))return O;var M=g(T);return y!==void 0&&y(O,M)?(A=T,O):(A=T,E=M)}var j=!1,A,E,_=m===void 0?null:m;return[function(){return N(h())},_===null?void 0:function(){return N(_())}]},[h,m,g,y]);var w=r(f,x[0],x[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),c(w),w},l0}var AC;function Q5(){return AC||(AC=1,a0.exports=K5()),a0.exports}var G5=Q5();function Xk(t){t()}function W5(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Xk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var RC={notify(){},get:()=>[]};function Y5(t,e){let n,r=RC,s=0,o=!1;function l(w){m();const N=r.subscribe(w);let j=!1;return()=>{j||(j=!0,N(),g())}}function c(){r.notify()}function f(){v.onStateChange&&v.onStateChange()}function h(){return o}function m(){s++,n||(n=t.subscribe(f),r=W5())}function g(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=RC)}function y(){o||(o=!0,m())}function x(){o&&(o=!1,g())}const v={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return v}var X5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J5=X5(),Z5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eI=Z5(),tI=()=>J5||eI?C.useLayoutEffect:C.useEffect,nI=tI();function OC(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Zc(t,e){if(OC(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!OC(t[n[s]],e[n[s]]))return!1;return!0}var rI=Symbol.for("react-redux-context"),sI=typeof globalThis<"u"?globalThis:{};function iI(){if(!C.createContext)return{};const t=sI[rI]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var Bi=iI();function oI(t){const{children:e,context:n,serverState:r,store:s}=t,o=C.useMemo(()=>{const f=Y5(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),l=C.useMemo(()=>s.getState(),[s]);nI(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const c=n||Bi;return C.createElement(c.Provider,{value:o},e)}var aI=oI;function Tb(t=Bi){return function(){return C.useContext(t)}}var Jk=Tb();function Zk(t=Bi){const e=t===Bi?Jk:Tb(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var eT=Zk();function lI(t=Bi){const e=t===Bi?eT:Zk(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Pu=lI(),cI=(t,e)=>t===e;function uI(t=Bi){const e=t===Bi?Jk:Tb(t),n=(r,s={})=>{const{equalityFn:o=cI}=typeof s=="function"?{equalityFn:s}:s,l=e(),{store:c,subscription:f,getServerState:h}=l;C.useRef(!0);const m=C.useCallback({[r.name](y){return r(y)}}[r.name],[r]),g=G5.useSyncExternalStoreWithSelector(f.addNestedSub,c.getState,h||c.getState,m,o);return C.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var Yo=uI(),dI=Xk;const fI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),DC=t=>{const e=hI(t);return e.charAt(0).toUpperCase()+e.slice(1)},tT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),pI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var mI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gI=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},f)=>C.createElement("svg",{ref:f,...mI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tT("lucide",s),...!o&&!pI(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>C.createElement(h,m)),...Array.isArray(o)?o:[o]]));const he=(t,e)=>{const n=C.forwardRef(({className:r,...s},o)=>C.createElement(gI,{ref:o,iconNode:e,className:tT(`lucide-${fI(DC(t))}`,`lucide-${t}`,r),...s}));return n.displayName=DC(t),n};const yI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lu=he("arrow-left",yI);const xI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bI=he("award",xI);const vI=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],SI=he("bold",vI);const wI=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],NI=he("boxes",wI);const CI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jI=he("calendar",CI);const kI=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fx=he("chart-column",kI);const TI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nT=he("check",TI);const EI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Is=he("chevron-down",EI);const _I=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nl=he("chevron-left",_I);const MI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xo=he("chevron-right",MI);const AI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rT=he("chevron-up",AI);const RI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],c0=he("circle-check-big",RI);const OI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DI=he("circle-check",OI);const II=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PI=he("circle-question-mark",II);const LI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zI=he("circle-x",LI);const BI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fu=he("clock",BI);const VI=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],$I=he("code",VI);const HI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UI=he("dollar-sign",HI);const FI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],qI=he("ellipsis",FI);const KI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sT=he("eye-off",KI);const QI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fr=he("eye",QI);const GI=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],WI=he("factory",GI);const YI=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Eb=he("folder",YI);const XI=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],JI=he("heading-1",XI);const ZI=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],e4=he("heading-2",ZI);const t4=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],n4=he("heading-3",t4);const r4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],al=he("heart",r4);const s4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_b=he("house",s4);const i4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],hx=he("image",i4);const o4=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],a4=he("italic",o4);const l4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],c4=he("layout-dashboard",l4);const u4=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],iT=he("list-ordered",u4);const d4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],on=he("list",d4);const f4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],h4=he("loader-circle",f4);const p4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oT=he("lock",p4);const m4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],g4=he("log-in",m4);const y4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],x4=he("log-out",y4);const b4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mb=he("mail",b4);const v4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ab=he("map-pin",v4);const S4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aT=he("menu",S4);const w4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],px=he("message-circle",w4);const N4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],C4=he("message-square",N4);const j4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ti=he("package",j4);const k4=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],T4=he("palette",k4);const E4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],_4=he("pencil",E4);const M4=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],A4=he("percent",M4);const R4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lT=he("phone",R4);const O4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vr=he("plus",O4);const D4=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],I4=he("quote",D4);const P4=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],L4=he("redo",P4);const z4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cT=he("refresh-cw",z4);const B4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],V4=he("ruler",B4);const $4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cl=he("search",$4);const H4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],U4=he("send",H4);const F4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ks=he("settings",F4);const q4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],K4=he("share-2",q4);const Q4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],G4=he("shield-alert",Q4);const W4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Y4=he("shield",W4);const X4=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],uT=he("shopping-bag",X4);const J4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ll=he("shopping-cart",J4);const Z4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$p=he("square-pen",Z4);const eP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tP=he("star",eP);const nP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zu=he("tag",nP);const rP=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],u0=he("tags",rP);const sP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jl=he("trash-2",sP);const iP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_f=he("trending-up",iP);const oP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pr=he("triangle-alert",oP);const aP=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],$c=he("truck",aP);const lP=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],cP=he("undo",lP);const uP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dP=he("upload",uP);const fP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mx=he("users",fP);const hP=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],IC=he("warehouse",hP);const pP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ht=he("x",pP);function mP(){return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 max-w-md w-full text-center border border-gray-100",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full bg-red-50 mb-6",children:u.jsx("span",{className:"text-5xl font-bold text-red-500",children:"404"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Khng tm thy trang"}),u.jsx("p",{className:"text-gray-600 text-sm mb-8 leading-relaxed",children:"Trang bn ang tm kim khng tn ti hoc  c di chuyn."}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("a",{href:"/",className:"flex items-center justify-center gap-2 w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium","aria-label":"V trang ch",children:[u.jsx(_b,{className:"w-5 h-5"}),"Tr v trang ch"]}),u.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center justify-center gap-2 w-full px-6 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium border border-gray-300","aria-label":"Quay li",type:"button",children:[u.jsx(Ti,{className:"w-5 h-5"}),"Quay li"]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-6 leading-relaxed",children:"Nu bn cho rng y l li, vui lng lin h vi chng ti."})]})})}const Bu=O5({component:()=>u.jsx(Iu,{}),notFoundComponent:mP});function gP(){return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 max-w-md w-full text-center border border-gray-100",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full bg-orange-50 mb-6",children:u.jsx(G4,{className:"w-16 h-16 text-orange-500",strokeWidth:1.5})}),u.jsx("div",{className:"mb-4",children:u.jsx("span",{className:"inline-block px-4 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-semibold",children:"Li 403"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Truy cp b t chi"}),u.jsx("p",{className:"text-gray-600 text-sm mb-2 leading-relaxed",children:"Bn khng c quyn truy cp vo trang ny."}),u.jsx("p",{className:"text-gray-500 text-xs mb-8 leading-relaxed",children:"Vui lng lin h qun tr vin nu bn cho rng y l li."}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Zt,{to:"/",className:"flex items-center justify-center gap-2 w-full px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium shadow-sm hover:shadow-md","aria-label":"V trang ch",children:[u.jsx(_b,{className:"w-5 h-5"}),"Tr v trang ch"]}),u.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center justify-center gap-2 w-full px-6 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium border border-gray-300","aria-label":"Quay li",type:"button",children:[u.jsx(oT,{className:"w-5 h-5"}),"Quay li trang trc"]})]}),u.jsx("div",{className:"mt-6 p-4 bg-orange-50 rounded-lg border border-orange-100",children:u.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed",children:[u.jsx("span",{className:"font-semibold",children:"Lu :"})," Trang ny yu cu quyn truy cp c bit. Nu bn cn truy cp, vui lng lin h b phn h tr."]})})]})})}const yP=Ge("/403")({component:gP}),xP=({currentMenu:t,currentSubMenu:e})=>{const n=()=>e?`${t} - ${e}`:t||"Admin Dashboard",r=()=>e?u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsx("span",{children:"Admin"}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{children:t}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"text-blue-600",children:e})]}):t&&t!=="Admin Dashboard"?u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsx("span",{children:"Admin"}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"text-blue-600",children:t})]}):u.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Admin"});return u.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"h-16 grid grid-cols-2 items-center",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-8 h-8 rounded object-cover"}),u.jsxs("div",{children:[r(),u.jsx("div",{className:"text-lg font-semibold text-blue-600",children:n()})]})]}),u.jsx("div",{className:"flex justify-end items-center space-x-3",children:u.jsx(Zt,{to:"/","aria-label":"Home",className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-colors",children:u.jsx(_b,{className:"w-5 h-5"})})})]})})})},PC=[{key:"dashboard",label:"Tng quan",icon:u.jsx(c4,{size:18}),items:[{label:"Dashboard",fullPath:"/admin/dashboard",icon:u.jsx(fx,{size:16})},{label:"Phn tch doanh thu",fullPath:"/admin/analytics/revenue",icon:u.jsx(_f,{size:16})},{label:"Bo co tng quan",fullPath:"/admin/reports/overview",icon:u.jsx(fr,{size:16})}]},{key:"products",label:"Qun l sn phm",icon:u.jsx(Ti,{size:18}),items:[{label:"To sn phm mi",fullPath:"/admin/products/create",icon:u.jsx(Vr,{size:16})},{label:"Danh sch sn phm",fullPath:"/admin/products/list",icon:u.jsx(on,{size:16})},{label:"Qun l tn kho",fullPath:"/admin/products/inventory",icon:u.jsx(IC,{size:16})},{label:"Serial sn phm",fullPath:"/admin/products/serials",icon:u.jsx(ks,{size:16})}]},{key:"categories",label:"Danh mc & Phn loi",icon:u.jsx(iT,{size:18}),items:[{label:"To danh mc chnh",fullPath:"/admin/categories/create",icon:u.jsx(Vr,{size:16})},{label:"To danh mc con",fullPath:"/admin/subcategories/create",icon:u.jsx(Vr,{size:16})},{label:"To loi sn phm",fullPath:"/admin/product-types/create",icon:u.jsx(Vr,{size:16})},{label:"Qun l danh mc",fullPath:"/admin/categories/list",icon:u.jsx(on,{size:16})},{label:"Qun l danh mc con",fullPath:"/admin/subcategories/list",icon:u.jsx(on,{size:16})},{label:"Qun l loi sn phm",fullPath:"/admin/product-types/list",icon:u.jsx(on,{size:16})}]},{key:"users",label:"Qun l ngi dng",icon:u.jsx(mx,{size:18}),items:[{label:"Danh sch khch hng",fullPath:"/admin/users/customers",icon:u.jsx(mx,{size:16})},{label:"Danh sch shipper",fullPath:"/admin/users/shippers",icon:u.jsx($c,{size:16})},{label:"Qun l ti khon",fullPath:"/admin/users/accounts",icon:u.jsx(ks,{size:16})},{label:"Quyn & vai tr",fullPath:"/admin/users/permissions",icon:u.jsx(c0,{size:16})}]},{key:"orders",label:"Qun l n hng",icon:u.jsx(ll,{size:18}),items:[{label:"Tt c n hng",fullPath:"/admin/orders",icon:u.jsx(on,{size:16})},{label:"n hng ch x l",fullPath:"/admin/orders/pending",icon:u.jsx(fu,{size:16})},{label:"n hng ang giao",fullPath:"/admin/orders/shipping",icon:u.jsx($c,{size:16})},{label:"n hng hon thnh",fullPath:"/admin/orders/completed",icon:u.jsx(c0,{size:16})},{label:"n hng  hy",fullPath:"/admin/orders/cancelled",icon:u.jsx(fr,{size:16})}]},{key:"inventory",label:"Qun l kho",icon:u.jsx(IC,{size:18}),items:[{label:"To kho mi",fullPath:"/admin/warehouses/create",icon:u.jsx(Vr,{size:16})},{label:"Danh sch kho",fullPath:"/admin/warehouses",icon:u.jsx(on,{size:16})},{label:"Nhp kho",fullPath:"/admin/inventory/import",icon:u.jsx(_f,{size:16})},{label:"Xut kho",fullPath:"/admin/inventory/export",icon:u.jsx(_f,{size:16})},{label:"Bo co tn kho",fullPath:"/admin/inventory/reports",icon:u.jsx(fx,{size:16})}]},{key:"batches",label:"Qun l l hng",icon:u.jsx(NI,{size:18}),items:[{label:"To l hng mi",fullPath:"/admin/batches/create",icon:u.jsx(Vr,{size:16})},{label:"Danh sch l hng",fullPath:"/admin/batches",icon:u.jsx(on,{size:16})},{label:"L hng sp ht hn",fullPath:"/admin/batches/expiring",icon:u.jsx(fu,{size:16})},{label:"Theo di l hng",fullPath:"/admin/batches/tracking",icon:u.jsx(fr,{size:16})}]},{key:"manufacturers",label:"Nh sn xut",icon:u.jsx(WI,{size:18}),items:[{label:"Thm nh sn xut",fullPath:"/admin/manufacturers/create",icon:u.jsx(Vr,{size:16})},{label:"Danh sch nh sn xut",fullPath:"/admin/manufacturers",icon:u.jsx(on,{size:16})},{label:"nh gi nh sn xut",fullPath:"/admin/manufacturers/reviews",icon:u.jsx(fr,{size:16})}]},{key:"shipping",label:"Vn chuyn & Ph",icon:u.jsx($c,{size:18}),items:[{label:"Cu hnh ph vn chuyn",fullPath:"/admin/shipping/fees/create",icon:u.jsx(Vr,{size:16})},{label:"Qun l ph vn chuyn",fullPath:"/admin/shipping/fees",icon:u.jsx(on,{size:16})},{label:"Khu vc vn chuyn",fullPath:"/admin/shipping/zones",icon:u.jsx(ks,{size:16})},{label:"Nh vn chuyn",fullPath:"/admin/shipping/providers",icon:u.jsx($c,{size:16})}]},{key:"promotions",label:"Khuyn mi",icon:u.jsx(A4,{size:18}),items:[{label:"To chng trnh gim gi",fullPath:"/admin/promotions/discounts/create",icon:u.jsx(Vr,{size:16})},{label:"Qun l gim gi",fullPath:"/admin/promotions/discounts",icon:u.jsx(on,{size:16})},{label:"To m gim gi",fullPath:"/admin/promotions/coupons/create",icon:u.jsx(Vr,{size:16})},{label:"Qun l m gim gi",fullPath:"/admin/promotions/coupons",icon:u.jsx(on,{size:16})},{label:"Flash Sale",fullPath:"/admin/promotions/flash-sales",icon:u.jsx(_f,{size:16})}]},{key:"communication",label:"H tr & Giao tip",icon:u.jsx(px,{size:18}),items:[{label:"Chat vi khch hng",fullPath:"/admin/chat/customers",icon:u.jsx(px,{size:16})},{label:"H tr k thut",fullPath:"/admin/support/tickets",icon:u.jsx(c0,{size:16})},{label:"Thng bo h thng",fullPath:"/admin/notifications",icon:u.jsx(fr,{size:16})}]},{key:"settings",label:"Ci t h thng",icon:u.jsx(ks,{size:18}),items:[{label:"Ci t chung",fullPath:"/admin/settings/general",icon:u.jsx(ks,{size:16})},{label:"Ci t thanh ton",fullPath:"/admin/settings/payment",icon:u.jsx(ks,{size:16})},{label:"Ci t email",fullPath:"/admin/settings/email",icon:u.jsx(ks,{size:16})},{label:"Backup & Restore",fullPath:"/admin/settings/backup",icon:u.jsx(ks,{size:16})}]}],bP=({isCollapsed:t,onToggleCollapse:e,onMenuSelect:n})=>{const[r,s]=C.useState({}),o=Vp();C.useEffect(()=>{const m=o.pathname;PC.forEach(g=>{if(g.items.some(x=>m.startsWith(x.fullPath))){s(v=>({...v,[g.key]:!0}));const x=g.items.find(v=>m.startsWith(v.fullPath));x&&n&&n(g.label,x.label)}})},[o.pathname,n]);const l=m=>{s(g=>({...g,[m]:!g[m]}))},c=m=>{t?(e(),s({[m.key]:!0})):l(m.key),n&&n(m.label)},f=(m,g)=>{n&&n(m.label,g.label)},h=m=>o.pathname===m;return u.jsxs("div",{className:"h-full bg-white border-r border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!t&&u.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Admin Panel"}),u.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded transition-colors","aria-label":t?"Expand sidebar":"Collapse sidebar",children:u.jsx(aT,{size:20})})]}),u.jsx("nav",{className:"h-[calc(100%-4rem)] overflow-y-auto py-4",children:u.jsx("ul",{className:"space-y-2 px-3",children:PC.map(m=>u.jsxs("li",{children:[u.jsxs("button",{onClick:()=>c(m),className:`
                  w-full flex items-center justify-between px-3 py-2 text-left
                  text-gray-700 hover:bg-gray-100 rounded-lg transition-colors
                  ${t?"justify-center":""}
                `,title:t?m.label:void 0,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"flex-shrink-0",children:m.icon}),!t&&u.jsx("span",{className:"font-medium",children:m.label})]}),!t&&u.jsx("span",{className:"flex-shrink-0",children:r[m.key]?u.jsx(Is,{size:16}):u.jsx(Xo,{size:16})})]}),r[m.key]&&!t&&u.jsx("ul",{className:"mt-2 ml-6 space-y-1",children:m.items.map(g=>u.jsx("li",{children:u.jsxs(Zt,{to:g.fullPath,className:`
                          flex items-center space-x-3 px-3 py-2 text-sm rounded-lg transition-colors
                          ${h(g.fullPath)?"bg-blue-100 text-blue-900 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                        `,onClick:()=>f(m,g),children:[u.jsx("span",{className:"flex-shrink-0",children:g.icon}),u.jsx("span",{children:g.label})]})},g.fullPath))})]},m.key))})})]})};function vP(){const t=zt(),[e,n]=C.useState(""),[r,s]=C.useState(""),[o,l]=C.useState(!1),{userInfo:c}=Yo(g=>g.authInfo),f=c?.role==="Admin";C.useEffect(()=>{if(!c){t({to:"/login"});return}if(!f){t({to:"/403"});return}},[c,f,t]);const h=(g,y)=>{n(g),s(y||"");const x=y?`${g} - ${y} | Admin DDStore`:`${g} | Admin DDStore`;document.title=x},m=()=>{l(!o)};return!c||!f?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"text-gray-600",children:"ang kim tra quyn truy cp..."})}):u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:`transition-all duration-300 ease-in-out ${o?"w-16":"w-72"}`,children:u.jsx(bP,{isCollapsed:o,onToggleCollapse:m,onMenuSelect:h})}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx(xP,{currentMenu:e,currentSubMenu:r}),u.jsx("main",{className:"flex-1 overflow-auto p-6",children:u.jsx(Iu,{})})]})]})}const SP=Ge("/admin")({component:vP});function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wP=typeof Symbol=="function"&&Symbol.observable||"@@observable",LC=wP,d0=()=>Math.random().toString(36).substring(7).split("").join("."),NP={INIT:`@@redux/INIT${d0()}`,REPLACE:`@@redux/REPLACE${d0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${d0()}`},Mh=NP;function Vi(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dT(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(dT)(t,e)}let r=t,s=e,o=new Map,l=o,c=0,f=!1;function h(){l===o&&(l=new Map,o.forEach((N,j)=>{l.set(j,N)}))}function m(){if(f)throw new Error(Xt(3));return s}function g(N){if(typeof N!="function")throw new Error(Xt(4));if(f)throw new Error(Xt(5));let j=!0;h();const A=c++;return l.set(A,N),function(){if(j){if(f)throw new Error(Xt(6));j=!1,h(),l.delete(A),o=null}}}function y(N){if(!Vi(N))throw new Error(Xt(7));if(typeof N.type>"u")throw new Error(Xt(8));if(typeof N.type!="string")throw new Error(Xt(17));if(f)throw new Error(Xt(9));try{f=!0,s=r(s,N)}finally{f=!1}return(o=l).forEach(A=>{A()}),N}function x(N){if(typeof N!="function")throw new Error(Xt(10));r=N,y({type:Mh.REPLACE})}function v(){const N=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Xt(11));function A(){const _=j;_.next&&_.next(m())}return A(),{unsubscribe:N(A)}},[LC](){return this}}}return y({type:Mh.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:x,[LC]:v}}function CP(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Mh.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:Mh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function fT(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let s;try{CP(n)}catch(o){s=o}return function(l={},c){if(s)throw s;let f=!1;const h={};for(let m=0;m<r.length;m++){const g=r[m],y=n[g],x=l[g],v=y(x,c);if(typeof v>"u")throw c&&c.type,new Error(Xt(14));h[g]=v,f=f||v!==x}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Ah(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function jP(...t){return e=>(n,r)=>{const s=e(n,r);let o=()=>{throw new Error(Xt(15))};const l={getState:s.getState,dispatch:(f,...h)=>o(f,...h)},c=t.map(f=>f(l));return o=Ah(...c)(s.dispatch),{...s,dispatch:o}}}function hT(t){return Vi(t)&&"type"in t&&typeof t.type=="string"}var Rb=Symbol.for("immer-nothing"),eu=Symbol.for("immer-draftable"),Tn=Symbol.for("immer-state");function nn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cl=Object.getPrototypeOf;function _r(t){return!!t&&!!t[Tn]}function Mr(t){return t?pT(t)||Array.isArray(t)||!!t[eu]||!!t.constructor?.[eu]||kl(t)||Vu(t):!1}var kP=Object.prototype.constructor.toString(),zC=new WeakMap;function pT(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zC.get(n);return r===void 0&&(r=Function.toString.call(n),zC.set(n,r)),r===kP}function TP(t){return _r(t)||nn(15,t),t[Tn].base_}function hu(t,e,n=!0){zo(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((r,s)=>e(s,r,t))}function zo(t){const e=t[Tn];return e?e.type_:Array.isArray(t)?1:kl(t)?2:Vu(t)?3:0}function pu(t,e){return zo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function f0(t,e){return zo(t)===2?t.get(e):t[e]}function mT(t,e,n){const r=zo(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function EP(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function kl(t){return t instanceof Map}function Vu(t){return t instanceof Set}function No(t){return t.copy_||t.base_}function gx(t,e){if(kl(t))return new Map(t);if(Vu(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=pT(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Tn];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const l=s[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(cl(t),r)}else{const r=cl(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function Ob(t,e=!1){return Hp(t)||_r(t)||!Mr(t)||(zo(t)>1&&Object.defineProperties(t,{set:Mf,add:Mf,clear:Mf,delete:Mf}),Object.freeze(t),e&&Object.values(t).forEach(n=>Ob(n,!0))),t}function _P(){nn(2)}var Mf={value:_P};function Hp(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var yx={};function Bo(t){const e=yx[t];return e||nn(0,t),e}function MP(t,e){yx[t]||(yx[t]=e)}var mu;function gT(){return mu}function AP(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BC(t,e){e&&(Bo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function xx(t){bx(t),t.drafts_.forEach(RP),t.drafts_=null}function bx(t){t===mu&&(mu=t.parent_)}function VC(t){return mu=AP(mu,t)}function RP(t){const e=t[Tn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $C(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Tn].modified_&&(xx(e),nn(4)),Mr(t)&&(t=Rh(e,t),e.parent_||Oh(e,t)),e.patches_&&Bo("Patches").generateReplacementPatches_(n[Tn].base_,t,e.patches_,e.inversePatches_)):t=Rh(e,n,[]),xx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Rb?t:void 0}function Rh(t,e,n){if(Hp(e))return e;const r=t.immer_.shouldUseStrictIteration(),s=e[Tn];if(!s)return hu(e,(o,l)=>HC(t,s,e,o,l,n),r),e;if(s.scope_!==t)return e;if(!s.modified_)return Oh(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),hu(l,(f,h)=>HC(t,s,o,f,h,n,c),r),Oh(t,o,!1),n&&t.patches_&&Bo("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function HC(t,e,n,r,s,o,l){if(s==null||typeof s!="object"&&!l)return;const c=Hp(s);if(!(c&&!l)){if(_r(s)){const f=o&&e&&e.type_!==3&&!pu(e.assigned_,r)?o.concat(r):void 0,h=Rh(t,s,f);if(mT(n,r,h),_r(h))t.canAutoFreeze_=!1;else return}else l&&n.add(s);if(Mr(s)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===s&&c)return;Rh(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(kl(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Oh(t,s)}}}function Oh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ob(e,n)}function OP(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:gT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Db;n&&(s=[r],o=gu);const{revoke:l,proxy:c}=Proxy.revocable(s,o);return r.draft_=c,r.revoke_=l,c}var Db={get(t,e){if(e===Tn)return t;const n=No(t);if(!pu(n,e))return DP(t,n,e);const r=n[e];return t.finalized_||!Mr(r)?r:r===h0(t.base_,e)?(p0(t),t.copy_[e]=Sx(r,t)):r},has(t,e){return e in No(t)},ownKeys(t){return Reflect.ownKeys(No(t))},set(t,e,n){const r=yT(No(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=h0(No(t),e),o=s?.[Tn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(EP(n,s)&&(n!==void 0||pu(t.base_,e)))return!0;p0(t),vx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return h0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,p0(t),vx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=No(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){nn(11)},getPrototypeOf(t){return cl(t.base_)},setPrototypeOf(){nn(12)}},gu={};hu(Db,(t,e)=>{gu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gu.deleteProperty=function(t,e){return gu.set.call(this,t,e,void 0)};gu.set=function(t,e,n){return Db.set.call(this,t[0],e,n,t[0])};function h0(t,e){const n=t[Tn];return(n?No(n):t)[e]}function DP(t,e,n){const r=yT(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function yT(t,e){if(!(e in t))return;let n=cl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=cl(n)}}function vx(t){t.modified_||(t.modified_=!0,t.parent_&&vx(t.parent_))}function p0(t){t.copy_||(t.copy_=gx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var IP=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...h){return l.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&nn(6),r!==void 0&&typeof r!="function"&&nn(7);let s;if(Mr(e)){const o=VC(this),l=Sx(e,void 0);let c=!0;try{s=n(l),c=!1}finally{c?xx(o):bx(o)}return BC(o,r),$C(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===Rb&&(s=void 0),this.autoFreeze_&&Ob(s,!0),r){const o=[],l=[];Bo("Patches").generateReplacementPatches_(e,s,o,l),r(o,l)}return s}else nn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,s;return[this.produce(e,n,(l,c)=>{r=l,s=c}),r,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Mr(t)||nn(8),_r(t)&&(t=xT(t));const e=VC(this),n=Sx(t,void 0);return n[Tn].isManual_=!0,bx(e),n}finishDraft(t,e){const n=t&&t[Tn];(!n||!n.isManual_)&&nn(9);const{scope_:r}=n;return BC(r,e),$C(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Bo("Patches").applyPatches_;return _r(t)?r(t,e):this.produce(t,s=>r(s,e))}};function Sx(t,e){const n=kl(t)?Bo("MapSet").proxyMap_(t,e):Vu(t)?Bo("MapSet").proxySet_(t,e):OP(t,e);return(e?e.scope_:gT()).drafts_.push(n),n}function xT(t){return _r(t)||nn(10,t),bT(t)}function bT(t){if(!Mr(t)||Hp(t))return t;const e=t[Tn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=gx(t,!0);return hu(n,(s,o)=>{mT(n,s,bT(o))},r),e&&(e.finalized_=!1),n}function PP(){const e="replace",r="remove";function s(y,x,v,w){switch(y.type_){case 0:case 2:return l(y,x,v,w);case 1:return o(y,x,v,w);case 3:return c(y,x,v,w)}}function o(y,x,v,w){let{base_:N,assigned_:j}=y,A=y.copy_;A.length<N.length&&([N,A]=[A,N],[v,w]=[w,v]);for(let E=0;E<N.length;E++)if(j[E]&&A[E]!==N[E]){const _=x.concat([E]);v.push({op:e,path:_,value:g(A[E])}),w.push({op:e,path:_,value:g(N[E])})}for(let E=N.length;E<A.length;E++){const _=x.concat([E]);v.push({op:"add",path:_,value:g(A[E])})}for(let E=A.length-1;N.length<=E;--E){const _=x.concat([E]);w.push({op:r,path:_})}}function l(y,x,v,w){const{base_:N,copy_:j}=y;hu(y.assigned_,(A,E)=>{const _=f0(N,A),T=f0(j,A),O=E?pu(N,A)?e:"add":r;if(_===T&&O===e)return;const M=x.concat(A);v.push(O===r?{op:O,path:M}:{op:O,path:M,value:T}),w.push(O==="add"?{op:r,path:M}:O===r?{op:"add",path:M,value:g(_)}:{op:e,path:M,value:g(_)})})}function c(y,x,v,w){let{base_:N,copy_:j}=y,A=0;N.forEach(E=>{if(!j.has(E)){const _=x.concat([A]);v.push({op:r,path:_,value:E}),w.unshift({op:"add",path:_,value:E})}A++}),A=0,j.forEach(E=>{if(!N.has(E)){const _=x.concat([A]);v.push({op:"add",path:_,value:E}),w.unshift({op:r,path:_,value:E})}A++})}function f(y,x,v,w){v.push({op:e,path:[],value:x===Rb?void 0:x}),w.push({op:e,path:[],value:y})}function h(y,x){return x.forEach(v=>{const{path:w,op:N}=v;let j=y;for(let T=0;T<w.length-1;T++){const O=zo(j);let M=w[T];typeof M!="string"&&typeof M!="number"&&(M=""+M),(O===0||O===1)&&(M==="__proto__"||M==="constructor")&&nn(19),typeof j=="function"&&M==="prototype"&&nn(19),j=f0(j,M),typeof j!="object"&&nn(18,w.join("/"))}const A=zo(j),E=m(v.value),_=w[w.length-1];switch(N){case e:switch(A){case 2:return j.set(_,E);case 3:nn(16);default:return j[_]=E}case"add":switch(A){case 1:return _==="-"?j.push(E):j.splice(_,0,E);case 2:return j.set(_,E);case 3:return j.add(E);default:return j[_]=E}case r:switch(A){case 1:return j.splice(_,1);case 2:return j.delete(_);case 3:return j.delete(v.value);default:return delete j[_]}default:nn(17,N)}}),y}function m(y){if(!Mr(y))return y;if(Array.isArray(y))return y.map(m);if(kl(y))return new Map(Array.from(y.entries()).map(([v,w])=>[v,m(w)]));if(Vu(y))return new Set(Array.from(y).map(m));const x=Object.create(cl(y));for(const v in y)x[v]=m(y[v]);return pu(y,eu)&&(x[eu]=y[eu]),x}function g(y){return _r(y)?m(y):y}MP("Patches",{applyPatches_:h,generatePatches_:s,generateReplacementPatches_:f})}var Vo=new IP,$u=Vo.produce,vT=Vo.produceWithPatches.bind(Vo),LP=Vo.setUseStrictIteration.bind(Vo),UC=Vo.applyPatches.bind(Vo);function zP(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function BP(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function VP(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var FC=t=>Array.isArray(t)?t:[t];function $P(t){const e=Array.isArray(t[0])?t[0]:t;return VP(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function HP(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var UP=class{constructor(t){this.value=t}deref(){return this.value}},FP=typeof WeakRef<"u"?WeakRef:UP,qP=0,qC=1;function Af(){return{s:qP,v:void 0,o:null,p:null}}function Dh(t,e={}){let n=Af();const{resultEqualityCheck:r}=e;let s,o=0;function l(){let c=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let v=c.o;v===null&&(c.o=v=new WeakMap);const w=v.get(x);w===void 0?(c=Af(),v.set(x,c)):c=w}else{let v=c.p;v===null&&(c.p=v=new Map);const w=v.get(x);w===void 0?(c=Af(),v.set(x,c)):c=w}}const h=c;let m;if(c.s===qC)m=c.v;else if(m=t.apply(null,arguments),o++,r){const g=s?.deref?.()??s;g!=null&&r(g,m)&&(m=g,o!==0&&o--),s=typeof m=="object"&&m!==null||typeof m=="function"?new FP(m):m}return h.s=qC,h.v=m,m}return l.clearCache=()=>{n=Af(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function KP(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let o=0,l=0,c,f={},h=s.pop();typeof h=="object"&&(f=h,h=s.pop()),zP(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:x=Dh,argsMemoizeOptions:v=[]}=m,w=FC(y),N=FC(v),j=$P(s),A=g(function(){return o++,h.apply(null,arguments)},...w),E=x(function(){l++;const T=HP(j,arguments);return c=A.apply(null,T),c},...N);return Object.assign(E,{resultFunc:h,memoizedResultFunc:A,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var Ib=KP(Dh),QP=Object.assign((t,e=Ib)=>{BP(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>QP});function ST(t){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,t):s(o)}var GP=ST(),WP=ST,YP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ah:Ah.apply(null,arguments)},XP=t=>t&&typeof t.match=="function";function kr(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(Tr(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>hT(r)&&r.type===t,n}var wT=class Hc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hc.prototype)}static get[Symbol.species](){return Hc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hc(...e[0].concat(this)):new Hc(...e.concat(this))}};function KC(t){return Mr(t)?$u(t,()=>{}):t}function Rf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function JP(t){return typeof t=="boolean"}var ZP=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let l=new wT;return n&&(JP(n)?l.push(GP):l.push(WP(n.extraArgument))),l},Up="RTK_autoBatch",Dc=()=>t=>({payload:t,meta:{[Up]:!0}}),QC=t=>e=>{setTimeout(e,t)},eL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,o=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QC(10):t.type==="callback"?t.queueNotification:QC(t.timeout),h=()=>{l=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>s&&m(),y=r.subscribe(g);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return s=!m?.meta?.[Up],o=!s,o&&(l||(l=!0,f(h))),r.dispatch(m)}finally{s=!0}}})},tL=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new wT(t);return r&&s.push(eL(typeof r=="object"?r:void 0)),s};function nL(t){const e=ZP(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(Vi(n))c=fT(n);else throw new Error(Tr(1));let f;typeof r=="function"?f=r(e):f=e();let h=Ah;s&&(h=YP({trace:!1,...typeof s=="object"&&s}));const m=jP(...f),g=tL(m);let y=typeof l=="function"?l(g):g();const x=h(...y);return dT(c,o,x)}function NT(t){const e={},n=[];let r;const s={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Tr(28));if(c in e)throw new Error(Tr(29));return e[c]=l,s},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),s},addMatcher(o,l){return n.push({matcher:o,reducer:l}),s},addDefaultCase(o){return r=o,s}};return t(s),[e,n,r]}LP(!1);function rL(t){return typeof t=="function"}function sL(t,e){let[n,r,s]=NT(e),o;if(rL(t))o=()=>KC(t());else{const c=KC(t);o=()=>c}function l(c=o(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[s]),h.reduce((m,g)=>{if(g)if(_r(m)){const x=g(m,f);return x===void 0?m:x}else{if(Mr(m))return $u(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return l.getInitialState=o,l}var CT=(t,e)=>XP(t)?t.match(e):t(e);function Ps(...t){return e=>t.some(n=>CT(n,e))}function tu(...t){return e=>t.every(n=>CT(n,e))}function Fp(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function Hu(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Pb(...t){return t.length===0?e=>Fp(e,["pending"]):Hu(t)?Ps(...t.map(e=>e.pending)):Pb()(t[0])}function ul(...t){return t.length===0?e=>Fp(e,["rejected"]):Hu(t)?Ps(...t.map(e=>e.rejected)):ul()(t[0])}function qp(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?tu(ul(...t),e):Hu(t)?tu(ul(...t),e):qp()(t[0])}function $i(...t){return t.length===0?e=>Fp(e,["fulfilled"]):Hu(t)?Ps(...t.map(e=>e.fulfilled)):$i()(t[0])}function wx(...t){return t.length===0?e=>Fp(e,["pending","fulfilled","rejected"]):Hu(t)?Ps(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):wx()(t[0])}var iL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Lb=(t=21)=>{let e="",n=t;for(;n--;)e+=iL[Math.random()*64|0];return e},oL=["name","message","stack","code"],m0=class{constructor(t,e){this.payload=t,this.meta=e}_type},GC=class{constructor(t,e){this.payload=t,this.meta=e}_type},aL=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of oL)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},WC="External signal was aborted",YC=(()=>{function t(e,n,r){const s=kr(e+"/fulfilled",(f,h,m,g)=>({payload:f,meta:{...g||{},arg:m,requestId:h,requestStatus:"fulfilled"}})),o=kr(e+"/pending",(f,h,m)=>({payload:void 0,meta:{...m||{},arg:h,requestId:f,requestStatus:"pending"}})),l=kr(e+"/rejected",(f,h,m,g,y)=>({payload:g,error:(r&&r.serializeError||aL)(f||"Rejected"),meta:{...y||{},arg:m,requestId:h,rejectedWithValue:!!g,requestStatus:"rejected",aborted:f?.name==="AbortError",condition:f?.name==="ConditionError"}}));function c(f,{signal:h}={}){return(m,g,y)=>{const x=r?.idGenerator?r.idGenerator(f):Lb(),v=new AbortController;let w,N;function j(E){N=E,v.abort()}h&&(h.aborted?j(WC):h.addEventListener("abort",()=>j(WC),{once:!0}));const A=(async function(){let E;try{let T=r?.condition?.(f,{getState:g,extra:y});if(cL(T)&&(T=await T),T===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const O=new Promise((M,R)=>{w=()=>{R({name:"AbortError",message:N||"Aborted"})},v.signal.addEventListener("abort",w)});m(o(x,f,r?.getPendingMeta?.({requestId:x,arg:f},{getState:g,extra:y}))),E=await Promise.race([O,Promise.resolve(n(f,{dispatch:m,getState:g,extra:y,requestId:x,signal:v.signal,abort:j,rejectWithValue:(M,R)=>new m0(M,R),fulfillWithValue:(M,R)=>new GC(M,R)})).then(M=>{if(M instanceof m0)throw M;return M instanceof GC?s(M.payload,x,f,M.meta):s(M,x,f)})])}catch(T){E=T instanceof m0?l(null,x,f,T.payload,T.meta):l(T,x,f)}finally{w&&v.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&l.match(E)&&E.meta.condition||m(E),E})();return Object.assign(A,{abort:j,requestId:x,arg:f,unwrap(){return A.then(lL)}})}}return Object.assign(c,{pending:o,rejected:l,fulfilled:s,settled:Ps(l,s),typePrefix:e})}return t.withTypes=()=>t,t})();function lL(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function cL(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var uL=Symbol.for("rtk-slice-createasyncthunk");function dL(t,e){return`${t}/${e}`}function fL({creators:t}={}){const e=t?.asyncThunk?.[uL];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(Tr(11));const l=(typeof r.reducers=="function"?r.reducers(pL()):r.reducers)||{},c=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,_){const T=typeof E=="string"?E:E.type;if(!T)throw new Error(Tr(12));if(T in f.sliceCaseReducersByType)throw new Error(Tr(13));return f.sliceCaseReducersByType[T]=_,h},addMatcher(E,_){return f.sliceMatchers.push({matcher:E,reducer:_}),h},exposeAction(E,_){return f.actionCreators[E]=_,h},exposeCaseReducer(E,_){return f.sliceCaseReducersByName[E]=_,h}};c.forEach(E=>{const _=l[E],T={reducerName:E,type:dL(s,E),createNotation:typeof r.reducers=="function"};gL(_)?xL(T,_,h,e):mL(T,_,h)});function m(){const[E={},_=[],T=void 0]=typeof r.extraReducers=="function"?NT(r.extraReducers):[r.extraReducers],O={...E,...f.sliceCaseReducersByType};return sL(r.initialState,M=>{for(let R in O)M.addCase(R,O[R]);for(let R of f.sliceMatchers)M.addMatcher(R.matcher,R.reducer);for(let R of _)M.addMatcher(R.matcher,R.reducer);T&&M.addDefaultCase(T)})}const g=E=>E,y=new Map,x=new WeakMap;let v;function w(E,_){return v||(v=m()),v(E,_)}function N(){return v||(v=m()),v.getInitialState()}function j(E,_=!1){function T(M){let R=M[E];return typeof R>"u"&&_&&(R=Rf(x,T,N)),R}function O(M=g){const R=Rf(y,_,()=>new WeakMap);return Rf(R,M,()=>{const I={};for(const[L,P]of Object.entries(r.selectors??{}))I[L]=hL(P,M,()=>Rf(x,M,N),_);return I})}return{reducerPath:E,getSelectors:O,get selectors(){return O(T)},selectSlice:T}}const A={name:s,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...j(o),injectInto(E,{reducerPath:_,...T}={}){const O=_??o;return E.inject({reducerPath:O,reducer:w},T),{...A,...j(O,!0)}}};return A}}function hL(t,e,n,r){function s(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return s.unwrapped=t,s}var _s=fL();function pL(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function mL({type:t,reducerName:e,createNotation:n},r,s){let o,l;if("reducer"in r){if(n&&!yL(r))throw new Error(Tr(17));o=r.reducer,l=r.prepare}else o=r;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?kr(t,l):kr(t))}function gL(t){return t._reducerDefinitionType==="asyncThunk"}function yL(t){return t._reducerDefinitionType==="reducerWithPrepare"}function xL({type:t,reducerName:e},n,r,s){if(!s)throw new Error(Tr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:f,settled:h,options:m}=n,g=s(t,o,m);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),c&&r.addCase(g.pending,c),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Of,pending:c||Of,rejected:f||Of,settled:h||Of})}function Of(){}function Tr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bL=class extends Error{issues;constructor(t){super(t[0].message),this.name="SchemaError",this.issues=t}},jT=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(jT||{}),Ls="uninitialized",Nx="pending",Uc="fulfilled",Fc="rejected";function XC(t){return{status:t,isUninitialized:t===Ls,isLoading:t===Nx,isSuccess:t===Uc,isError:t===Fc}}var JC=Vi;function zb(t,e){if(t===e||!(JC(t)&&JC(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let s=n.length===r.length;const o=Array.isArray(e)?[]:{};for(const l of n)o[l]=zb(t[l],e[l]),s&&(s=t[l]===o[l]);return s?t:o}function Cx(t,e,n){return t.reduce((r,s,o)=>(e(s,o)&&r.push(n(s,o)),r),[]).flat()}function vL(t){return new RegExp("(^|:)//").test(t)}function SL(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Bb(t){return t!=null}function ZC(t){return[...t?.values()??[]].filter(Bb)}function wL(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var NL=t=>t.replace(/\/$/,""),CL=t=>t.replace(/^\//,"");function jL(t,e){if(!t)return e;if(!e)return t;if(vL(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=NL(t),e=CL(e),`${t}${n}${e}`}function Ih(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}var jx=()=>new Map,ej=(...t)=>fetch(...t),kL=t=>t.status>=200&&t.status<=299,TL=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function tj(t){if(!Vi(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}var EL=t=>typeof t=="object"&&(Vi(t)||Array.isArray(t)||typeof t.toJSON=="function");function kT({baseUrl:t,prepareHeaders:e=g=>g,fetchFn:n=ej,paramsSerializer:r,isJsonContentType:s=TL,jsonContentType:o="application/json",jsonReplacer:l,timeout:c,responseHandler:f,validateStatus:h,...m}={}){return typeof fetch>"u"&&n===ej&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(y,x,v)=>{const{getState:w,extra:N,endpoint:j,forced:A,type:E}=x;let _,{url:T,headers:O=new Headers(m.headers),params:M=void 0,responseHandler:R=f??"json",validateStatus:I=h??kL,timeout:L=c,...P}=typeof y=="string"?{url:y}:y,V,H=x.signal;L&&(V=new AbortController,x.signal.addEventListener("abort",V.abort),H=V.signal);let B={...m,signal:H,...P};O=new Headers(tj(O)),B.headers=await e(O,{getState:w,arg:y,extra:N,endpoint:j,forced:A,type:E,extraOptions:v})||O;const K=EL(B.body);if(B.body!=null&&!K&&typeof B.body!="string"&&B.headers.delete("content-type"),!B.headers.has("content-type")&&K&&B.headers.set("content-type",o),K&&s(B.headers)&&(B.body=JSON.stringify(B.body,l)),B.headers.has("accept")||(R==="json"?B.headers.set("accept","application/json"):R==="text"&&B.headers.set("accept","text/plain, text/html, */*")),M){const ne=~T.indexOf("?")?"&":"?",ce=r?r(M):new URLSearchParams(tj(M));T+=ne+ce}T=jL(t,T);const z=new Request(T,B);_={request:new Request(T,B)};let F,te=!1,ue=V&&setTimeout(()=>{te=!0,V.abort()},L);try{F=await n(z)}catch(ne){return{error:{status:te?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ne)},meta:_}}finally{ue&&clearTimeout(ue),V?.signal.removeEventListener("abort",V.abort)}const $=F.clone();_.response=$;let X,se="";try{let ne;if(await Promise.all([g(F,R).then(ce=>X=ce,ce=>ne=ce),$.text().then(ce=>se=ce,()=>{})]),ne)throw ne}catch(ne){return{error:{status:"PARSING_ERROR",originalStatus:F.status,data:se,error:String(ne)},meta:_}}return I(F,X)?{data:X,meta:_}:{error:{status:F.status,data:X},meta:_}};async function g(y,x){if(typeof x=="function")return x(y);if(x==="content-type"&&(x=s(y.headers)?"json":"text"),x==="json"){const v=await y.text();return v.length?JSON.parse(v):null}return y.text()}}var nj=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Kp="__rtkq/",_L="online",ML="offline",TT="focused",Vb=kr(`${Kp}${TT}`),ET=kr(`${Kp}un${TT}`),$b=kr(`${Kp}${_L}`),_T=kr(`${Kp}${ML}`),Uu="query",MT="mutation",AT="infinitequery";function Qp(t){return t.type===Uu}function AL(t){return t.type===MT}function Gp(t){return t.type===AT}function Ph(t){return Qp(t)||Gp(t)}function Hb(t,e,n,r,s,o){const l=RL(t)?t(e,n,r,s):t;return l?Cx(l,Bb,c=>o(RT(c))):[]}function RL(t){return typeof t=="function"}function RT(t){return typeof t=="string"?{type:t}:t}function OL(t,e){return t.catch(e)}var dl=(t,e)=>t.endpointDefinitions[e],yu=Symbol("forceQueryFn"),kx=t=>typeof t[yu]=="function";function DL({serializeQueryArgs:t,queryThunk:e,infiniteQueryThunk:n,mutationThunk:r,api:s,context:o,getInternalState:l}){const c=_=>l(_)?.runningQueries,f=_=>l(_)?.runningMutations,{unsubscribeQueryResult:h,removeMutationResult:m,updateSubscriptionOptions:g}=s.internalActions;return{buildInitiateQuery:j,buildInitiateInfiniteQuery:A,buildInitiateMutation:E,getRunningQueryThunk:y,getRunningMutationThunk:x,getRunningQueriesThunk:v,getRunningMutationsThunk:w};function y(_,T){return O=>{const M=dl(o,_),R=t({queryArgs:T,endpointDefinition:M,endpointName:_});return c(O)?.get(R)}}function x(_,T){return O=>f(O)?.get(T)}function v(){return _=>ZC(c(_))}function w(){return _=>ZC(f(_))}function N(_,T){const O=(M,{subscribe:R=!0,forceRefetch:I,subscriptionOptions:L,[yu]:P,...V}={})=>(H,B)=>{const K=t({queryArgs:M,endpointDefinition:T,endpointName:_});let z;const Q={...V,type:Uu,subscribe:R,forceRefetch:I,subscriptionOptions:L,endpointName:_,originalArgs:M,queryCacheKey:K,[yu]:P};if(Qp(T))z=e(Q);else{const{direction:Z,initialPageParam:ge}=V;z=n({...Q,direction:Z,initialPageParam:ge})}const F=s.endpoints[_].select(M),te=H(z),ue=F(B()),{requestId:$,abort:X}=te,se=ue.requestId!==$,ne=c(H)?.get(K),ce=()=>F(B()),de=Object.assign(P?te.then(ce):se&&!ne?Promise.resolve(ue):Promise.all([ne,te]).then(ce),{arg:M,requestId:$,subscriptionOptions:L,queryCacheKey:K,abort:X,async unwrap(){const Z=await de;if(Z.isError)throw Z.error;return Z.data},refetch:()=>H(O(M,{subscribe:!1,forceRefetch:!0})),unsubscribe(){R&&H(h({queryCacheKey:K,requestId:$}))},updateSubscriptionOptions(Z){de.subscriptionOptions=Z,H(g({endpointName:_,requestId:$,queryCacheKey:K,options:Z}))}});if(!ne&&!se&&!P){const Z=c(H);Z.set(K,de),de.then(()=>{Z.delete(K)})}return de};return O}function j(_,T){return N(_,T)}function A(_,T){return N(_,T)}function E(_){return(T,{track:O=!0,fixedCacheKey:M}={})=>(R,I)=>{const L=r({type:"mutation",endpointName:_,originalArgs:T,track:O,fixedCacheKey:M}),P=R(L),{requestId:V,abort:H,unwrap:B}=P,K=OL(P.unwrap().then(te=>({data:te})),te=>({error:te})),z=()=>{R(m({requestId:V,fixedCacheKey:M}))},Q=Object.assign(K,{arg:P.arg,requestId:V,abort:H,unwrap:B,reset:z}),F=f(R);return F.set(V,Q),Q.then(()=>{F.delete(V)}),M&&(F.set(M,Q),Q.then(()=>{F.get(M)===Q&&F.delete(M)})),Q}}}var OT=class extends bL{constructor(t,e,n,r){super(t),this.value=e,this.schemaName=n,this._bqMeta=r}},bo=(t,e)=>Array.isArray(t)?t.includes(e):!!t;async function vo(t,e,n,r){const s=await t["~standard"].validate(e);if(s.issues)throw new OT(s.issues,e,n,r);return s.value}function rj(t){return t}var Ic=(t={})=>({...t,[Up]:!0});function IL({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:s,assertTagType:o,selectors:l,onSchemaFailure:c,catchSchemaFailure:f,skipSchemaValidation:h}){const m=(P,V,H,B)=>(K,z)=>{const Q=n[P],F=r({queryArgs:V,endpointDefinition:Q,endpointName:P});if(K(s.internalActions.queryResultPatched({queryCacheKey:F,patches:H})),!B)return;const te=s.endpoints[P].select(V)(z()),ue=Hb(Q.providesTags,te.data,void 0,V,{},o);K(s.internalActions.updateProvidedBy([{queryCacheKey:F,providedTags:ue}]))};function g(P,V,H=0){const B=[V,...P];return H&&B.length>H?B.slice(0,-1):B}function y(P,V,H=0){const B=[...P,V];return H&&B.length>H?B.slice(1):B}const x=(P,V,H,B=!0)=>(K,z)=>{const F=s.endpoints[P].select(V)(z()),te={patches:[],inversePatches:[],undo:()=>K(s.util.patchQueryData(P,V,te.inversePatches,B))};if(F.status===Ls)return te;let ue;if("data"in F)if(Mr(F.data)){const[$,X,se]=vT(F.data,H);te.patches.push(...X),te.inversePatches.push(...se),ue=$}else ue=H(F.data),te.patches.push({op:"replace",path:[],value:ue}),te.inversePatches.push({op:"replace",path:[],value:F.data});return te.patches.length===0||K(s.util.patchQueryData(P,V,te.patches,B)),te},v=(P,V,H)=>B=>B(s.endpoints[P].initiate(V,{subscribe:!1,forceRefetch:!0,[yu]:()=>({data:H})})),w=(P,V)=>P.query&&P[V]?P[V]:rj,N=async(P,{signal:V,abort:H,rejectWithValue:B,fulfillWithValue:K,dispatch:z,getState:Q,extra:F})=>{const te=n[P.endpointName],{metaSchema:ue,skipSchemaValidation:$=h}=te,X=P.type===Uu;try{let se=rj;const ne={signal:V,abort:H,dispatch:z,getState:Q,extra:F,endpoint:P.endpointName,type:P.type,forced:X?j(P,Q()):void 0,queryCacheKey:X?P.queryCacheKey:void 0},ce=X?P[yu]:void 0;let de;const Z=async(fe,pe,Ce,Te)=>{if(pe==null&&fe.pages.length)return Promise.resolve({data:fe});const it={queryArg:P.originalArgs,pageParam:pe},ct=await ge(it),Nt=Te?g:y;return{data:{pages:Nt(fe.pages,ct.data,Ce),pageParams:Nt(fe.pageParams,pe,Ce)},meta:ct.meta}};async function ge(fe){let pe;const{extraOptions:Ce,argSchema:Te,rawResponseSchema:it,responseSchema:ct}=te;if(Te&&!bo($,"arg")&&(fe=await vo(Te,fe,"argSchema",{})),ce?pe=ce():te.query?(se=w(te,"transformResponse"),pe=await e(te.query(fe),ne,Ce)):pe=await te.queryFn(fe,ne,Ce,_n=>e(_n,ne,Ce)),typeof process<"u",pe.error)throw new nj(pe.error,pe.meta);let{data:Nt}=pe;it&&!bo($,"rawResponse")&&(Nt=await vo(it,pe.data,"rawResponseSchema",pe.meta));let Bt=await se(Nt,pe.meta,fe);return ct&&!bo($,"response")&&(Bt=await vo(ct,Bt,"responseSchema",pe.meta)),{...pe,data:Bt}}if(X&&"infiniteQueryOptions"in te){const{infiniteQueryOptions:fe}=te,{maxPages:pe=1/0}=fe;let Ce;const Te={pages:[],pageParams:[]},it=l.selectQueryEntry(Q(),P.queryCacheKey)?.data,Nt=j(P,Q())&&!P.direction||!it?Te:it;if("direction"in P&&P.direction&&Nt.pages.length){const Bt=P.direction==="backward",Us=(Bt?DT:Tx)(fe,Nt,P.originalArgs);Ce=await Z(Nt,Us,pe,Bt)}else{const{initialPageParam:Bt=fe.initialPageParam}=P,_n=it?.pageParams??[],Us=_n[0]??Bt,Ir=_n.length;Ce=await Z(Nt,Us,pe),ce&&(Ce={data:Ce.data.pages[0]});for(let yr=1;yr<Ir;yr++){const Fs=Tx(fe,Ce.data,P.originalArgs);Ce=await Z(Ce.data,Fs,pe)}}de=Ce}else de=await ge(P.originalArgs);return ue&&!bo($,"meta")&&de.meta&&(de.meta=await vo(ue,de.meta,"metaSchema",de.meta)),K(de.data,Ic({fulfilledTimeStamp:Date.now(),baseQueryMeta:de.meta}))}catch(se){let ne=se;if(ne instanceof nj){let ce=w(te,"transformErrorResponse");const{rawErrorResponseSchema:de,errorResponseSchema:Z}=te;let{value:ge,meta:fe}=ne;try{de&&!bo($,"rawErrorResponse")&&(ge=await vo(de,ge,"rawErrorResponseSchema",fe)),ue&&!bo($,"meta")&&(fe=await vo(ue,fe,"metaSchema",fe));let pe=await ce(ge,fe,P.originalArgs);return Z&&!bo($,"errorResponse")&&(pe=await vo(Z,pe,"errorResponseSchema",fe)),B(pe,Ic({baseQueryMeta:fe}))}catch(pe){ne=pe}}try{if(ne instanceof OT){const ce={endpoint:P.endpointName,arg:P.originalArgs,type:P.type,queryCacheKey:X?P.queryCacheKey:void 0};te.onSchemaFailure?.(ne,ce),c?.(ne,ce);const{catchSchemaFailure:de=f}=te;if(de)return B(de(ne,ce),Ic({baseQueryMeta:ne._bqMeta}))}}catch(ce){ne=ce}throw console.error(ne),ne}};function j(P,V){const H=l.selectQueryEntry(V,P.queryCacheKey),B=l.selectConfig(V).refetchOnMountOrArgChange,K=H?.fulfilledTimeStamp,z=P.forceRefetch??(P.subscribe&&B);return z?z===!0||(Number(new Date)-Number(K))/1e3>=z:!1}const A=()=>YC(`${t}/executeQuery`,N,{getPendingMeta({arg:V}){const H=n[V.endpointName];return Ic({startedTimeStamp:Date.now(),...Gp(H)?{direction:V.direction}:{}})},condition(V,{getState:H}){const B=H(),K=l.selectQueryEntry(B,V.queryCacheKey),z=K?.fulfilledTimeStamp,Q=V.originalArgs,F=K?.originalArgs,te=n[V.endpointName],ue=V.direction;return kx(V)?!0:K?.status==="pending"?!1:j(V,B)||Qp(te)&&te?.forceRefetch?.({currentArg:Q,previousArg:F,endpointState:K,state:B})?!0:!(z&&!ue)},dispatchConditionRejection:!0}),E=A(),_=A(),T=YC(`${t}/executeMutation`,N,{getPendingMeta(){return Ic({startedTimeStamp:Date.now()})}}),O=P=>"force"in P,M=P=>"ifOlderThan"in P,R=(P,V,H={})=>(B,K)=>{const z=O(H)&&H.force,Q=M(H)&&H.ifOlderThan,F=(ue=!0)=>{const $={forceRefetch:ue,subscribe:!1};return s.endpoints[P].initiate(V,$)},te=s.endpoints[P].select(V)(K());if(z)B(F());else if(Q){const ue=te?.fulfilledTimeStamp;if(!ue){B(F());return}(Number(new Date)-Number(new Date(ue)))/1e3>=Q&&B(F())}else B(F(!1))};function I(P){return V=>V?.meta?.arg?.endpointName===P}function L(P,V){return{matchPending:tu(Pb(P),I(V)),matchFulfilled:tu($i(P),I(V)),matchRejected:tu(ul(P),I(V))}}return{queryThunk:E,mutationThunk:T,infiniteQueryThunk:_,prefetch:R,updateQueryData:x,upsertQueryData:v,patchQueryData:m,buildMatchThunkActions:L}}function Tx(t,{pages:e,pageParams:n},r){const s=e.length-1;return t.getNextPageParam(e[s],e,n[s],n,r)}function DT(t,{pages:e,pageParams:n},r){return t.getPreviousPageParam?.(e[0],e,n[0],n,r)}function IT(t,e,n,r){return Hb(n[t.meta.arg.endpointName][e],$i(t)?t.payload:void 0,qp(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function sj(t){return _r(t)?xT(t):t}function Df(t,e,n){const r=t[e];r&&n(r)}function xu(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function ij(t,e,n){const r=t[xu(e)];r&&n(r)}var If={};function PL({reducerPath:t,queryThunk:e,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:s,apiUid:o,extractRehydrationInfo:l,hasRehydrationInfo:c},assertTagType:f,config:h}){const m=kr(`${t}/resetApiState`);function g(I,L,P,V){I[L.queryCacheKey]??={status:Ls,endpointName:L.endpointName},Df(I,L.queryCacheKey,H=>{H.status=Nx,H.requestId=P&&H.requestId?H.requestId:V.requestId,L.originalArgs!==void 0&&(H.originalArgs=L.originalArgs),H.startedTimeStamp=V.startedTimeStamp;const B=s[V.arg.endpointName];Gp(B)&&"direction"in L&&(H.direction=L.direction)})}function y(I,L,P,V){Df(I,L.arg.queryCacheKey,H=>{if(H.requestId!==L.requestId&&!V)return;const{merge:B}=s[L.arg.endpointName];if(H.status=Uc,B)if(H.data!==void 0){const{fulfilledTimeStamp:K,arg:z,baseQueryMeta:Q,requestId:F}=L;let te=$u(H.data,ue=>B(ue,P,{arg:z.originalArgs,baseQueryMeta:Q,fulfilledTimeStamp:K,requestId:F}));H.data=te}else H.data=P;else H.data=s[L.arg.endpointName].structuralSharing??!0?zb(_r(H.data)?TP(H.data):H.data,P):P;delete H.error,H.fulfilledTimeStamp=L.fulfilledTimeStamp})}const x=_s({name:`${t}/queries`,initialState:If,reducers:{removeQueryResult:{reducer(I,{payload:{queryCacheKey:L}}){delete I[L]},prepare:Dc()},cacheEntriesUpserted:{reducer(I,L){for(const P of L.payload){const{queryDescription:V,value:H}=P;g(I,V,!0,{arg:V,requestId:L.meta.requestId,startedTimeStamp:L.meta.timestamp}),y(I,{arg:V,requestId:L.meta.requestId,fulfilledTimeStamp:L.meta.timestamp,baseQueryMeta:{}},H,!0)}},prepare:I=>({payload:I.map(V=>{const{endpointName:H,arg:B,value:K}=V,z=s[H];return{queryDescription:{type:Uu,endpointName:H,originalArgs:V.arg,queryCacheKey:r({queryArgs:B,endpointDefinition:z,endpointName:H})},value:K}}),meta:{[Up]:!0,requestId:Lb(),timestamp:Date.now()}})},queryResultPatched:{reducer(I,{payload:{queryCacheKey:L,patches:P}}){Df(I,L,V=>{V.data=UC(V.data,P.concat())})},prepare:Dc()}},extraReducers(I){I.addCase(e.pending,(L,{meta:P,meta:{arg:V}})=>{const H=kx(V);g(L,V,H,P)}).addCase(e.fulfilled,(L,{meta:P,payload:V})=>{const H=kx(P.arg);y(L,P,V,H)}).addCase(e.rejected,(L,{meta:{condition:P,arg:V,requestId:H},error:B,payload:K})=>{Df(L,V.queryCacheKey,z=>{if(!P){if(z.requestId!==H)return;z.status=Fc,z.error=K??B}})}).addMatcher(c,(L,P)=>{const{queries:V}=l(P);for(const[H,B]of Object.entries(V))(B?.status===Uc||B?.status===Fc)&&(L[H]=B)})}}),v=_s({name:`${t}/mutations`,initialState:If,reducers:{removeMutationResult:{reducer(I,{payload:L}){const P=xu(L);P in I&&delete I[P]},prepare:Dc()}},extraReducers(I){I.addCase(n.pending,(L,{meta:P,meta:{requestId:V,arg:H,startedTimeStamp:B}})=>{H.track&&(L[xu(P)]={requestId:V,status:Nx,endpointName:H.endpointName,startedTimeStamp:B})}).addCase(n.fulfilled,(L,{payload:P,meta:V})=>{V.arg.track&&ij(L,V,H=>{H.requestId===V.requestId&&(H.status=Uc,H.data=P,H.fulfilledTimeStamp=V.fulfilledTimeStamp)})}).addCase(n.rejected,(L,{payload:P,error:V,meta:H})=>{H.arg.track&&ij(L,H,B=>{B.requestId===H.requestId&&(B.status=Fc,B.error=P??V)})}).addMatcher(c,(L,P)=>{const{mutations:V}=l(P);for(const[H,B]of Object.entries(V))(B?.status===Uc||B?.status===Fc)&&H!==B?.requestId&&(L[H]=B)})}}),w={tags:{},keys:{}},N=_s({name:`${t}/invalidation`,initialState:w,reducers:{updateProvidedBy:{reducer(I,L){for(const{queryCacheKey:P,providedTags:V}of L.payload){j(I,P);for(const{type:H,id:B}of V){const K=(I.tags[H]??={})[B||"__internal_without_id"]??=[];K.includes(P)||K.push(P)}I.keys[P]=V}},prepare:Dc()}},extraReducers(I){I.addCase(x.actions.removeQueryResult,(L,{payload:{queryCacheKey:P}})=>{j(L,P)}).addMatcher(c,(L,P)=>{const{provided:V}=l(P);for(const[H,B]of Object.entries(V.tags??{}))for(const[K,z]of Object.entries(B)){const Q=(L.tags[H]??={})[K||"__internal_without_id"]??=[];for(const F of z)Q.includes(F)||Q.push(F),L.keys[F]=V.keys[F]}}).addMatcher(Ps($i(e),qp(e)),(L,P)=>{A(L,[P])}).addMatcher(x.actions.cacheEntriesUpserted.match,(L,P)=>{const V=P.payload.map(({queryDescription:H,value:B})=>({type:"UNKNOWN",payload:B,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:H}}));A(L,V)})}});function j(I,L){const P=sj(I.keys[L]??[]);for(const V of P){const H=V.type,B=V.id??"__internal_without_id",K=I.tags[H]?.[B];K&&(I.tags[H][B]=sj(K).filter(z=>z!==L))}delete I.keys[L]}function A(I,L){const P=L.map(V=>{const H=IT(V,"providesTags",s,f),{queryCacheKey:B}=V.meta.arg;return{queryCacheKey:B,providedTags:H}});N.caseReducers.updateProvidedBy(I,N.actions.updateProvidedBy(P))}const E=_s({name:`${t}/subscriptions`,initialState:If,reducers:{updateSubscriptionOptions(I,L){},unsubscribeQueryResult(I,L){},internal_getRTKQSubscriptions(){}}}),_=_s({name:`${t}/internalSubscriptions`,initialState:If,reducers:{subscriptionsUpdated:{reducer(I,L){return UC(I,L.payload)},prepare:Dc()}}}),T=_s({name:`${t}/config`,initialState:{online:wL(),focused:SL(),middlewareRegistered:!1,...h},reducers:{middlewareRegistered(I,{payload:L}){I.middlewareRegistered=I.middlewareRegistered==="conflict"||o!==L?"conflict":!0}},extraReducers:I=>{I.addCase($b,L=>{L.online=!0}).addCase(_T,L=>{L.online=!1}).addCase(Vb,L=>{L.focused=!0}).addCase(ET,L=>{L.focused=!1}).addMatcher(c,L=>({...L}))}}),O=fT({queries:x.reducer,mutations:v.reducer,provided:N.reducer,subscriptions:_.reducer,config:T.reducer}),M=(I,L)=>O(m.match(L)?void 0:I,L),R={...T.actions,...x.actions,...E.actions,..._.actions,...v.actions,...N.actions,resetApiState:m};return{reducer:M,actions:R}}var Nr=Symbol.for("RTKQ/skipToken"),PT={status:Ls},oj=$u(PT,()=>{}),aj=$u(PT,()=>{});function LL({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=E=>oj,s=E=>aj;return{buildQuerySelector:y,buildInfiniteQuerySelector:x,buildMutationSelector:v,selectInvalidatedBy:w,selectCachedArgsForQuery:N,selectApiState:l,selectQueries:c,selectMutations:h,selectQueryEntry:f,selectConfig:m};function o(E){return{...E,...XC(E.status)}}function l(E){return E[e]}function c(E){return l(E)?.queries}function f(E,_){return c(E)?.[_]}function h(E){return l(E)?.mutations}function m(E){return l(E)?.config}function g(E,_,T){return O=>{if(O===Nr)return n(r,T);const M=t({queryArgs:O,endpointDefinition:_,endpointName:E});return n(I=>f(I,M)??oj,T)}}function y(E,_){return g(E,_,o)}function x(E,_){const{infiniteQueryOptions:T}=_;function O(M){const R={...M,...XC(M.status)},{isLoading:I,isError:L,direction:P}=R,V=P==="forward",H=P==="backward";return{...R,hasNextPage:j(T,R.data,R.originalArgs),hasPreviousPage:A(T,R.data,R.originalArgs),isFetchingNextPage:I&&V,isFetchingPreviousPage:I&&H,isFetchNextPageError:L&&V,isFetchPreviousPageError:L&&H}}return g(E,_,O)}function v(){return E=>{let _;return typeof E=="object"?_=xu(E)??Nr:_=E,n(_===Nr?s:M=>l(M)?.mutations?.[_]??aj,o)}}function w(E,_){const T=E[e],O=new Set,M=Cx(_,Bb,RT);for(const R of M){const I=T.provided.tags[R.type];if(!I)continue;let L=(R.id!==void 0?I[R.id]:Object.values(I).flat())??[];for(const P of L)O.add(P)}return Array.from(O.values()).flatMap(R=>{const I=T.queries[R];return I?{queryCacheKey:R,endpointName:I.endpointName,originalArgs:I.originalArgs}:[]})}function N(E,_){return Cx(Object.values(c(E)),T=>T?.endpointName===_&&T.status!==Ls,T=>T.originalArgs)}function j(E,_,T){return _?Tx(E,_,T)!=null:!1}function A(E,_,T){return!_||!E.getPreviousPageParam?!1:DT(E,_,T)!=null}}var lj=WeakMap?new WeakMap:void 0,cj=({endpointName:t,queryArgs:e})=>{let n="";const r=lj?.get(e);if(typeof r=="string")n=r;else{const s=JSON.stringify(e,(o,l)=>(l=typeof l=="bigint"?{$bigint:l.toString()}:l,l=Vi(l)?Object.keys(l).sort().reduce((c,f)=>(c[f]=l[f],c),{}):l,l));Vi(e)&&lj?.set(e,s),n=s}return`${t}(${n})`};function LT(...t){return function(n){const r=Dh(h=>n.extractRehydrationInfo?.(h,{reducerPath:n.reducerPath??"api"})),s={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(h){let m=cj;if("serializeQueryArgs"in h.endpointDefinition){const g=h.endpointDefinition.serializeQueryArgs;m=y=>{const x=g(y);return typeof x=="string"?x:cj({...y,queryArgs:x})}}else n.serializeQueryArgs&&(m=n.serializeQueryArgs);return m(h)},tagTypes:[...n.tagTypes||[]]},o={endpointDefinitions:{},batch(h){h()},apiUid:Lb(),extractRehydrationInfo:r,hasRehydrationInfo:Dh(h=>r(h)!=null)},l={injectEndpoints:f,enhanceEndpoints({addTagTypes:h,endpoints:m}){if(h)for(const g of h)s.tagTypes.includes(g)||s.tagTypes.push(g);if(m)for(const[g,y]of Object.entries(m))typeof y=="function"?y(dl(o,g)):Object.assign(dl(o,g)||{},y);return l}},c=t.map(h=>h.init(l,s,o));function f(h){const m=h.endpoints({query:g=>({...g,type:Uu}),mutation:g=>({...g,type:MT}),infiniteQuery:g=>({...g,type:AT})});for(const[g,y]of Object.entries(m)){if(h.overrideExisting!==!0&&g in o.endpointDefinitions){if(h.overrideExisting==="throw")throw new Error(Tr(39));continue}o.endpointDefinitions[g]=y;for(const x of c)x.injectEndpoint(g,y)}return l}return l.injectEndpoints({endpoints:n.endpoints})}}function vs(t,...e){return Object.assign(t,...e)}var zL=({api:t,queryThunk:e,internalState:n,mwApi:r})=>{const s=`${t.reducerPath}/subscriptions`;let o=null,l=null;const{updateSubscriptionOptions:c,unsubscribeQueryResult:f}=t.internalActions,h=(w,N)=>{if(c.match(N)){const{queryCacheKey:A,requestId:E,options:_}=N.payload,T=w.get(A);return T?.has(E)&&T.set(E,_),!0}if(f.match(N)){const{queryCacheKey:A,requestId:E}=N.payload,_=w.get(A);return _&&_.delete(E),!0}if(t.internalActions.removeQueryResult.match(N))return w.delete(N.payload.queryCacheKey),!0;if(e.pending.match(N)){const{meta:{arg:A,requestId:E}}=N,_=Ih(w,A.queryCacheKey,jx);return A.subscribe&&_.set(E,A.subscriptionOptions??_.get(E)??{}),!0}let j=!1;if(e.rejected.match(N)){const{meta:{condition:A,arg:E,requestId:_}}=N;if(A&&E.subscribe){const T=Ih(w,E.queryCacheKey,jx);T.set(_,E.subscriptionOptions??T.get(_)??{}),j=!0}}return j},m=()=>n.currentSubscriptions,x={getSubscriptions:m,getSubscriptionCount:w=>m().get(w)?.size??0,isRequestSubscribed:(w,N)=>!!m()?.get(w)?.get(N)};function v(w){return JSON.parse(JSON.stringify(Object.fromEntries([...w].map(([N,j])=>[N,Object.fromEntries(j)]))))}return(w,N)=>{if(o||(o=v(n.currentSubscriptions)),t.util.resetApiState.match(w))return o={},n.currentSubscriptions.clear(),l=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(w))return[!1,x];const j=h(n.currentSubscriptions,w);let A=!0;if(j){l||(l=setTimeout(()=>{const T=v(n.currentSubscriptions),[,O]=vT(o,()=>T);N.next(t.internalActions.subscriptionsUpdated(O)),o=T,l=null},500));const E=typeof w.type=="string"&&!!w.type.startsWith(s),_=e.rejected.match(w)&&w.meta.condition&&!!w.meta.arg.subscribe;A=!E&&!_}return[A,!1]}},BL=2147483647/1e3-1,VL=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:s,selectors:{selectQueryEntry:o,selectConfig:l},getRunningQueryThunk:c,mwApi:f})=>{const{removeQueryResult:h,unsubscribeQueryResult:m,cacheEntriesUpserted:g}=e.internalActions,y=Ps(m.match,n.fulfilled,n.rejected,g.match);function x(E){const _=s.currentSubscriptions.get(E);return _?_.size>0:!1}const v={};function w(E){for(const _ of E.values())_?.abort?.()}const N=(E,_)=>{const T=_.getState(),O=l(T);if(y(E)){let M;if(g.match(E))M=E.payload.map(R=>R.queryDescription.queryCacheKey);else{const{queryCacheKey:R}=m.match(E)?E.payload:E.meta.arg;M=[R]}j(M,_,O)}if(e.util.resetApiState.match(E)){for(const[M,R]of Object.entries(v))R&&clearTimeout(R),delete v[M];w(s.runningQueries),w(s.runningMutations)}if(r.hasRehydrationInfo(E)){const{queries:M}=r.extractRehydrationInfo(E);j(Object.keys(M),_,O)}};function j(E,_,T){const O=_.getState();for(const M of E){const R=o(O,M);R?.endpointName&&A(M,R.endpointName,_,T)}}function A(E,_,T,O){const R=dl(r,_)?.keepUnusedDataFor??O.keepUnusedDataFor;if(R===1/0)return;const I=Math.max(0,Math.min(R,BL));if(!x(E)){const L=v[E];L&&clearTimeout(L),v[E]=setTimeout(()=>{if(!x(E)){const P=o(T.getState(),E);P?.endpointName&&T.dispatch(c(P.endpointName,P.originalArgs))?.abort(),T.dispatch(h({queryCacheKey:E}))}delete v[E]},I*1e3)}}return N},uj=new Error("Promise never resolved before cacheEntryRemoved."),$L=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:s,internalState:o,selectors:{selectQueryEntry:l,selectApiState:c}})=>{const f=wx(r),h=wx(s),m=$i(r,s),g={},{removeQueryResult:y,removeMutationResult:x,cacheEntriesUpserted:v}=t.internalActions;function w(T,O,M){const R=g[T];R?.valueResolved&&(R.valueResolved({data:O,meta:M}),delete R.valueResolved)}function N(T){const O=g[T];O&&(delete g[T],O.cacheEntryRemoved())}function j(T){const{arg:O,requestId:M}=T.meta,{endpointName:R,originalArgs:I}=O;return[R,I,M]}const A=(T,O,M)=>{const R=E(T);function I(L,P,V,H){const B=l(M,P),K=l(O.getState(),P);!B&&K&&_(L,H,P,O,V)}if(r.pending.match(T)){const[L,P,V]=j(T);I(L,R,V,P)}else if(v.match(T))for(const{queryDescription:L,value:P}of T.payload){const{endpointName:V,originalArgs:H,queryCacheKey:B}=L;I(V,B,T.meta.requestId,H),w(B,P,{})}else if(s.pending.match(T)){if(O.getState()[e].mutations[R]){const[P,V,H]=j(T);_(P,V,R,O,H)}}else if(m(T))w(R,T.payload,T.meta.baseQueryMeta);else if(y.match(T)||x.match(T))N(R);else if(t.util.resetApiState.match(T))for(const L of Object.keys(g))N(L)};function E(T){return f(T)?T.meta.arg.queryCacheKey:h(T)?T.meta.arg.fixedCacheKey??T.meta.requestId:y.match(T)?T.payload.queryCacheKey:x.match(T)?xu(T.payload):""}function _(T,O,M,R,I){const L=dl(n,T),P=L?.onCacheEntryAdded;if(!P)return;const V={},H=new Promise(te=>{V.cacheEntryRemoved=te}),B=Promise.race([new Promise(te=>{V.valueResolved=te}),H.then(()=>{throw uj})]);B.catch(()=>{}),g[M]=V;const K=t.endpoints[T].select(Ph(L)?O:M),z=R.dispatch((te,ue,$)=>$),Q={...R,getCacheEntry:()=>K(R.getState()),requestId:I,extra:z,updateCachedData:Ph(L)?te=>R.dispatch(t.util.updateQueryData(T,O,te)):void 0,cacheDataLoaded:B,cacheEntryRemoved:H},F=P(O,Q);Promise.resolve(F).catch(te=>{if(te!==uj)throw te})}return A},HL=({api:t,context:{apiUid:e},reducerPath:n})=>(r,s)=>{t.util.resetApiState.match(r)&&s.dispatch(t.internalActions.middlewareRegistered(e))},UL=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:s,api:o,assertTagType:l,refetchQuery:c,internalState:f})=>{const{removeQueryResult:h}=o.internalActions,m=Ps($i(r),qp(r)),g=Ps($i(s,r),ul(s,r));let y=[],x=0;const v=(j,A)=>{(s.pending.match(j)||r.pending.match(j))&&x++,g(j)&&(x=Math.max(0,x-1)),m(j)?N(IT(j,"invalidatesTags",n,l),A):g(j)?N([],A):o.util.invalidateTags.match(j)&&N(Hb(j.payload,void 0,void 0,void 0,void 0,l),A)};function w(){return x>0}function N(j,A){const E=A.getState(),_=E[t];if(y.push(...j),_.config.invalidationBehavior==="delayed"&&w())return;const T=y;if(y=[],T.length===0)return;const O=o.util.selectInvalidatedBy(E,T);e.batch(()=>{const M=Array.from(O.values());for(const{queryCacheKey:R}of M){const I=_.queries[R],L=Ih(f.currentSubscriptions,R,jx);I&&(L.size===0?A.dispatch(h({queryCacheKey:R})):I.status!==Ls&&A.dispatch(c(I)))}})}return v},FL=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:s})=>{const{currentPolls:o,currentSubscriptions:l}=s,c=new Set;let f=null;const h=(N,j)=>{(n.internalActions.updateSubscriptionOptions.match(N)||n.internalActions.unsubscribeQueryResult.match(N))&&m(N.payload.queryCacheKey,j),(e.pending.match(N)||e.rejected.match(N)&&N.meta.condition)&&m(N.meta.arg.queryCacheKey,j),(e.fulfilled.match(N)||e.rejected.match(N)&&!N.meta.condition)&&g(N.meta.arg,j),n.util.resetApiState.match(N)&&(v(),f&&(clearTimeout(f),f=null),c.clear())};function m(N,j){c.add(N),f||(f=setTimeout(()=>{for(const A of c)y({queryCacheKey:A},j);c.clear(),f=null},0))}function g({queryCacheKey:N},j){const A=j.getState()[t],E=A.queries[N],_=l.get(N);if(!E||E.status===Ls)return;const{lowestPollingInterval:T,skipPollingIfUnfocused:O}=w(_);if(!Number.isFinite(T))return;const M=o.get(N);M?.timeout&&(clearTimeout(M.timeout),M.timeout=void 0);const R=Date.now()+T;o.set(N,{nextPollTimestamp:R,pollingInterval:T,timeout:setTimeout(()=>{(A.config.focused||!O)&&j.dispatch(r(E)),g({queryCacheKey:N},j)},T)})}function y({queryCacheKey:N},j){const E=j.getState()[t].queries[N],_=l.get(N);if(!E||E.status===Ls)return;const{lowestPollingInterval:T}=w(_);if(!Number.isFinite(T)){x(N);return}const O=o.get(N),M=Date.now()+T;(!O||M<O.nextPollTimestamp)&&g({queryCacheKey:N},j)}function x(N){const j=o.get(N);j?.timeout&&clearTimeout(j.timeout),o.delete(N)}function v(){for(const N of o.keys())x(N)}function w(N=new Map){let j=!1,A=Number.POSITIVE_INFINITY;for(const E of N.values())E.pollingInterval&&(A=Math.min(E.pollingInterval,A),j=E.skipPollingIfUnfocused||j);return{lowestPollingInterval:A,skipPollingIfUnfocused:j}}return h},qL=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const s=Pb(n,r),o=ul(n,r),l=$i(n,r),c={};return(h,m)=>{if(s(h)){const{requestId:g,arg:{endpointName:y,originalArgs:x}}=h.meta,v=dl(e,y),w=v?.onQueryStarted;if(w){const N={},j=new Promise((T,O)=>{N.resolve=T,N.reject=O});j.catch(()=>{}),c[g]=N;const A=t.endpoints[y].select(Ph(v)?x:g),E=m.dispatch((T,O,M)=>M),_={...m,getCacheEntry:()=>A(m.getState()),requestId:g,extra:E,updateCachedData:Ph(v)?T=>m.dispatch(t.util.updateQueryData(y,x,T)):void 0,queryFulfilled:j};w(x,_)}}else if(l(h)){const{requestId:g,baseQueryMeta:y}=h.meta;c[g]?.resolve({data:h.payload,meta:y}),delete c[g]}else if(o(h)){const{requestId:g,rejectedWithValue:y,baseQueryMeta:x}=h.meta;c[g]?.reject({error:h.payload??h.error,isUnhandledError:!y,meta:x}),delete c[g]}}},KL=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:s})=>{const{removeQueryResult:o}=n.internalActions,l=(f,h)=>{Vb.match(f)&&c(h,"refetchOnFocus"),$b.match(f)&&c(h,"refetchOnReconnect")};function c(f,h){const m=f.getState()[t],g=m.queries,y=s.currentSubscriptions;e.batch(()=>{for(const x of y.keys()){const v=g[x],w=y.get(x);if(!w||!v)continue;const N=[...w.values()];(N.some(A=>A[h]===!0)||N.every(A=>A[h]===void 0)&&m.config[h])&&(w.size===0?f.dispatch(o({queryCacheKey:x})):v.status!==Ls&&f.dispatch(r(v)))}})}return l};function QL(t){const{reducerPath:e,queryThunk:n,api:r,context:s,getInternalState:o}=t,{apiUid:l}=s,c={invalidateTags:kr(`${e}/invalidateTags`)},f=y=>y.type.startsWith(`${e}/`),h=[HL,VL,UL,FL,$L,qL];return{middleware:y=>{let x=!1;const v=o(y.dispatch),w={...t,internalState:v,refetchQuery:g,isThisApiSliceAction:f,mwApi:y},N=h.map(E=>E(w)),j=zL(w),A=KL(w);return E=>_=>{if(!hT(_))return E(_);x||(x=!0,y.dispatch(r.internalActions.middlewareRegistered(l)));const T={...y,next:E},O=y.getState(),[M,R]=j(_,T,O);let I;if(M?I=E(_):I=R,y.getState()[e]&&(A(_,T,O),f(_)||s.hasRehydrationInfo(_)))for(const L of N)L(_,T,O);return I}},actions:c};function g(y){return t.api.endpoints[y.endpointName].initiate(y.originalArgs,{subscribe:!1,forceRefetch:!0})}}var dj=Symbol(),zT=({createSelector:t=Ib}={})=>({name:dj,init(e,{baseQuery:n,tagTypes:r,reducerPath:s,serializeQueryArgs:o,keepUnusedDataFor:l,refetchOnMountOrArgChange:c,refetchOnFocus:f,refetchOnReconnect:h,invalidationBehavior:m,onSchemaFailure:g,catchSchemaFailure:y,skipSchemaValidation:x},v){PP();const w=Z=>Z;Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:$b,onOffline:_T,onFocus:Vb,onFocusLost:ET},util:{}});const N=LL({serializeQueryArgs:o,reducerPath:s,createSelector:t}),{selectInvalidatedBy:j,selectCachedArgsForQuery:A,buildQuerySelector:E,buildInfiniteQuerySelector:_,buildMutationSelector:T}=N;vs(e.util,{selectInvalidatedBy:j,selectCachedArgsForQuery:A});const{queryThunk:O,infiniteQueryThunk:M,mutationThunk:R,patchQueryData:I,updateQueryData:L,upsertQueryData:P,prefetch:V,buildMatchThunkActions:H}=IL({baseQuery:n,reducerPath:s,context:v,api:e,serializeQueryArgs:o,assertTagType:w,selectors:N,onSchemaFailure:g,catchSchemaFailure:y,skipSchemaValidation:x}),{reducer:B,actions:K}=PL({context:v,queryThunk:O,mutationThunk:R,serializeQueryArgs:o,reducerPath:s,assertTagType:w,config:{refetchOnFocus:f,refetchOnReconnect:h,refetchOnMountOrArgChange:c,keepUnusedDataFor:l,reducerPath:s,invalidationBehavior:m}});vs(e.util,{patchQueryData:I,updateQueryData:L,upsertQueryData:P,prefetch:V,resetApiState:K.resetApiState,upsertQueryEntries:K.cacheEntriesUpserted}),vs(e.internalActions,K);const z=new WeakMap,Q=Z=>Ih(z,Z,()=>({currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map})),{buildInitiateQuery:F,buildInitiateInfiniteQuery:te,buildInitiateMutation:ue,getRunningMutationThunk:$,getRunningMutationsThunk:X,getRunningQueriesThunk:se,getRunningQueryThunk:ne}=DL({queryThunk:O,mutationThunk:R,infiniteQueryThunk:M,api:e,serializeQueryArgs:o,context:v,getInternalState:Q});vs(e.util,{getRunningMutationThunk:$,getRunningMutationsThunk:X,getRunningQueryThunk:ne,getRunningQueriesThunk:se});const{middleware:ce,actions:de}=QL({reducerPath:s,context:v,queryThunk:O,mutationThunk:R,infiniteQueryThunk:M,api:e,assertTagType:w,selectors:N,getRunningQueryThunk:ne,getInternalState:Q});return vs(e.util,de),vs(e,{reducer:B,middleware:ce}),{name:dj,injectEndpoint(Z,ge){const fe=e,pe=fe.endpoints[Z]??={};Qp(ge)&&vs(pe,{name:Z,select:E(Z,ge),initiate:F(Z,ge)},H(O,Z)),AL(ge)&&vs(pe,{name:Z,select:T(),initiate:ue(Z)},H(R,Z)),Gp(ge)&&vs(pe,{name:Z,select:_(Z,ge),initiate:te(Z,ge)},H(O,Z))}}}});zT();function Pf(t){return t.replace(t[0],t[0].toUpperCase())}var GL="query",WL="mutation",YL="infinitequery";function XL(t){return t.type===GL}function JL(t){return t.type===WL}function BT(t){return t.type===YL}function Pc(t,...e){return Object.assign(t,...e)}var g0=Symbol();function y0(t){const e=C.useRef(t),n=C.useMemo(()=>zb(e.current,t),[t]);return C.useEffect(()=>{e.current!==n&&(e.current=n)},[n]),n}function Lf(t){const e=C.useRef(t);return C.useEffect(()=>{Zc(e.current,t)||(e.current=t)},[t]),Zc(e.current,t)?e.current:t}var ZL=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e6=ZL(),t6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",n6=t6(),r6=()=>e6||n6?C.useLayoutEffect:C.useEffect,s6=r6(),fj=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:jT.pending}:t;function x0(t,...e){const n={};return e.forEach(r=>{n[r]=t[r]}),n}var b0=["data","status","isLoading","isSuccess","isError","error"];function i6({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:s},unstable__sideEffectsInRender:o,createSelector:l},serializeQueryArgs:c,context:f}){const h=o?O=>O():C.useEffect,m=O=>O.current?.unsubscribe?.(),g=f.endpointDefinitions;return{buildQueryHooks:E,buildInfiniteQueryHooks:_,buildMutationHook:T,usePrefetch:v};function y(O,M,R){if(M?.endpointName&&O.isUninitialized){const{endpointName:B}=M,K=g[B];R!==Nr&&c({queryArgs:M.originalArgs,endpointDefinition:K,endpointName:B})===c({queryArgs:R,endpointDefinition:K,endpointName:B})&&(M=void 0)}let I=O.isSuccess?O.data:M?.data;I===void 0&&(I=O.data);const L=I!==void 0,P=O.isLoading,V=(!M||M.isLoading||M.isUninitialized)&&!L&&P,H=O.isSuccess||L&&(P&&!M?.isError||O.isUninitialized);return{...O,data:I,currentData:O.data,isFetching:P,isLoading:V,isSuccess:H}}function x(O,M,R){if(M?.endpointName&&O.isUninitialized){const{endpointName:B}=M,K=g[B];R!==Nr&&c({queryArgs:M.originalArgs,endpointDefinition:K,endpointName:B})===c({queryArgs:R,endpointDefinition:K,endpointName:B})&&(M=void 0)}let I=O.isSuccess?O.data:M?.data;I===void 0&&(I=O.data);const L=I!==void 0,P=O.isLoading,V=(!M||M.isLoading||M.isUninitialized)&&!L&&P,H=O.isSuccess||P&&L;return{...O,data:I,currentData:O.data,isFetching:P,isLoading:V,isSuccess:H}}function v(O,M){const R=n(),I=Lf(M);return C.useCallback((L,P)=>R(t.util.prefetch(O,L,{...I,...P})),[O,R,I])}function w(O,M,{refetchOnReconnect:R,refetchOnFocus:I,refetchOnMountOrArgChange:L,skip:P=!1,pollingInterval:V=0,skipPollingIfUnfocused:H=!1,...B}={}){const{initiate:K}=t.endpoints[O],z=n(),Q=C.useRef(void 0);if(!Q.current){const Z=z(t.internalActions.internal_getRTKQSubscriptions());Q.current=Z}const F=y0(P?Nr:M),te=Lf({refetchOnReconnect:R,refetchOnFocus:I,pollingInterval:V,skipPollingIfUnfocused:H}),ue=B.initialPageParam,$=Lf(ue),X=C.useRef(void 0);let{queryCacheKey:se,requestId:ne}=X.current||{},ce=!1;se&&ne&&(ce=Q.current.isRequestSubscribed(se,ne));const de=!ce&&X.current!==void 0;return h(()=>{de&&(X.current=void 0)},[de]),h(()=>{const Z=X.current;if(F===Nr){Z?.unsubscribe(),X.current=void 0;return}const ge=X.current?.subscriptionOptions;if(!Z||Z.arg!==F){Z?.unsubscribe();const fe=z(K(F,{subscriptionOptions:te,forceRefetch:L,...BT(g[O])?{initialPageParam:$}:{}}));X.current=fe}else te!==ge&&Z.updateSubscriptionOptions(te)},[z,K,L,F,te,de,$,O]),[X,z,K,te]}function N(O,M){return(I,{skip:L=!1,selectFromResult:P}={})=>{const{select:V}=t.endpoints[O],H=y0(L?Nr:I),B=C.useRef(void 0),K=C.useMemo(()=>l([V(H),(ue,$)=>$,ue=>H],M,{memoizeOptions:{resultEqualityCheck:Zc}}),[V,H]),z=C.useMemo(()=>P?l([K],P,{devModeChecks:{identityFunctionCheck:"never"}}):K,[K,P]),Q=r(ue=>z(ue,B.current),Zc),F=s(),te=K(F.getState(),B.current);return s6(()=>{B.current=te},[te]),Q}}function j(O){C.useEffect(()=>()=>{m(O),O.current=void 0},[O])}function A(O){if(!O.current)throw new Error(Tr(38));return O.current.refetch()}function E(O){const M=(L,P={})=>{const[V]=w(O,L,P);return j(V),C.useMemo(()=>({refetch:()=>A(V)}),[V])},R=({refetchOnReconnect:L,refetchOnFocus:P,pollingInterval:V=0,skipPollingIfUnfocused:H=!1}={})=>{const{initiate:B}=t.endpoints[O],K=n(),[z,Q]=C.useState(g0),F=C.useRef(void 0),te=Lf({refetchOnReconnect:L,refetchOnFocus:P,pollingInterval:V,skipPollingIfUnfocused:H});h(()=>{const se=F.current?.subscriptionOptions;te!==se&&F.current?.updateSubscriptionOptions(te)},[te]);const ue=C.useRef(te);h(()=>{ue.current=te},[te]);const $=C.useCallback(function(se,ne=!1){let ce;return e(()=>{m(F),F.current=ce=K(B(se,{subscriptionOptions:ue.current,forceRefetch:!ne})),Q(se)}),ce},[K,B]),X=C.useCallback(()=>{F.current?.queryCacheKey&&K(t.internalActions.removeQueryResult({queryCacheKey:F.current?.queryCacheKey}))},[K]);return C.useEffect(()=>()=>{m(F)},[]),C.useEffect(()=>{z!==g0&&!F.current&&$(z,!0)},[z,$]),C.useMemo(()=>[$,z,{reset:X}],[$,z,X])},I=N(O,y);return{useQueryState:I,useQuerySubscription:M,useLazyQuerySubscription:R,useLazyQuery(L){const[P,V,{reset:H}]=R(L),B=I(V,{...L,skip:V===g0}),K=C.useMemo(()=>({lastArg:V}),[V]);return C.useMemo(()=>[P,{...B,reset:H},K],[P,B,H,K])},useQuery(L,P){const V=M(L,P),H=I(L,{selectFromResult:L===Nr||P?.skip?void 0:fj,...P}),B=x0(H,...b0);return C.useDebugValue(B),C.useMemo(()=>({...H,...V}),[H,V])}}}function _(O){const M=(I,L={})=>{const[P,V,H,B]=w(O,I,L),K=C.useRef(B);h(()=>{K.current=B},[B]);const z=C.useCallback(function(te,ue){let $;return e(()=>{m(P),P.current=$=V(H(te,{subscriptionOptions:K.current,direction:ue}))}),$},[P,V,H]);j(P);const Q=y0(L.skip?Nr:I),F=C.useCallback(()=>A(P),[P]);return C.useMemo(()=>({trigger:z,refetch:F,fetchNextPage:()=>z(Q,"forward"),fetchPreviousPage:()=>z(Q,"backward")}),[F,z,Q])},R=N(O,x);return{useInfiniteQueryState:R,useInfiniteQuerySubscription:M,useInfiniteQuery(I,L){const{refetch:P,fetchNextPage:V,fetchPreviousPage:H}=M(I,L),B=R(I,{selectFromResult:I===Nr||L?.skip?void 0:fj,...L}),K=x0(B,...b0,"hasNextPage","hasPreviousPage");return C.useDebugValue(K),C.useMemo(()=>({...B,fetchNextPage:V,fetchPreviousPage:H,refetch:P}),[B,V,H,P])}}}function T(O){return({selectFromResult:M,fixedCacheKey:R}={})=>{const{select:I,initiate:L}=t.endpoints[O],P=n(),[V,H]=C.useState();C.useEffect(()=>()=>{V?.arg.fixedCacheKey||V?.reset()},[V]);const B=C.useCallback(function(se){const ne=P(L(se,{fixedCacheKey:R}));return H(ne),ne},[P,L,R]),{requestId:K}=V||{},z=C.useMemo(()=>I({fixedCacheKey:R,requestId:V?.requestId}),[R,V,I]),Q=C.useMemo(()=>M?l([z],M):z,[M,z]),F=r(Q,Zc),te=R==null?V?.arg.originalArgs:void 0,ue=C.useCallback(()=>{e(()=>{V&&H(void 0),R&&P(t.internalActions.removeMutationResult({requestId:K,fixedCacheKey:R}))})},[P,R,V,K]),$=x0(F,...b0,"endpointName");C.useDebugValue($);const X=C.useMemo(()=>({...F,originalArgs:te,reset:ue}),[F,te,ue]);return C.useMemo(()=>[B,X],[B,X])}}}var o6=Symbol(),a6=({batch:t=dI,hooks:e={useDispatch:Pu,useSelector:Yo,useStore:eT},createSelector:n=Ib,unstable__sideEffectsInRender:r=!1,...s}={})=>({name:o6,init(o,{serializeQueryArgs:l},c){const f=o,{buildQueryHooks:h,buildInfiniteQueryHooks:m,buildMutationHook:g,usePrefetch:y}=i6({api:o,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:l,context:c});return Pc(f,{usePrefetch:y}),Pc(c,{batch:t}),{injectEndpoint(x,v){if(XL(v)){const{useQuery:w,useLazyQuery:N,useLazyQuerySubscription:j,useQueryState:A,useQuerySubscription:E}=h(x);Pc(f.endpoints[x],{useQuery:w,useLazyQuery:N,useLazyQuerySubscription:j,useQueryState:A,useQuerySubscription:E}),o[`use${Pf(x)}Query`]=w,o[`useLazy${Pf(x)}Query`]=N}if(JL(v)){const w=g(x);Pc(f.endpoints[x],{useMutation:w}),o[`use${Pf(x)}Mutation`]=w}else if(BT(v)){const{useInfiniteQuery:w,useInfiniteQuerySubscription:N,useInfiniteQueryState:j}=m(x);Pc(f.endpoints[x],{useInfiniteQuery:w,useInfiniteQuerySubscription:N,useInfiniteQueryState:j}),o[`use${Pf(x)}InfiniteQuery`]=w}}}}}),Fu=LT(zT(),a6());const l6="https://dds.vtd26.io.vn/api",Xa=Fu({reducerPath:"authApi",baseQuery:kT({baseUrl:l6,credentials:"include"}),endpoints:t=>({login:t.mutation({query:e=>({url:"/auth/login",method:"POST",body:e})}),logout:t.mutation({query:()=>({url:"/auth/logout",method:"POST"})})})}),{useLoginMutation:c6,useLogoutMutation:u6}=Xa,d6={userInfo:null,accessToken:null},Wa=new BroadcastChannel("auth"),VT=_s({name:"authInfo",initialState:d6,reducers:{setCredentials:(t,e)=>{const{userInfo:n,accessToken:r}=e.payload.data;t.userInfo=n,t.accessToken=r,localStorage.setItem("accessToken",r),localStorage.setItem("userInfo",JSON.stringify(n)),Wa.postMessage({type:"AUTH_UPDATE",payload:{userInfo:n,accessToken:r}})},clearCredentials:t=>{t.userInfo=null,t.accessToken=null,localStorage.removeItem("accessToken"),localStorage.removeItem("userInfo"),Wa.postMessage({type:"AUTH_LOGOUT"})},syncCredentials:(t,e)=>{t.userInfo=e.payload.userInfo,t.accessToken=e.payload.accessToken}},extraReducers:t=>{t.addMatcher(Xa.endpoints.login.matchFulfilled,(e,n)=>{const{userInfo:r,accessToken:s}=n.payload.data;e.userInfo=r,e.accessToken=s,localStorage.setItem("accessToken",s),localStorage.setItem("userInfo",JSON.stringify(r)),Wa.postMessage({type:"AUTH_UPDATE",payload:{userInfo:r,accessToken:s}})}).addMatcher(Xa.endpoints.logout.matchFulfilled,e=>{e.userInfo=null,e.accessToken=null,localStorage.removeItem("accessToken"),localStorage.removeItem("userInfo"),Wa.postMessage({type:"AUTH_LOGOUT"})})}}),{setCredentials:WY,clearCredentials:hj,syncCredentials:Lh}=VT.actions,f6=VT.reducer,$T="https://dds.vtd26.io.vn/api",pj=kT({baseUrl:$T,prepareHeaders:(t,{getState:e})=>{const n=e().authInfo.accessToken;return n&&t.set("authorization",`Bearer ${n}`),t}}),Wp=async(t,e,n)=>{let r=await pj(t,e,n);if(r.error&&r.error.status===401){console.log("Access token expired, attempting to refresh...");try{const s=await fetch(`${$T}/auth/refresh`,{method:"POST",credentials:"include"});if(s.ok){const o=await s.json();console.log("Token refreshed successfully:",o),e.dispatch(Lh({userInfo:o.data.userInfo,accessToken:o.data.accessToken})),r=await pj(t,e,n)}else e.dispatch(hj())}catch(s){console.error("Refresh token failed:",s),e.dispatch(hj())}}return r},ah=Fu({reducerPath:"categoryApi",baseQuery:Wp,tagTypes:["Categories"],endpoints:t=>({createCategory:t.mutation({query:e=>({url:"/categories/create",method:"POST",body:e})}),getCategories:t.query({query:e=>({url:`/categories${e?"?"+new URLSearchParams(e).toString():""}`,method:"GET"}),providesTags:()=>[{type:"Categories",id:"LIST"}]}),getDetailCategoryById:t.query({query:e=>({url:`/categories/${e}`,method:"GET"})}),updateCategoryById:t.mutation({query:({id:e,formData:n})=>({url:`/categories/${e}`,method:"PUT",body:n})}),deleteCategoryById:t.mutation({query:e=>({url:`/categories/${e}`,method:"DELETE"}),invalidatesTags:[{type:"Categories",id:"LIST"}]})})}),{useCreateCategoryMutation:h6,useGetCategoriesQuery:qu,useGetDetailCategoryByIdQuery:HT,useUpdateCategoryByIdMutation:p6,useDeleteCategoryByIdMutation:m6}=ah,g6=()=>{try{const t=localStorage.getItem("favoriteProducts");return t?JSON.parse(t):[]}catch(t){return console.error("Error loading favorites from localStorage:",t),[]}},zf=t=>{try{localStorage.setItem("favoriteProducts",JSON.stringify(t))}catch(e){console.error("Error saving favorites to localStorage:",e)}},y6={items:g6()},UT=_s({name:"favoriteProducts",initialState:y6,reducers:{addToFavorites:(t,e)=>{if(!t.items.find(r=>r.product_id===e.payload.product_id)){const r={...e.payload,addedAt:new Date().toISOString()};t.items.push(r),zf(t.items)}},removeFromFavorites:(t,e)=>{t.items=t.items.filter(n=>n.product_id!==e.payload),zf(t.items)},toggleFavorite:(t,e)=>{const n=t.items.findIndex(r=>r.product_id===e.payload.product_id);if(n>=0)t.items.splice(n,1);else{const r={...e.payload,addedAt:new Date().toISOString()};t.items.push(r)}zf(t.items)},clearFavorites:t=>{t.items=[],zf([])}}}),{addToFavorites:YY,removeFromFavorites:x6,toggleFavorite:b6,clearFavorites:XY}=UT.actions,v6=t=>t.favoriteProducts.items,S6=t=>e=>e.favoriteProducts.items.some(n=>n.product_id===t),w6=t=>t.favoriteProducts.items.length,N6=UT.reducer,bu=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,"d").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),mj=(t,e,n,r)=>{const s=bu(t),o=bu(n);return`/product/${s}-${e}/${o}-${r}/`},C6=(t,e,n,r)=>`/product/${t}-${e}/${n}-${r}/`,j6=(t,e,n,r,s,o)=>`/product/${t}-${e}/${n}-${r}/${s}-${o}`,gj=(t,e,n,r,s,o)=>s&&o?j6(t,e,n,r,s,o):C6(t,e,n,r),lh=Fu({reducerPath:"productApi",baseQuery:Wp,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,endpoints:t=>({createProduct:t.mutation({query:e=>({url:"/products",method:"POST",body:e})}),updateProduct:t.mutation({query:({productId:e,formData:n})=>({url:`/products/${e}`,method:"PUT",body:n})}),deleteProduct:t.mutation({query:e=>({url:`/products/${e}`,method:"DELETE"})}),getProducts:t.query({query:e=>{const n={};e&&Object.entries(e).forEach(([s,o])=>{o!=null&&o!==""&&!Number.isNaN(o)&&(n[s]=String(o))});const r=Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():"";return console.log("Fetching products with params:",e),console.log("Cleaned params:",n),console.log("Final URL:",`/products${r}`),{url:`/products${r}`,method:"GET"}},transformResponse:e=>(console.log("Raw product API response:",e),e)}),getProductById:t.query({query:e=>({url:`/products/${e}`,method:"GET"})})})}),{useCreateProductMutation:k6,useUpdateProductMutation:T6,useGetProductsQuery:Yp,useGetProductByIdQuery:Ub,useDeleteProductMutation:E6}=lh,_6=()=>{const[t,e]=C.useState(""),[n,r]=C.useState("");C.useEffect(()=>{const m=setTimeout(()=>{r(t)},300);return()=>{clearTimeout(m)}},[t]);const{data:s,isLoading:o,error:l,isFetching:c}=Yp({product_name_vn:n,status:"active",limit:10},{skip:!n||n.trim().length<2}),f=C.useCallback(m=>{e(m)},[]),h=C.useCallback(()=>{e(""),r("")},[]);return{searchTerm:t,debouncedSearchTerm:n,products:s?.data?.products||[],isLoading:o||c,error:l,handleSearchChange:f,clearSearch:h,hasResults:n.trim().length>=2}},yj=()=>{const t=zt(),{searchTerm:e,debouncedSearchTerm:n,products:r,isLoading:s,handleSearchChange:o,clearSearch:l,hasResults:c}=_6(),f=C.useRef(null);C.useEffect(()=>{const m=g=>{f.current&&!f.current.contains(g.target)&&e&&l()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[e,l]);const h=m=>{const y=`/product/${bu(m.product_name_vn)}-${m.product_id}`;t({to:y}),l()};return u.jsxs("div",{className:"relative",ref:f,children:[u.jsxs("div",{className:"relative",children:[u.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",value:e,onChange:m=>o(m.target.value),placeholder:"Tm kim sn phm...",className:"w-full pl-10 pr-10 py-2.5 bg-white rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm text-gray-900 placeholder:text-gray-400"}),e&&u.jsx("button",{onClick:l,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(ht,{className:"w-4 h-4 text-gray-500"})})]}),e&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 max-h-[500px] overflow-hidden",children:u.jsxs("div",{className:"max-h-[500px] overflow-y-auto",children:[s&&u.jsxs("div",{className:"p-4 text-center text-sm text-gray-500",children:[u.jsx("div",{className:"inline-block w-4 h-4 border-2 border-gray-300 border-t-green-500 rounded-full animate-spin mr-2"}),"ang tm kim..."]}),!c&&!s&&u.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Nhp t nht 2 k t  tm kim"}),c&&!s&&r.length===0&&u.jsxs("div",{className:"p-4 text-center text-sm text-gray-500",children:['Khng tm thy sn phm no vi t kha "',n,'"']}),c&&!s&&r.length>0&&u.jsxs("div",{className:"py-2",children:[u.jsxs("div",{className:"px-4 py-2 text-xs text-gray-500 font-medium",children:["Tm thy ",r.length," sn phm"]}),r.map(m=>u.jsxs("button",{onClick:()=>h(m),className:"w-full px-4 py-3 hover:bg-gray-50 flex items-center gap-3 text-left transition-colors",children:[u.jsx("img",{src:m.main_image,alt:m.product_name_vn,className:"w-12 h-12 object-cover rounded-lg border border-gray-200"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:m.product_name_vn}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:m.product_type_name_vn}),u.jsxs("p",{className:"text-sm font-bold text-orange-600 mt-0.5",children:[m.price.toLocaleString("vi-VN")," VN"]})]})]},m.product_id)),u.jsx("div",{className:"border-t border-gray-200 mt-2",children:u.jsx("button",{onClick:()=>{l()},className:"w-full px-4 py-3 text-sm text-green-700 hover:bg-green-50 font-medium transition-colors",children:"Xem tt c kt qu "})})]})]})})]})},M6=[{id:"account",display:"Ci t ti khon",path:"/account",icon:ks},{id:"coupons",display:"M khuyn mi",path:"/coupons",icon:zu},{id:"orders",display:"n hng ca bn",path:"/orders",icon:uT},{id:"manage-store",display:"Qun l ca hng",path:"/admin",icon:fx,role_required:"Admin"},{id:"messages",display:"Tin nhn",path:"/messages",icon:px,role_required:"Admin"},{id:"help",display:"help",path:"/help",icon:PI}],A6=()=>{const{userInfo:t}=Yo(c=>c.authInfo),[e,n]=C.useState(!1),[r]=u6();console.log("User Info:",t);const s=t,o="https://res.cloudinary.com/dfizo8h6h/image/upload/v1752292625/475699798_1116311316938052_4019676089235058473_n_jxz3yw.jpg",l=M6.filter(c=>!(c.role_required&&t?.role!==c.role_required));return u.jsx(u.Fragment,{children:s?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"cursor-pointer",onClick:()=>n(!e),children:u.jsx("img",{src:o,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover"})}),e&&u.jsxs("div",{className:"absolute top-full right-0 bg-white rounded-xl shadow-[0_4px_20px_rgba(0,0,0,0.15)] w-[280px] z-1000 mt-2 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center p-5 bg-gray-50 border-b border-gray-200",children:[u.jsx("img",{src:o,alt:"Avatar",className:"w-[60px] h-[60px] rounded-full object-cover mr-4"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-base font-semibold m-0 mb-1 text-[#ff6b35]",children:t?.user_name||"Admin"}),u.jsx("p",{className:"text-sm text-gray-600 m-0 mb-0.5",children:t?.email||"user@gmail.com"}),u.jsx("p",{className:"text-xs text-gray-400 m-0",children:t?.role||"Qun tr vin"})]})]}),u.jsxs("div",{className:"py-2",children:[l.map(c=>{const f=c.icon;return u.jsxs(Zt,{to:c.path,className:"flex items-center py-3 px-5 text-gray-800 no-underline transition-colors hover:bg-gray-50",onClick:()=>n(!1),children:[u.jsx(f,{className:"mr-3 text-[#ff6b35]",size:16}),u.jsx("span",{children:c.display})]},c.id)}),u.jsxs("button",{className:"flex items-center w-full py-3 px-5 text-gray-800 no-underline transition-colors hover:bg-gray-50 border-t border-gray-200 mt-1 bg-transparent border-0 text-left cursor-pointer",onClick:()=>{r()},children:[u.jsx(x4,{className:"mr-3 text-red-600",size:16}),u.jsx("span",{children:"ng xut"})]})]})]})]}):u.jsx("div",{children:u.jsx(Zt,{to:"/login",className:"inline-flex items-center gap-2 py-2.5 px-6 bg-(--yellow-primary) text-white text-[15px] font-semibold rounded-3xl hover:bg-linear-to-r hover:from-[#ffb347] hover:to-[#ff6b35] hover:shadow-[0_4px_16px_rgba(255,107,53,0.25)] transition-all",children:"ng nhp"})})})},R6=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),s=10,o=Yo(w6),{data:l}=qu({}),c=[{id:"ddstore",display:"DDStore",path:"/",isLogo:!0},{id:"about",display:"V chng ti",path:"/about"},{id:"catalog",display:"Sn phm",path:"/catalog",isProducts:!0},{id:"contact",display:"Lin h",path:"/contact"}],f=()=>{e(!t)},m=(l?.data.categories||[]).find(y=>y.category_name_vn==="Ni tht gia nh"),g=m?.subcategories||[];return u.jsx("header",{className:"bg-(--green-primary) text-white shadow-lg sticky top-0 z-50",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("button",{onClick:f,className:"lg:hidden p-2 hover:bg-green-700 rounded-lg transition-colors","aria-label":"Toggle menu",children:t?u.jsx(ht,{size:24}):u.jsx(aT,{size:24})}),u.jsx(Zt,{to:"/",className:"flex items-center shrink-0",children:u.jsx("span",{className:"text-2xl md:text-3xl font-bold text-yellow-400",children:"DDStore"})}),u.jsx("nav",{className:"hidden lg:flex items-center space-x-6",children:c.filter(y=>!y.isLogo).map(y=>u.jsxs("div",{className:"relative",onMouseEnter:()=>y.isProducts&&r(!0),onMouseLeave:()=>y.isProducts&&r(!1),children:[u.jsxs(Zt,{to:y.path,className:"text-sm font-medium hover:text-yellow-400 transition-colors flex items-center gap-1 py-2 whitespace-nowrap",children:[y.display,y.isProducts&&u.jsx(Is,{size:16})]}),y.isProducts&&n&&m&&u.jsx("div",{className:"absolute top-full left-0 pt-2 z-50",children:u.jsxs("div",{className:"bg-white text-gray-800 rounded-lg shadow-xl min-w-[500px] max-w-[600px] p-6",children:[u.jsx("h3",{className:"font-bold text-lg mb-4 text-green-800 border-b pb-3",children:m.category_name_vn}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(x=>u.jsx(Zt,{to:mj(m.category_name_vn,m.category_id,x.subcategory_name_vn,x.subcategory_id),className:"text-sm hover:text-green-700 hover:bg-green-50 p-2 rounded transition-all block",onClick:()=>r(!1),children:x.subcategory_name_vn},x.subcategory_id))})]})})]},y.id))})]}),u.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[u.jsx("div",{className:"hidden md:block w-96 relative",children:u.jsx(yj,{})}),u.jsx("div",{className:"shrink-0",children:u.jsx(A6,{})}),u.jsxs(Zt,{to:"/favorite",className:"relative p-2 hover:bg-green-700 rounded-lg transition-colors shrink-0",title:"Danh sch yu thch",children:[u.jsx(al,{size:24,className:"md:w-6 md:h-6"}),o>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:o>99?"99+":o})]}),u.jsxs(Zt,{to:"/cart",className:"relative p-2 hover:bg-green-700 rounded-lg transition-colors shrink-0",title:"Gi hng",children:[u.jsx(ll,{size:24,className:"md:w-6 md:h-6"}),u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:s})]})]})]}),u.jsx("div",{className:"md:hidden pb-3 relative",children:u.jsx(yj,{})}),t&&u.jsx("nav",{className:"lg:hidden py-4 border-t border-green-700",children:u.jsx("div",{className:"flex flex-col space-y-3",children:c.map(y=>u.jsxs("div",{children:[u.jsxs(Zt,{to:y.path,onClick:()=>!y.isProducts&&e(!1),className:`text-sm font-medium hover:text-yellow-400 transition-colors py-2 ${y.isLogo?"text-xl font-bold text-yellow-400 text-center mb-2":""} flex items-center justify-between`,children:[y.display,y.isProducts&&u.jsx(Is,{size:16})]}),y.isProducts&&m&&u.jsxs("div",{className:"ml-4 mt-2 space-y-2",children:[u.jsx("h4",{className:"font-semibold text-yellow-300 mb-2",children:m.category_name_vn}),u.jsx("ul",{className:"ml-4 space-y-1",children:g.map(x=>u.jsx("li",{children:u.jsx(Zt,{to:mj(m.category_name_vn,m.category_id,x.subcategory_name_vn,x.subcategory_id),className:"text-sm text-gray-200 hover:text-yellow-400",onClick:()=>e(!1),children:x.subcategory_name_vn})},x.subcategory_id))})]})]},y.id))})})]})})},O6=()=>{const t={hotline:"0328715219",email:"vtd262002@gmail",address:"ng Lm, Tin Hi, Thi Bnh, Vit Nam"};return u.jsx("footer",{className:"bg-[#16512e] rounded-t-[40px] text-white px-5 pt-10 pb-5 md:rounded-t-[35px] md:px-4 md:pt-9 lg:rounded-t-[40px] lg:px-5 lg:pt-10 max-[768px]:rounded-t-[25px] max-[768px]:px-3 max-[768px]:pt-8",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-[2fr_1fr_1fr_1fr_1fr] gap-[25px] md:gap-[25px] lg:gap-[30px] mb-[30px] text-center md:text-left",children:[u.jsxs("div",{className:"flex flex-col gap-3 md:gap-[15px]",children:[u.jsx("div",{className:"text-2xl md:text-[1.75rem] lg:text-[2rem] font-extrabold text-[#f59e0b]",children:"DDStore"}),u.jsx("p",{className:"text-[0.9rem] md:text-[0.9rem] lg:text-base leading-[1.6] opacity-90 max-w-full md:max-w-[350px] lg:max-w-[400px] mx-auto md:mx-0",children:"Chuyn cung cp ni tht g cht lng cao vi gi c hp l. Uy tn - Cht lng - Dch v tt nht dnh cho khch hng."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base md:text-base lg:text-[1.125rem] mb-3 md:mb-3 lg:mb-[15px] font-semibold text-[#f59e0b] border-b-2 border-[#f59e0b] pb-[5px] inline-block",children:"V chng ti"}),u.jsxs("ul",{className:"list-none p-0 m-0 grid grid-cols-2 gap-y-[6px] gap-x-[15px] md:gap-y-[6px] md:gap-x-3 lg:gap-y-2 lg:gap-x-[15px] justify-items-center md:justify-items-start",children:[u.jsx("li",{children:u.jsx("a",{href:"/about",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Gii thiu"})}),u.jsx("li",{children:u.jsx("a",{href:"/contact",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Lin h"})}),u.jsx("li",{children:u.jsx("a",{href:"/careers",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Tuyn dng"})}),u.jsx("li",{children:u.jsx("a",{href:"/news",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Tin tc"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base md:text-base lg:text-[1.125rem] mb-3 md:mb-3 lg:mb-[15px] font-semibold text-[#f59e0b] border-b-2 border-[#f59e0b] pb-[5px] inline-block",children:"Sn phm"}),u.jsxs("ul",{className:"list-none p-0 m-0 grid grid-cols-2 gap-y-[6px] gap-x-[15px] md:gap-y-[6px] md:gap-x-3 lg:gap-y-2 lg:gap-x-[15px] justify-items-center md:justify-items-start",children:[u.jsx("li",{children:u.jsx("a",{href:"/products/table",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Bn g"})}),u.jsx("li",{children:u.jsx("a",{href:"/products/chair",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Gh g"})}),u.jsx("li",{children:u.jsx("a",{href:"/products/cabinet",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"T g"})}),u.jsx("li",{children:u.jsx("a",{href:"/products/bed",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Ging g"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base md:text-base lg:text-[1.125rem] mb-3 md:mb-3 lg:mb-[15px] font-semibold text-[#f59e0b] border-b-2 border-[#f59e0b] pb-[5px] inline-block",children:"Chnh sch"}),u.jsxs("ul",{className:"list-none p-0 m-0 grid grid-cols-2 gap-y-[6px] gap-x-[15px] md:gap-y-[6px] md:gap-x-3 lg:gap-y-2 lg:gap-x-[15px] justify-items-center md:justify-items-start",children:[u.jsx("li",{children:u.jsx("a",{href:"/warranty",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Bo hnh"})}),u.jsx("li",{children:u.jsx("a",{href:"/privacy",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"Bo mt"})}),u.jsx("li",{children:u.jsx("a",{href:"/terms",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"iu khon"})}),u.jsx("li",{children:u.jsx("a",{href:"/return",className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:"i tr"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base md:text-base lg:text-[1.125rem] mb-3 md:mb-3 lg:mb-[15px] font-semibold text-[#f59e0b] border-b-2 border-[#f59e0b] pb-[5px] inline-block",children:"Lin h"}),u.jsxs("ul",{className:"list-none p-0 m-0 flex flex-col gap-[6px] md:gap-2 lg:gap-2 items-center md:items-start",children:[u.jsx("li",{children:u.jsxs("a",{href:`tel:${t.hotline}`,className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:["Hotline: ",t.hotline]})}),u.jsx("li",{children:u.jsxs("a",{href:`mailto:${t.email}`,className:"text-white no-underline text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] transition-all duration-300 block py-1.5 md:py-1 opacity-90 hover:text-[#f59e0b] hover:opacity-100 md:hover:translate-x-[5px]",children:["Email: ",t.email]})}),u.jsx("li",{children:u.jsxs("span",{className:"text-white text-[0.85rem] md:text-[0.8rem] lg:text-[0.875rem] block py-1.5 md:py-1 opacity-90",children:["a ch: ",t.address]})})]})]})]}),u.jsx("div",{className:"border-t border-white/30 pt-5 md:pt-[15px] lg:pt-5 text-center mt-5 md:mt-5 lg:mt-0",children:u.jsx("p",{className:"text-[0.8rem] md:text-[0.8rem] lg:text-[0.875rem] m-0 opacity-80",children:" 2025 DDStore. All rights reserved. Made with  in Vietnam"})})]})})},FT=()=>{if(Vp().pathname.startsWith("/product/"))return null;const r="Ca hng g Dng Dng - DDSTore".trim(),s="DDStore",o="0328715219".trim(),l="ng Lm, Tin Hi, Thi Bnh, Vit Nam".trim();return u.jsx("div",{className:"w-full bg-gray-50 border-b border-gray-200",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto w-full box-border px-5 py-2.5 flex justify-between items-center font-semibold",children:[u.jsx("p",{className:"hidden md:block text-lg font-bold m-0 text-left text-[var(--green-primary)]",children:r}),u.jsx("p",{className:"block md:hidden text-base font-bold m-0 text-left text-[var(--green-primary)]",children:s}),u.jsxs("div",{className:"flex items-center gap-8 flex-shrink-0",children:[u.jsxs("p",{className:"flex items-center gap-1 whitespace-nowrap text-sm text-gray-700 m-0",children:["Hotline: ",o]}),u.jsxs("p",{className:"hidden md:flex items-center gap-1 whitespace-nowrap text-sm text-gray-700 m-0",children:["a ch: ",l]})]})]})})},D6=Ge("/__public")({component:()=>u.jsxs("div",{children:[u.jsx(FT,{}),u.jsx(R6,{}),u.jsx(Iu,{})," ",u.jsx(O6,{})]})});function I6(){const{userInfo:t}=Yo(n=>n.authInfo),e=zt();return C.useEffect(()=>{t&&e({to:"/"})},[t,e]),t?u.jsx("div",{children:"Redirecting..."}):u.jsxs("div",{children:[u.jsx(FT,{}),u.jsx(Iu,{})]})}const P6=Ge("/__auth")({component:I6}),L6="/assets/home-Ctrb-_DJ.jpg",z6=()=>u.jsx("section",{className:"bg-[var(--green-primary)] text-white py-24",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto px-5 flex flex-col lg:flex-row justify-between items-center gap-8",children:[u.jsxs("div",{className:"flex-1 max-w-full lg:max-w-[50%] text-center lg:text-left",children:[u.jsx("h1",{className:"text-4xl lg:text-6xl mb-4 font-semibold text-[var(--yellow-primary)] leading-tight animate-bounce",children:"Ni tht"}),u.jsx("p",{className:"text-base lg:text-xl mb-6 lg:mb-8 leading-relaxed opacity-90",children:"Khm ph ni tht thit k ng i mang n cm gic thoi mi, sang trng. C nhn ho trong tng sn phm ph hp vi mi khng gian sng."}),u.jsxs(Zt,{to:"/catalog",className:"inline-flex items-center gap-2 bg-[var(--yellow-primary)] text-[var(--green-primary)] px-6 py-3 rounded-2xl font-semibold text-lg hover:bg-yellow-400 transition-colors no-underline",children:[u.jsx(ll,{size:20}),"Mua Ngay"]})]}),u.jsx("div",{className:"flex-1 text-center",children:u.jsx("img",{src:L6,alt:"Interior design showcase",className:"max-w-full lg:max-w-[400px] h-auto mx-auto"})})]})}),B6=()=>{const t=C.useRef(null),e=[{id:1,text:"Mnh rt nh gi cao v  hon thin ca sn phm. Mu m v mu sc cng rt a dng, nhiu la chn.",author:"Nguyn Vn A",location:"H Ni"},{id:2,text:"Sn phm cht lng, giao hng nhanh chng. Nhn vin t vn rt nhit tnh v chuyn nghip.",author:"Trn Th B",location:"TP.HCM"},{id:3,text:" ni tht p, chc chn. Gi c hp l so vi cht lng. S quay li mua tip.",author:"L Vn C",location:" Nng"},{id:4,text:"Dch v tuyt vi! T t vn n lp t u rt chuyn nghip. Rt hi lng.",author:"Phm Th D",location:"Hi Phng"}],n=r=>{t.current&&t.current.scrollBy({left:r==="left"?-320:320,behavior:"smooth"})};return u.jsx("section",{className:"py-16 bg-gray-50",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto px-5",children:[u.jsxs("div",{className:"flex justify-between items-center mb-12",children:[u.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[var(--green-primary)] m-0",children:"nh gi ca khch hng"}),u.jsxs("div",{className:"flex lg:hidden gap-2",children:[u.jsx("button",{className:"bg-[var(--green-primary)] text-white border-none rounded-full w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-[var(--yellow-primary)] hover:text-[var(--green-primary)] transition-colors",onClick:()=>n("left"),children:u.jsx(Nl,{size:20})}),u.jsx("button",{className:"bg-[var(--green-primary)] text-white border-none rounded-full w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-[var(--yellow-primary)] hover:text-[var(--green-primary)] transition-colors",onClick:()=>n("right"),children:u.jsx(Xo,{size:20})})]})]}),u.jsx("div",{ref:t,className:"flex lg:grid lg:grid-cols-4 gap-8 overflow-x-auto lg:overflow-visible scroll-smooth pb-4 lg:pb-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(r=>u.jsxs("div",{className:"bg-white border border-[var(--green-primary)] p-4 lg:p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 min-w-[280px] max-w-[280px] lg:min-w-0 lg:max-w-none flex-shrink-0",children:[u.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((s,o)=>u.jsx(tP,{fill:"gold",color:"gold",size:16},o))}),u.jsx("p",{className:"text-base leading-relaxed mb-4 text-gray-700",children:r.text}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:"https://vcdn1-giaitri.vnecdn.net/2024/09/11/topp1-1726024148-7569-1726024442.jpg?w=500&h=300&q=100&dpr=1&fit=crop&s=Ft9T12dIYvit5NVvh6_NrQ",alt:r.author,className:"w-12 h-12 lg:w-15 lg:h-15 rounded-full object-cover border-2 border-[var(--yellow-primary)]"}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-base font-semibold text-[var(--green-primary)] m-0",children:["Bn ",r.author]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1 m-0",children:r.location})]})]})]},r.id))})]})})},V6=()=>{const t=C.useRef(null),e=[{id:1,title:"Hng dn t decor phng ng p v chun phong thy 2024",description:"Trong bi vit ny, chng ti s hng dn bn cch t decor phng ng ca mnh sao cho p v hp phong thy nht.",time:"Th nm, 30 thng 9 nm 2024"},{id:2,title:"Xu hng ni tht phng khch hin i 2024",description:"Khm ph nhng xu hng ni tht phng khch mi nht, t mu sc, cht liu n cch b tr khng gian.",time:"Th ba, 28 thng 9 nm 2024"},{id:3,title:"10 mo sp xp ni tht cho khng gian nh",description:"Nhng b quyt gip bn ti u ha khng gian sng, to cm gic rng ri v thong mt cho ngi nh.",time:"Ch nht, 26 thng 9 nm 2024"}],n=r=>{t.current&&t.current.scrollBy({left:r==="left"?-320:320,behavior:"smooth"})};return u.jsx("section",{className:"py-16",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto px-5",children:[u.jsxs("div",{className:"flex justify-between items-center mb-12",children:[u.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[var(--green-primary)] m-0",children:"Blog"}),u.jsxs("div",{className:"flex lg:hidden gap-2",children:[u.jsx("button",{className:"bg-[var(--green-primary)] text-white border-none rounded-full w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-[var(--yellow-primary)] hover:text-[var(--green-primary)] transition-colors",onClick:()=>n("left"),children:u.jsx(Nl,{size:20})}),u.jsx("button",{className:"bg-[var(--green-primary)] text-white border-none rounded-full w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-[var(--yellow-primary)] hover:text-[var(--green-primary)] transition-colors",onClick:()=>n("right"),children:u.jsx(Xo,{size:20})})]})]}),u.jsx("div",{ref:t,className:"flex lg:grid lg:grid-cols-3 gap-8 overflow-x-auto lg:overflow-visible scroll-smooth pb-4 lg:pb-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(r=>u.jsxs("article",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer min-w-[300px] max-w-[300px] lg:min-w-0 lg:max-w-none flex-shrink-0",children:[u.jsx("div",{className:"overflow-hidden",children:u.jsx("img",{src:"https://images.unsplash.com/photo-1600210492493-0946911123ea?q=80&w=1200",alt:r.title,className:"w-full h-48 lg:h-64 object-cover hover:scale-105 transition-transform duration-300"})}),u.jsxs("div",{className:"p-4 lg:p-6",children:[u.jsx("p",{className:"text-gray-500 text-sm mb-2 font-medium",children:r.time}),u.jsx("h3",{className:"text-lg lg:text-xl font-semibold mb-3 leading-snug text-[var(--green-primary)]",children:r.title}),u.jsx("p",{className:"text-base leading-relaxed text-gray-700 mb-4",children:r.description}),u.jsx("a",{href:"#",className:"text-[var(--yellow-primary)] font-semibold text-sm hover:text-[var(--green-primary)] transition-colors no-underline",children:"Xem thm "})]})]},r.id))})]})})},$6=()=>u.jsxs("div",{children:[u.jsx(z6,{}),u.jsx(B6,{}),u.jsx(V6,{})]}),H6=Ge("/__public/")({component:$6,beforeLoad:async()=>{document.title="Home - DDStore"}}),U6=()=>u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),u.jsx("p",{className:"text-gray-600",children:"Cho mng n vi trang qun tr DDStore"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"150"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Sn phm"})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:"1,234"}),u.jsx("div",{className:"text-sm text-gray-600",children:"n hng"})]}),u.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[u.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"456"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Khch hng"})]}),u.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"78"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Bo co"})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Test Component"}),u.jsx("p",{className:"text-gray-600",children:"y l component test  kim tra layout admin ang hot ng bnh thng."})]})]}),F6=Ge("/admin/dashboard")({component:U6,beforeLoad:()=>{document.title="Dashboard | Admin DDStore"}});let q6={data:""},K6=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||q6},Q6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,G6=/\/\*[^]*?\*\/|  +/g,xj=/\n+/g,Ni=(t,e)=>{let n="",r="",s="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?Ni(l,o):o+"{"+Ni(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=Ni(l,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ni.p?Ni.p(o,l):o+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Ss={},qT=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+qT(t[n]);return e}return t},W6=(t,e,n,r,s)=>{let o=qT(t),l=Ss[o]||(Ss[o]=(f=>{let h=0,m=11;for(;h<f.length;)m=101*m+f.charCodeAt(h++)>>>0;return"go"+m})(o));if(!Ss[l]){let f=o!==t?t:(h=>{let m,g,y=[{}];for(;m=Q6.exec(h.replace(G6,""));)m[4]?y.shift():m[3]?(g=m[3].replace(xj," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][m[1]]=m[2].replace(xj," ").trim();return y[0]})(t);Ss[l]=Ni(s?{["@keyframes "+l]:f}:f,n?"":"."+l)}let c=n&&Ss.g?Ss.g:null;return n&&(Ss.g=Ss[l]),((f,h,m,g)=>{g?h.data=h.data.replace(g,f):h.data.indexOf(f)===-1&&(h.data=m?f+h.data:h.data+f)})(Ss[l],e,r,c),l},Y6=(t,e,n)=>t.reduce((r,s,o)=>{let l=e[o];if(l&&l.call){let c=l(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=f?"."+f:c&&typeof c=="object"?c.props?"":Ni(c,""):c===!1?"":c}return r+s+(l??"")},"");function Xp(t){let e=this||{},n=t.call?t(e.p):t;return W6(n.unshift?n.raw?Y6(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,K6(e.target),e.g,e.o,e.k)}let KT,Ex,_x;Xp.bind({g:1});let zs=Xp.bind({k:1});function X6(t,e,n,r){Ni.p=e,KT=t,Ex=n,_x=r}function Qi(t,e){let n=this||{};return function(){let r=arguments;function s(o,l){let c=Object.assign({},o),f=c.className||s.className;n.p=Object.assign({theme:Ex&&Ex()},c),n.o=/ *go\d+/.test(f),c.className=Xp.apply(n,r)+(f?" "+f:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),_x&&h[0]&&_x(c),KT(h,c)}return s}}var J6=t=>typeof t=="function",zh=(t,e)=>J6(t)?t(e):t,Z6=(()=>{let t=0;return()=>(++t).toString()})(),QT=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),ez=20,Fb="default",GT=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return GT(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},ch=[],WT={toasts:[],pausedAt:void 0,settings:{toastLimit:ez}},Kr={},YT=(t,e=Fb)=>{Kr[e]=GT(Kr[e]||WT,t),ch.forEach(([n,r])=>{n===e&&r(Kr[e])})},XT=t=>Object.keys(Kr).forEach(e=>YT(t,e)),tz=t=>Object.keys(Kr).find(e=>Kr[e].toasts.some(n=>n.id===t)),Jp=(t=Fb)=>e=>{YT(e,t)},nz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rz=(t={},e=Fb)=>{let[n,r]=C.useState(Kr[e]||WT),s=C.useRef(Kr[e]);C.useEffect(()=>(s.current!==Kr[e]&&r(Kr[e]),ch.push([e,r]),()=>{let l=ch.findIndex(([c])=>c===e);l>-1&&ch.splice(l,1)}),[e]);let o=n.toasts.map(l=>{var c,f,h;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||t?.duration||nz[l.type],style:{...t.style,...(h=t[l.type])==null?void 0:h.style,...l.style}}});return{...n,toasts:o}},sz=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||Z6()}),Ku=t=>(e,n)=>{let r=sz(e,t,n);return Jp(r.toasterId||tz(r.id))({type:2,toast:r}),r.id},Lt=(t,e)=>Ku("blank")(t,e);Lt.error=Ku("error");Lt.success=Ku("success");Lt.loading=Ku("loading");Lt.custom=Ku("custom");Lt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Jp(e)(n):XT(n)};Lt.dismissAll=t=>Lt.dismiss(void 0,t);Lt.remove=(t,e)=>{let n={type:4,toastId:t};e?Jp(e)(n):XT(n)};Lt.removeAll=t=>Lt.remove(void 0,t);Lt.promise=(t,e,n)=>{let r=Lt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?zh(e.success,s):void 0;return o?Lt.success(o,{id:r,...n,...n?.success}):Lt.dismiss(r),s}).catch(s=>{let o=e.error?zh(e.error,s):void 0;o?Lt.error(o,{id:r,...n,...n?.error}):Lt.dismiss(r)}),t};var iz=1e3,oz=(t,e="default")=>{let{toasts:n,pausedAt:r}=rz(t,e),s=C.useRef(new Map).current,o=C.useCallback((g,y=iz)=>{if(s.has(g))return;let x=setTimeout(()=>{s.delete(g),l({type:4,toastId:g})},y);s.set(g,x)},[]);C.useEffect(()=>{if(r)return;let g=Date.now(),y=n.map(x=>{if(x.duration===1/0)return;let v=(x.duration||0)+x.pauseDuration-(g-x.createdAt);if(v<0){x.visible&&Lt.dismiss(x.id);return}return setTimeout(()=>Lt.dismiss(x.id,e),v)});return()=>{y.forEach(x=>x&&clearTimeout(x))}},[n,r,e]);let l=C.useCallback(Jp(e),[e]),c=C.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=C.useCallback((g,y)=>{l({type:1,toast:{id:g,height:y}})},[l]),h=C.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=C.useCallback((g,y)=>{let{reverseOrder:x=!1,gutter:v=8,defaultPosition:w}=y||{},N=n.filter(E=>(E.position||w)===(g.position||w)&&E.height),j=N.findIndex(E=>E.id===g.id),A=N.filter((E,_)=>_<j&&E.visible).length;return N.filter(E=>E.visible).slice(...x?[A+1]:[0,A]).reduce((E,_)=>E+(_.height||0)+v,0)},[n]);return C.useEffect(()=>{n.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let y=s.get(g.id);y&&(clearTimeout(y),s.delete(g.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:f,startPause:c,endPause:h,calculateOffset:m}}},az=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lz=zs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cz=zs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uz=Qi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${az} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,dz=zs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fz=Qi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${dz} 1s linear infinite;
`,hz=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pz=zs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mz=Qi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gz=Qi("div")`
  position: absolute;
`,yz=Qi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xz=zs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bz=Qi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vz=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?C.createElement(bz,null,e):e:n==="blank"?null:C.createElement(yz,null,C.createElement(fz,{...r}),n!=="loading"&&C.createElement(gz,null,n==="error"?C.createElement(uz,{...r}):C.createElement(mz,{...r})))},Sz=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wz=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Nz="0%{opacity:0;} 100%{opacity:1;}",Cz="0%{opacity:1;} 100%{opacity:0;}",jz=Qi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kz=Qi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Tz=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=QT()?[Nz,Cz]:[Sz(n),wz(n)];return{animation:e?`${zs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ez=C.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Tz(t.position||e||"top-center",t.visible):{opacity:0},o=C.createElement(vz,{toast:t}),l=C.createElement(kz,{...t.ariaProps},zh(t.message,t));return C.createElement(jz,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:o,message:l}):C.createElement(C.Fragment,null,o,l))});X6(C.createElement);var _z=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let o=C.useCallback(l=>{if(l){let c=()=>{let f=l.getBoundingClientRect().height;r(t,f)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return C.createElement("div",{ref:o,className:e,style:n},s)},Mz=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:QT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Az=Xp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bf=16,Dr=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:o,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:h}=oz(n,o);return C.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Bf,left:Bf,right:Bf,bottom:Bf,pointerEvents:"none",...l},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(m=>{let g=m.position||e,y=h.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),x=Mz(g,y);return C.createElement(_z,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?Az:"",style:x},m.type==="custom"?zh(m.message,m):s?s(m):C.createElement(Ez,{toast:m,position:g}))}))},vt=Lt;const Rz=()=>{const t=Pu(),e=Yo(v6),n=(s,o)=>{t(x6(s)),vt.success(` xa "${o}" khi danh sch yu thch`)},r=(s,o)=>{const c=`/product/${bu(o)}-${s}`;window.open(c,"_blank","noopener,noreferrer")};return e.length===0?u.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx(al,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Danh sch yu thch trng"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Bn cha thm sn phm no vo danh sch yu thch"}),u.jsxs("a",{href:"/products",className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(uT,{className:"w-5 h-5"}),"Khm ph sn phm"]})]})})}):u.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(al,{className:"w-8 h-8 text-red-500 fill-red-500"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sn phm yu thch"})]}),u.jsxs("p",{className:"text-gray-600",children:["Bn c ",u.jsx("span",{className:"font-semibold text-green-600",children:e.length})," ","sn phm trong danh sch yu thch"]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:e.map(s=>u.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:s.main_image,alt:s.product_name_vn,className:"w-full h-[200px] object-cover group-hover:scale-110 transition-transform duration-500 cursor-pointer",onClick:()=>r(s.product_id,s.product_name_vn)}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),u.jsx("button",{onClick:()=>n(s.product_id,s.product_name_vn),className:"absolute top-3 right-3 w-9 h-9 bg-white hover:bg-red-50 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 group/btn",title:"Xa khi yu thch",children:u.jsx(jl,{className:"w-5 h-5 text-gray-600 group-hover/btn:text-red-600"})}),u.jsx("span",{className:"absolute top-3 left-3 bg-green-600 text-white text-xs font-semibold px-3 py-1.5 rounded-full shadow-md",children:s.product_type_name_vn})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight mb-2 line-clamp-2 cursor-pointer hover:text-green-600 transition-colors h-10",onClick:()=>r(s.product_id,s.product_name_vn),children:s.product_name_vn}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300 shadow-sm",style:{backgroundColor:s.color_vn},title:s.color_vn}),u.jsx("span",{className:"text-xs text-gray-600 truncate flex-1",children:s.material_vn})]}),u.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-gray-500 mb-0.5",children:"Gi"}),u.jsxs("span",{className:"text-lg font-bold text-red-600",children:[s.price.toLocaleString("vi-VN"),""]})]}),u.jsx("button",{onClick:()=>r(s.product_id,s.product_name_vn),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:"Xem chi tit"})]})]})]},s.product_id))})]})})},Oz=Ge("/__public/favorite")({component:Rz}),Qe=({children:t,type:e="button",variant:n="primary",size:r="medium",onClick:s,disabled:o=!1,loading:l=!1,icon:c,iconPosition:f="left",fullWidth:h=!1,className:m="",...g})=>{const y=o||l,x="inline-flex items-center justify-center gap-2 font-semibold text-center border-2 border-transparent rounded-xl cursor-pointer transition-all duration-300 outline-none relative overflow-hidden box-border h-11",v={small:"px-3 py-2 text-xs",medium:"px-6 py-2.5 text-sm",large:"px-8 py-3 text-base"},w={primary:"bg-green-500 text-white hover:bg-green-600 focus:shadow-[0_0_0_3px_rgba(16,185,129,0.3)]",secondary:"bg-gray-500 text-white hover:bg-gray-600",outline:"border-gray-300 text-gray-700 hover:bg-gray-50",danger:"bg-red-500 text-white hover:bg-red-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600",success:"bg-green-500 text-white hover:bg-green-600",info:"bg-blue-500 text-white hover:bg-blue-600",ghost:"text-gray-700 hover:bg-gray-100"},N={small:14,medium:16,large:18},j=`
    ${x}
    ${v[r]}
    ${w[n]}
    ${h?"w-full":""}
    ${y?"opacity-50 cursor-not-allowed":""}
    ${m}
  `.replace(/\s+/g," ").trim();return u.jsxs("button",{type:e,onClick:s,disabled:y,className:j,...g,children:[l&&u.jsx(h4,{size:N[r],className:"animate-spin"}),!l&&c&&f==="left"&&u.jsx(c,{size:N[r]}),u.jsx("span",{children:t}),!l&&c&&f==="right"&&u.jsx(c,{size:N[r]})]})},$e=({label:t,type:e="text",name:n,value:r,onChange:s,placeholder:o,required:l=!1,disabled:c=!1,error:f="",icon:h,className:m="",id:g,...y})=>{const[x,v]=C.useState(!1),w=e==="password",N=w&&x?"text":e,j=g||n;return u.jsxs("div",{className:`relative mb-4 ${m}`,children:[t&&u.jsxs("label",{htmlFor:j,className:"block text-sm font-medium text-gray-700 mb-2",children:[t,l&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"relative",children:[h&&u.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 z-10",children:u.jsx(h,{size:18})}),u.jsx("input",{id:j,name:n,type:N,value:r,onChange:s,placeholder:o,required:l,disabled:c,autoComplete:w?"current-password":n==="email"?"email":void 0,className:`w-full px-4 py-2.5 border-2 rounded-xl text-sm bg-gray-50 transition-all duration-300 outline-none box-border
            ${h?"pl-12":"pl-4"} ${w?"pr-12":"pr-4"} h-11
            ${f?"border-red-500 bg-red-50":"border-gray-200"}
            ${c?"bg-gray-100 text-gray-400 cursor-not-allowed opacity-70":"hover:border-gray-400"}
            ${f?"focus:border-red-500 focus:shadow-[0_0_0_3px_rgba(239,68,68,0.1)]":"focus:border-green-500 focus:bg-white focus:shadow-[0_0_0_3px_rgba(16,185,129,0.1)]"}
            placeholder:text-gray-400`.replace(/\s+/g," ").trim(),...y}),w&&u.jsx("button",{type:"button",onClick:()=>v(A=>!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 z-10","aria-label":x?"n mt khu":"Hin mt khu",children:x?u.jsx(sT,{size:18}):u.jsx(fr,{size:18})})]}),f&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f})]})},Dz=()=>{const[t,e]=C.useState({name:"",email:"",phone:"",subject:"",message:""}),n={email:"vtd262002@gmail",phone:"0328715219",address:"ng Lm, Tin Hi, Thi Bnh, Vit Nam",hours:"8:00 - 17:00, Th 2 - Ch Nht"},r=o=>{const{name:l,value:c}=o.target;e(f=>({...f,[l]:c}))},s=o=>{o.preventDefault(),console.log("Form data:",t),alert("Cm n bn  lin h! Chng ti s phn hi sm nht c th."),e({name:"",email:"",phone:"",subject:"",message:""})};return u.jsxs("div",{className:"bg-gray-50",children:[u.jsxs("div",{className:"relative h-[500px] overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0",children:u.jsx("img",{src:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200",alt:"Lin h vi chng ti",className:"w-full h-full object-cover"})}),u.jsx("div",{className:"relative container mx-auto px-4 h-full flex items-center justify-center",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:"Lin h vi chng ti"}),u.jsx("p",{className:"text-xl md:text-2xl text-green-100 drop-shadow-md",children:"Chng ti lun sn sng lng nghe v h tr bn"})]})})]}),u.jsx("div",{className:"container mx-auto px-4 py-16",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-3 border-b border-gray-200",children:"Thng tin lin h"}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-lg shrink-0",children:u.jsx(Ab,{className:"w-5 h-5 text-green-700"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"a ch"}),u.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.address})]})]}),u.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-lg shrink-0",children:u.jsx(lT,{className:"w-5 h-5 text-green-700"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"in thoi"}),u.jsx("a",{href:`tel:${n.phone}`,className:"text-green-700 hover:text-green-800 text-sm font-medium transition-colors",children:n.phone})]})]}),u.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-lg shrink-0",children:u.jsx(Mb,{className:"w-5 h-5 text-green-700"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email"}),u.jsx("a",{href:`mailto:${n.email}`,className:"text-green-700 hover:text-green-800 text-sm font-medium transition-colors break-all",children:n.email})]})]}),u.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-lg shrink-0",children:u.jsx(fu,{className:"w-5 h-5 text-green-700"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Gi lm vic"}),u.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.hours})]})]})]})]})}),u.jsx("div",{children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-3 border-b border-gray-200",children:"Gi thng tin"}),u.jsxs("form",{onSubmit:s,className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx($e,{label:"H v tn",type:"text",name:"name",placeholder:"Nhp h v tn",value:t.name,onChange:r,required:!0}),u.jsx($e,{label:"Email",type:"email",name:"email",placeholder:"example@email...",value:t.email,onChange:r,required:!0})]}),u.jsx($e,{label:"S in thoi",type:"tel",name:"phone",placeholder:"0123456789",value:t.phone,onChange:r,required:!0}),u.jsx($e,{label:"Tiu ",type:"text",name:"subject",placeholder:"Nhp tiu ",value:t.subject,onChange:r,required:!0}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ni dung",u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsx("textarea",{name:"message",value:t.message,onChange:r,placeholder:"Nhp ni dung tin nhn...",rows:5,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none transition-all"})]}),u.jsx("div",{className:"pt-2",children:u.jsx(Qe,{type:"submit",variant:"primary",size:"large",className:"w-full flex items-center justify-center gap-2 whitespace-nowrap",icon:U4,children:"Gi thng tin"})})]})]})})]})})})]})},Iz=Ge("/__public/contact")({component:Dz}),Pz=()=>{const t={name:"Ca hng g Dng Dng - DDSTore",email:"vtd262002@gmail",phone:"0328715219",address:"ng Lm, Tin Hi, Thi Bnh, Vit Nam",hours:"8:00 - 17:00, Th 2 - Ch Nht"},e=[{icon:bI,title:"Cht lng m bo",description:"Sn phm g t nhin, c tuyn chn k cng t ngun g uy tn"},{icon:mx,title:"i ng chuyn nghip",description:"Th mc lnh ngh vi nhiu nm kinh nghim trong ngnh"},{icon:al,title:"Tn tm khch hng",description:"Lun lng nghe v p ng mi nhu cu ca khch hng"},{icon:$c,title:"Giao hng tn ni",description:"Vn chuyn an ton, lp t tn nh min ph"}],n=[{number:"15+",label:"Nm kinh nghim"},{number:"5000+",label:"Khch hng tin tng"},{number:"100+",label:"Sn phm a dng"},{number:"24/7",label:"H tr t vn"}];return u.jsxs("div",{className:"bg-gray-50",children:[u.jsxs("div",{className:"relative h-[500px] overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0",children:u.jsx("img",{src:"https://res.cloudinary.com/dfizo8h6h/image/upload/v1763116647/wallpaperflare.com_wallpaper_fkljkb.jpg",alt:"Ni tht g cao cp",className:"w-full h-full object-cover"})}),u.jsx("div",{className:"relative container mx-auto px-4 h-full flex items-center justify-center",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:"V chng ti"}),u.jsx("p",{className:"text-xl md:text-2xl text-green-100 drop-shadow-md",children:"Hn 15 nm ng hnh cng khng gian sng Vit"})]})})]}),u.jsx("div",{className:"container mx-auto px-4 py-16",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mb-16",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Cu chuyn ca chng ti"}),u.jsxs("div",{className:"space-y-4 text-gray-600",children:[u.jsxs("p",{className:"leading-relaxed",children:[u.jsx("strong",{className:"text-green-700",children:t.name})," c thnh lp vi tm huyt mang n nhng sn phm ni tht g t nhin, cht lng cao cho mi gia nh Vit Nam."]}),u.jsx("p",{className:"leading-relaxed",children:"Vi hn 15 nm kinh nghim trong lnh vc ch tc v kinh doanh  g, chng ti t ho l n v cung cp nhng sn phm ni tht p mt, bn vng v thn thin vi mi trng."}),u.jsx("p",{className:"leading-relaxed",children:"Mi sn phm ca chng ti u c lm th cng t m bi i ng th mc lnh ngh, kt hp gia k thut truyn thng v cng ngh hin i, mang n gi tr bn vng cho khng gian sng ca bn."})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-green-100 to-green-200 rounded-2xl overflow-hidden shadow-xl",children:u.jsx("img",{src:"https://res.cloudinary.com/dfizo8h6h/image/upload/v1763116880/HD-wallpaper-living-room-furniture-home-interior_hhul6r.jpg",alt:"Xng sn xut",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"absolute -bottom-6 -right-6 bg-white p-6 rounded-xl shadow-lg",children:[u.jsx("div",{className:"text-green-700 font-bold text-3xl",children:"15+"}),u.jsx("div",{className:"text-gray-600 text-sm",children:"Nm kinh nghim"})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",children:n.map((r,s)=>u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md text-center hover:shadow-lg transition-shadow",children:[u.jsx("div",{className:"text-3xl font-bold text-green-700 mb-2",children:r.number}),u.jsx("div",{className:"text-gray-600 text-sm",children:r.label})]},s))}),u.jsxs("div",{className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Gi tr ct li"}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,s)=>u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-all hover:-translate-y-1",children:[u.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-lg flex items-center justify-center mb-4",children:u.jsx(r.icon,{className:"w-7 h-7 text-green-700"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r.title}),u.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:r.description})]},s))})]}),u.jsx("div",{className:"bg-gradient-to-br from-green-700 to-green-900 rounded-2xl p-8 md:p-12 text-white",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Lin h vi chng ti"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:u.jsx(Ab,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"a ch"}),u.jsx("p",{className:"text-green-100",children:t.address})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:u.jsx(lT,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"in thoi"}),u.jsx("a",{href:`tel:${t.phone}`,className:"text-green-100 hover:text-white transition-colors",children:t.phone})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:u.jsx(Mb,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Email"}),u.jsx("a",{href:`mailto:${t.email}`,className:"text-green-100 hover:text-white transition-colors",children:t.email})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:u.jsx(fu,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Gi lm vic"}),u.jsx("p",{className:"text-green-100",children:t.hours})]})]})]})]})]})})]})})]})},Lz=Ge("/__public/about")({component:zz});function zz(){return u.jsx(Pz,{})}const Bz="/assets/logo-DkIn8PKO.png",Vz=()=>{const[t,{isLoading:e,error:n}]=c6(),[r,s]=C.useState({email:"",password:""}),o=c=>{s({...r,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{const f=await t(r).unwrap();console.log("Login successful:",f)}catch(f){console.error("Login failed:",f)}console.log("Login data:",r)};return u.jsx("div",{className:"min-h-screen flex flex-col",children:u.jsx("div",{className:"flex-1 bg-gray-100 flex items-center justify-center",children:u.jsx("div",{className:"w-full max-w-lg m-auto px-5",children:u.jsxs("div",{className:"rounded-xl shadow-lg border border-gray-200 bg-white",children:[u.jsx("div",{className:"p-8 pb-0",children:u.jsxs("div",{className:"mb-6 flex gap-3 items-center pb-6 border-b border-gray-200",children:[u.jsx("img",{src:Bz,alt:"DDStore Logo",className:"w-16 h-16 rounded-xl object-cover"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"DDStore"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"ng nhp vo ti khon ca bn"})]})]})}),u.jsxs("form",{className:"px-8 pb-8",onSubmit:l,children:[n&&u.jsx("div",{className:"text-red-500 text-sm mb-4",children:typeof n=="object"&&n!==null&&"data"in n?n.data?.message||"ng nhp tht bi, vui lng th li.":n instanceof Error?n.message:"ng nhp tht bi, vui lng th li."}),u.jsx($e,{label:"Email",type:"email",name:"email",value:r.email,onChange:o,placeholder:"Nhp a ch email ca bn",icon:Mb,required:!0}),u.jsx($e,{label:"Mt khu",type:"password",name:"password",value:r.password,onChange:o,placeholder:"Nhp mt khu ca bn",icon:oT,required:!0}),u.jsx("div",{className:"text-right mb-6",children:u.jsx(Zt,{to:"/forgot-password",className:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors",children:"Qun mt khu?"})}),u.jsx(Qe,{type:"submit",variant:"primary",size:"medium",fullWidth:!0,icon:g4,iconPosition:"left",className:"mb-6",disabled:e,children:"ng nhp"}),u.jsxs("div",{className:"text-center text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Cha c ti khon? "}),u.jsx(Zt,{to:"/register",className:"text-green-600 hover:text-green-700 font-medium transition-colors",children:"ng k ngay"})]})]})]})})})})},$z=Ge("/__auth/login")({component:Vz,beforeLoad:()=>{document.title="Login - DDStore"}});function JT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=JT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ZT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=JT(t))&&(r&&(r+=" "),r+=e);return r}const Hz=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Uz=(t,e)=>({classGroupId:t,validator:e}),eE=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Bh="-",bj=[],Fz="arbitrary..",qz=t=>{const e=Qz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return Kz(l);const c=l.split(Bh),f=c[0]===""&&c.length>1?1:0;return tE(c,f,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const f=r[l],h=n[l];return f?h?Hz(h,f):f:h||bj}return n[l]||bj}}},tE=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],o=n.nextPart.get(s);if(o){const h=tE(t,e+1,o);if(h)return h}const l=n.validators;if(l===null)return;const c=e===0?t.join(Bh):t.slice(e).join(Bh),f=l.length;for(let h=0;h<f;h++){const m=l[h];if(m.validator(c))return m.classGroupId}},Kz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Fz+r:void 0})(),Qz=t=>{const{theme:e,classGroups:n}=t;return Gz(n,e)},Gz=(t,e)=>{const n=eE();for(const r in t){const s=t[r];qb(s,n,r,e)}return n},qb=(t,e,n,r)=>{const s=t.length;for(let o=0;o<s;o++){const l=t[o];Wz(l,e,n,r)}},Wz=(t,e,n,r)=>{if(typeof t=="string"){Yz(t,e,n);return}if(typeof t=="function"){Xz(t,e,n,r);return}Jz(t,e,n,r)},Yz=(t,e,n)=>{const r=t===""?e:nE(e,t);r.classGroupId=n},Xz=(t,e,n,r)=>{if(Zz(t)){qb(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Uz(n,t))},Jz=(t,e,n,r)=>{const s=Object.entries(t),o=s.length;for(let l=0;l<o;l++){const[c,f]=s[l];qb(f,nE(e,c),n,r)}},nE=(t,e)=>{let n=t;const r=e.split(Bh),s=r.length;for(let o=0;o<s;o++){const l=r[o];let c=n.nextPart.get(l);c||(c=eE(),n.nextPart.set(l,c)),n=c}return n},Zz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,eB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(o,l)=>{n[o]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},Mx="!",vj=":",tB=[],Sj=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),nB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,f=0,h;const m=s.length;for(let w=0;w<m;w++){const N=s[w];if(l===0&&c===0){if(N===vj){o.push(s.slice(f,w)),f=w+1;continue}if(N==="/"){h=w;continue}}N==="["?l++:N==="]"?l--:N==="("?c++:N===")"&&c--}const g=o.length===0?s:s.slice(f);let y=g,x=!1;g.endsWith(Mx)?(y=g.slice(0,-1),x=!0):g.startsWith(Mx)&&(y=g.slice(1),x=!0);const v=h&&h>f?h-f:void 0;return Sj(o,x,y,v)};if(e){const s=e+vj,o=r;r=l=>l.startsWith(s)?o(l.slice(s.length)):Sj(tB,!1,l,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},rB=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",f=e.has(l);c||f?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(l)):s.push(l)}return s.length>0&&(s.sort(),r.push(...s)),r}},sB=t=>({cache:eB(t.cacheSize),parseClassName:nB(t),sortModifiers:rB(t),...qz(t)}),iB=/\s+/,oB=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(iB);let f="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:g,modifiers:y,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:w}=n(m);if(g){f=m+(f.length>0?" "+f:f);continue}let N=!!w,j=r(N?v.substring(0,w):v);if(!j){if(!N){f=m+(f.length>0?" "+f:f);continue}if(j=r(v),!j){f=m+(f.length>0?" "+f:f);continue}N=!1}const A=y.length===0?"":y.length===1?y[0]:o(y).join(":"),E=x?A+Mx:A,_=E+j;if(l.indexOf(_)>-1)continue;l.push(_);const T=s(j,N);for(let O=0;O<T.length;++O){const M=T[O];l.push(E+M)}f=m+(f.length>0?" "+f:f)}return f},aB=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=rE(n))&&(s&&(s+=" "),s+=r);return s},rE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=rE(t[r]))&&(n&&(n+=" "),n+=e);return n},lB=(t,...e)=>{let n,r,s,o;const l=f=>{const h=e.reduce((m,g)=>g(m),t());return n=sB(h),r=n.cache.get,s=n.cache.set,o=c,c(f)},c=f=>{const h=r(f);if(h)return h;const m=oB(f,n);return s(f,m),m};return o=l,(...f)=>o(aB(...f))},cB=[],Pt=t=>{const e=n=>n[t]||cB;return e.isThemeGetter=!0,e},sE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uB=/^\d+\/\d+$/,dB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,za=t=>uB.test(t),Oe=t=>!!t&&!Number.isNaN(Number(t)),gi=t=>!!t&&Number.isInteger(Number(t)),v0=t=>t.endsWith("%")&&Oe(t.slice(0,-1)),ws=t=>dB.test(t),gB=()=>!0,yB=t=>fB.test(t)&&!hB.test(t),oE=()=>!1,xB=t=>pB.test(t),bB=t=>mB.test(t),vB=t=>!xe(t)&&!be(t),SB=t=>Tl(t,cE,oE),xe=t=>sE.test(t),So=t=>Tl(t,uE,yB),S0=t=>Tl(t,kB,Oe),wj=t=>Tl(t,aE,oE),wB=t=>Tl(t,lE,bB),Vf=t=>Tl(t,dE,xB),be=t=>iE.test(t),Lc=t=>El(t,uE),NB=t=>El(t,TB),Nj=t=>El(t,aE),CB=t=>El(t,cE),jB=t=>El(t,lE),$f=t=>El(t,dE,!0),Tl=(t,e,n)=>{const r=sE.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},El=(t,e,n=!1)=>{const r=iE.exec(t);return r?r[1]?e(r[1]):n:!1},aE=t=>t==="position"||t==="percentage",lE=t=>t==="image"||t==="url",cE=t=>t==="length"||t==="size"||t==="bg-size",uE=t=>t==="length",kB=t=>t==="number",TB=t=>t==="family-name",dE=t=>t==="shadow",EB=()=>{const t=Pt("color"),e=Pt("font"),n=Pt("text"),r=Pt("font-weight"),s=Pt("tracking"),o=Pt("leading"),l=Pt("breakpoint"),c=Pt("container"),f=Pt("spacing"),h=Pt("radius"),m=Pt("shadow"),g=Pt("inset-shadow"),y=Pt("text-shadow"),x=Pt("drop-shadow"),v=Pt("blur"),w=Pt("perspective"),N=Pt("aspect"),j=Pt("ease"),A=Pt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[..._(),be,xe],O=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],R=()=>[be,xe,f],I=()=>[za,"full","auto",...R()],L=()=>[gi,"none","subgrid",be,xe],P=()=>["auto",{span:["full",gi,be,xe]},gi,be,xe],V=()=>[gi,"auto",be,xe],H=()=>["auto","min","max","fr",be,xe],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...R()],Q=()=>[za,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],F=()=>[t,be,xe],te=()=>[..._(),Nj,wj,{position:[be,xe]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",CB,SB,{size:[be,xe]}],X=()=>[v0,Lc,So],se=()=>["","none","full",h,be,xe],ne=()=>["",Oe,Lc,So],ce=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[Oe,v0,Nj,wj],ge=()=>["","none",v,be,xe],fe=()=>["none",Oe,be,xe],pe=()=>["none",Oe,be,xe],Ce=()=>[Oe,be,xe],Te=()=>[za,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ws],breakpoint:[ws],color:[gB],container:[ws],"drop-shadow":[ws],ease:["in","out","in-out"],font:[vB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ws],shadow:[ws],spacing:["px",Oe],text:[ws],"text-shadow":[ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",za,xe,be,N]}],container:["container"],columns:[{columns:[Oe,xe,be,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[gi,"auto",be,xe]}],basis:[{basis:[za,"full","auto",c,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,za,"auto","initial","none",xe]}],grow:[{grow:["",Oe,be,xe]}],shrink:[{shrink:["",Oe,be,xe]}],order:[{order:[gi,"first","last","none",be,xe]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[c,"screen",...Q()]}],"min-w":[{"min-w":[c,"screen","none",...Q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,Lc,So]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,be,S0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",v0,xe]}],"font-family":[{font:[NB,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,be,xe]}],"line-clamp":[{"line-clamp":[Oe,"none",be,S0]}],leading:[{leading:[o,...R()]}],"list-image":[{"list-image":["none",be,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",be,So]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Oe,"auto",be,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gi,be,xe],radial:["",be,xe],conic:[gi,be,xe]},jB,wB]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,be,xe]}],"outline-w":[{outline:["",Oe,Lc,So]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",m,$f,Vf]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",g,$f,Vf]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Oe,So]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",y,$f,Vf]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Oe,be,xe]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[be,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,xe]}],filter:[{filter:["","none",be,xe]}],blur:[{blur:ge()}],brightness:[{brightness:[Oe,be,xe]}],contrast:[{contrast:[Oe,be,xe]}],"drop-shadow":[{"drop-shadow":["","none",x,$f,Vf]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Oe,be,xe]}],"hue-rotate":[{"hue-rotate":[Oe,be,xe]}],invert:[{invert:["",Oe,be,xe]}],saturate:[{saturate:[Oe,be,xe]}],sepia:[{sepia:["",Oe,be,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",be,xe]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,be,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,be,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,be,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,be,xe]}],"backdrop-invert":[{"backdrop-invert":["",Oe,be,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,be,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,be,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,be,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",be,xe]}],ease:[{ease:["linear","initial",j,be,xe]}],delay:[{delay:[Oe,be,xe]}],animate:[{animate:["none",A,be,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,be,xe]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[be,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,xe]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Oe,Lc,So,S0]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_B=lB(EB);function mt(...t){return _B(ZT(t))}function Ja({className:t,type:e,...n}){return u.jsx("input",{type:e,"data-slot":"input",className:mt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function Cj(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function Qu(t,e=[]){let n=[];function r(o,l){const c=C.createContext(l),f=n.length;n=[...n,l];const h=g=>{const{scope:y,children:x,...v}=g,w=y?.[t]?.[f]||c,N=C.useMemo(()=>v,Object.values(v));return u.jsx(w.Provider,{value:N,children:x})};h.displayName=o+"Provider";function m(g,y){const x=y?.[t]?.[f]||c,v=C.useContext(x);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>C.createContext(l));return function(c){const f=c?.[t]||o;return C.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return s.scopeName=t,[r,MB(s,...e)]}function MB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return{...c,...g}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function jj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _l(...t){return e=>{let n=!1;const r=t.map(s=>{const o=jj(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():jj(t[s],null)}}}}function St(...t){return C.useCallback(_l(...t),t)}function kj(t){const e=AB(t),n=C.forwardRef((r,s)=>{const{children:o,...l}=r,c=C.Children.toArray(o),f=c.find(OB);if(f){const h=f.props.children,m=c.map(g=>g===f?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...l,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,m):null})}return u.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function AB(t){const e=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const l=IB(s),c=DB(o,s.props);return s.type!==C.Fragment&&(c.ref=r?_l(r,l):l),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RB=Symbol("radix.slottable");function OB(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RB}function DB(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function IB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function PB(t){const e=t+"CollectionProvider",[n,r]=Qu(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:N,children:j}=w,A=rt.useRef(null),E=rt.useRef(new Map).current;return u.jsx(s,{scope:N,itemMap:E,collectionRef:A,children:j})};l.displayName=e;const c=t+"CollectionSlot",f=kj(c),h=rt.forwardRef((w,N)=>{const{scope:j,children:A}=w,E=o(c,j),_=St(N,E.collectionRef);return u.jsx(f,{ref:_,children:A})});h.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",y=kj(m),x=rt.forwardRef((w,N)=>{const{scope:j,children:A,...E}=w,_=rt.useRef(null),T=St(N,_),O=o(m,j);return rt.useEffect(()=>(O.itemMap.set(_,{ref:_,...E}),()=>void O.itemMap.delete(_))),u.jsx(y,{[g]:"",ref:T,children:A})});x.displayName=m;function v(w){const N=o(t+"CollectionConsumer",w);return rt.useCallback(()=>{const A=N.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(N.itemMap.values()).sort((O,M)=>E.indexOf(O.ref.current)-E.indexOf(M.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:h,ItemSlot:x},v,r]}var LB=C.createContext(void 0);function zB(t){const e=C.useContext(LB);return t||e||"ltr"}function BB(t){const e=VB(t),n=C.forwardRef((r,s)=>{const{children:o,...l}=r,c=C.Children.toArray(o),f=c.find(HB);if(f){const h=f.props.children,m=c.map(g=>g===f?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...l,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,m):null})}return u.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function VB(t){const e=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const l=FB(s),c=UB(o,s.props);return s.type!==C.Fragment&&(c.ref=r?_l(r,l):l),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $B=Symbol("radix.slottable");function HB(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$B}function UB(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function FB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=qB.reduce((t,e)=>{const n=BB(`Primitive.${e}`),r=C.forwardRef((s,o)=>{const{asChild:l,...c}=s,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function KB(t,e){t&&wl.flushSync(()=>t.dispatchEvent(e))}function $o(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function QB(t,e=globalThis?.document){const n=$o(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var GB="DismissableLayer",Ax="dismissableLayer.update",WB="dismissableLayer.pointerDownOutside",YB="dismissableLayer.focusOutside",Tj,fE=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zp=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...f}=t,h=C.useContext(fE),[m,g]=C.useState(null),y=m?.ownerDocument??globalThis?.document,[,x]=C.useState({}),v=St(e,M=>g(M)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=w.indexOf(N),A=m?w.indexOf(m):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,_=A>=j,T=ZB(M=>{const R=M.target,I=[...h.branches].some(L=>L.contains(R));!_||I||(s?.(M),l?.(M),M.defaultPrevented||c?.())},y),O=e8(M=>{const R=M.target;[...h.branches].some(L=>L.contains(R))||(o?.(M),l?.(M),M.defaultPrevented||c?.())},y);return QB(M=>{A===h.layers.size-1&&(r?.(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},y),C.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Tj=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Ej(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Tj)}},[m,y,n,h]),C.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Ej())},[m,h]),C.useEffect(()=>{const M=()=>x({});return document.addEventListener(Ax,M),()=>document.removeEventListener(Ax,M)},[]),u.jsx(dt.div,{...f,ref:v,style:{pointerEvents:E?_?"auto":"none":void 0,...t.style},onFocusCapture:Ke(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ke(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ke(t.onPointerDownCapture,T.onPointerDownCapture)})});Zp.displayName=GB;var XB="DismissableLayerBranch",JB=C.forwardRef((t,e)=>{const n=C.useContext(fE),r=C.useRef(null),s=St(e,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(dt.div,{...t,ref:s})});JB.displayName=XB;function ZB(t,e=globalThis?.document){const n=$o(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){hE(WB,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function e8(t,e=globalThis?.document){const n=$o(t),r=C.useRef(!1);return C.useEffect(()=>{const s=o=>{o.target&&!r.current&&hE(YB,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ej(){const t=new CustomEvent(Ax);document.dispatchEvent(t)}function hE(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?KB(s,o):s.dispatchEvent(o)}var w0=0;function pE(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_j()),document.body.insertAdjacentElement("beforeend",t[1]??_j()),w0++,()=>{w0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),w0--}},[])}function _j(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var N0="focusScope.autoFocusOnMount",C0="focusScope.autoFocusOnUnmount",Mj={bubbles:!1,cancelable:!0},t8="FocusScope",Kb=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,f]=C.useState(null),h=$o(s),m=$o(o),g=C.useRef(null),y=St(e,w=>f(w)),x=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let w=function(E){if(x.paused||!c)return;const _=E.target;c.contains(_)?g.current=_:xi(g.current,{select:!0})},N=function(E){if(x.paused||!c)return;const _=E.relatedTarget;_!==null&&(c.contains(_)||xi(g.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&xi(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const A=new MutationObserver(j);return c&&A.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),A.disconnect()}}},[r,c,x.paused]),C.useEffect(()=>{if(c){Rj.add(x);const w=document.activeElement;if(!c.contains(w)){const j=new CustomEvent(N0,Mj);c.addEventListener(N0,h),c.dispatchEvent(j),j.defaultPrevented||(n8(a8(mE(c)),{select:!0}),document.activeElement===w&&xi(c))}return()=>{c.removeEventListener(N0,h),setTimeout(()=>{const j=new CustomEvent(C0,Mj);c.addEventListener(C0,m),c.dispatchEvent(j),j.defaultPrevented||xi(w??document.body,{select:!0}),c.removeEventListener(C0,m),Rj.remove(x)},0)}}},[c,h,m,x]);const v=C.useCallback(w=>{if(!n&&!r||x.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,j=document.activeElement;if(N&&j){const A=w.currentTarget,[E,_]=r8(A);E&&_?!w.shiftKey&&j===_?(w.preventDefault(),n&&xi(E,{select:!0})):w.shiftKey&&j===E&&(w.preventDefault(),n&&xi(_,{select:!0})):j===A&&w.preventDefault()}},[n,r,x.paused]);return u.jsx(dt.div,{tabIndex:-1,...l,ref:y,onKeyDown:v})});Kb.displayName=t8;function n8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xi(r,{select:e}),document.activeElement!==n)return}function r8(t){const e=mE(t),n=Aj(e,t),r=Aj(e.reverse(),t);return[n,r]}function mE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Aj(t,e){for(const n of t)if(!s8(n,{upTo:e}))return n}function s8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function i8(t){return t instanceof HTMLInputElement&&"select"in t}function xi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&i8(t)&&e&&t.select()}}var Rj=o8();function o8(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=Oj(t,e),t.unshift(e)},remove(e){t=Oj(t,e),t[0]?.resume()}}}function Oj(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function a8(t){return t.filter(e=>e.tagName!=="A")}var cn=globalThis?.document?C.useLayoutEffect:()=>{},l8=vb[" useId ".trim().toString()]||(()=>{}),c8=0;function Gu(t){const[e,n]=C.useState(l8());return cn(()=>{n(r=>r??String(c8++))},[t]),t||(e?`radix-${e}`:"")}const u8=["top","right","bottom","left"],Hi=Math.min,$n=Math.max,Vh=Math.round,Hf=Math.floor,Wr=t=>({x:t,y:t}),d8={left:"right",right:"left",bottom:"top",top:"bottom"},f8={start:"end",end:"start"};function Rx(t,e,n){return $n(t,Hi(e,n))}function Bs(t,e){return typeof t=="function"?t(e):t}function Vs(t){return t.split("-")[0]}function Ml(t){return t.split("-")[1]}function Qb(t){return t==="x"?"y":"x"}function Gb(t){return t==="y"?"height":"width"}const h8=new Set(["top","bottom"]);function Qr(t){return h8.has(Vs(t))?"y":"x"}function Wb(t){return Qb(Qr(t))}function p8(t,e,n){n===void 0&&(n=!1);const r=Ml(t),s=Wb(t),o=Gb(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=$h(l)),[l,$h(l)]}function m8(t){const e=$h(t);return[Ox(t),e,Ox(e)]}function Ox(t){return t.replace(/start|end/g,e=>f8[e])}const Dj=["left","right"],Ij=["right","left"],g8=["top","bottom"],y8=["bottom","top"];function x8(t,e,n){switch(t){case"top":case"bottom":return n?e?Ij:Dj:e?Dj:Ij;case"left":case"right":return e?g8:y8;default:return[]}}function b8(t,e,n,r){const s=Ml(t);let o=x8(Vs(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(Ox)))),o}function $h(t){return t.replace(/left|right|bottom|top/g,e=>d8[e])}function v8(t){return{top:0,right:0,bottom:0,left:0,...t}}function gE(t){return typeof t!="number"?v8(t):{top:t,right:t,bottom:t,left:t}}function Hh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Pj(t,e,n){let{reference:r,floating:s}=t;const o=Qr(e),l=Wb(e),c=Gb(l),f=Vs(e),h=o==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let x;switch(f){case"top":x={x:m,y:r.y-s.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-s.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Ml(e)){case"start":x[l]-=y*(n&&h?-1:1);break;case"end":x[l]+=y*(n&&h?-1:1);break}return x}const S8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=Pj(h,r,f),y=r,x={},v=0;for(let w=0;w<c.length;w++){const{name:N,fn:j}=c[w],{x:A,y:E,data:_,reset:T}=await j({x:m,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:x,rects:h,platform:l,elements:{reference:t,floating:e}});m=A??m,g=E??g,x={...x,[N]:{...x[N],..._}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(h=T.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:m,y:g}=Pj(h,y,f)),w=-1)}return{x:m,y:g,placement:y,strategy:s,middlewareData:x}};async function vu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:x=0}=Bs(e,t),v=gE(x),N=c[y?g==="floating"?"reference":"floating":g],j=Hh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:f})),A=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),_=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Hh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:A,offsetParent:E,strategy:f}):A);return{top:(j.top-T.top+v.top)/_.y,bottom:(T.bottom-j.bottom+v.bottom)/_.y,left:(j.left-T.left+v.left)/_.x,right:(T.right-j.right+v.right)/_.x}}const w8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:m=0}=Bs(t,e)||{};if(h==null)return{};const g=gE(m),y={x:n,y:r},x=Wb(s),v=Gb(x),w=await l.getDimensions(h),N=x==="y",j=N?"top":"left",A=N?"bottom":"right",E=N?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[x]-y[x]-o.floating[v],T=y[x]-o.reference[x],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let M=O?O[E]:0;(!M||!await(l.isElement==null?void 0:l.isElement(O)))&&(M=c.floating[E]||o.floating[v]);const R=_/2-T/2,I=M/2-w[v]/2-1,L=Hi(g[j],I),P=Hi(g[A],I),V=L,H=M-w[v]-P,B=M/2-w[v]/2+R,K=Rx(V,B,H),z=!f.arrow&&Ml(s)!=null&&B!==K&&o.reference[v]/2-(B<V?L:P)-w[v]/2<0,Q=z?B<V?B-V:B-H:0;return{[x]:y[x]+Q,data:{[x]:K,centerOffset:B-K-Q,...z&&{alignmentOffset:Q}},reset:z}}}),N8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...N}=Bs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=Vs(s),A=Qr(c),E=Vs(c)===c,_=await(f.isRTL==null?void 0:f.isRTL(h.floating)),T=y||(E||!w?[$h(c)]:m8(c)),O=v!=="none";!y&&O&&T.push(...b8(c,w,v,_));const M=[c,...T],R=await vu(e,N),I=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&I.push(R[j]),g){const B=p8(s,l,_);I.push(R[B[0]],R[B[1]])}if(L=[...L,{placement:s,overflows:I}],!I.every(B=>B<=0)){var P,V;const B=(((P=o.flip)==null?void 0:P.index)||0)+1,K=M[B];if(K&&(!(g==="alignment"?A!==Qr(K):!1)||L.every(F=>Qr(F.placement)===A?F.overflows[0]>0:!0)))return{data:{index:B,overflows:L},reset:{placement:K}};let z=(V=L.filter(Q=>Q.overflows[0]<=0).sort((Q,F)=>Q.overflows[1]-F.overflows[1])[0])==null?void 0:V.placement;if(!z)switch(x){case"bestFit":{var H;const Q=(H=L.filter(F=>{if(O){const te=Qr(F.placement);return te===A||te==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(te=>te>0).reduce((te,ue)=>te+ue,0)]).sort((F,te)=>F[1]-te[1])[0])==null?void 0:H[0];Q&&(z=Q);break}case"initialPlacement":z=c;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function Lj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zj(t){return u8.some(e=>t[e]>=0)}const C8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Bs(t,e);switch(r){case"referenceHidden":{const o=await vu(e,{...s,elementContext:"reference"}),l=Lj(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:zj(l)}}}case"escaped":{const o=await vu(e,{...s,altBoundary:!0}),l=Lj(o,n.floating);return{data:{escapedOffsets:l,escaped:zj(l)}}}default:return{}}}}},yE=new Set(["left","top"]);async function j8(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Vs(n),c=Ml(n),f=Qr(n)==="y",h=yE.has(l)?-1:1,m=o&&f?-1:1,g=Bs(e,t);let{mainAxis:y,crossAxis:x,alignmentAxis:v}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof v=="number"&&(x=c==="end"?v*-1:v),f?{x:x*m,y:y*h}:{x:y*h,y:x*m}}const k8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,f=await j8(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:l}}}}},T8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:N=>{let{x:j,y:A}=N;return{x:j,y:A}}},...f}=Bs(t,e),h={x:n,y:r},m=await vu(e,f),g=Qr(Vs(s)),y=Qb(g);let x=h[y],v=h[g];if(o){const N=y==="y"?"top":"left",j=y==="y"?"bottom":"right",A=x+m[N],E=x-m[j];x=Rx(A,x,E)}if(l){const N=g==="y"?"top":"left",j=g==="y"?"bottom":"right",A=v+m[N],E=v-m[j];v=Rx(A,v,E)}const w=c.fn({...e,[y]:x,[g]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[y]:o,[g]:l}}}}}},E8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=Bs(t,e),m={x:n,y:r},g=Qr(s),y=Qb(g);let x=m[y],v=m[g];const w=Bs(c,e),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const E=y==="y"?"height":"width",_=o.reference[y]-o.floating[E]+N.mainAxis,T=o.reference[y]+o.reference[E]-N.mainAxis;x<_?x=_:x>T&&(x=T)}if(h){var j,A;const E=y==="y"?"width":"height",_=yE.has(Vs(s)),T=o.reference[g]-o.floating[E]+(_&&((j=l.offset)==null?void 0:j[g])||0)+(_?0:N.crossAxis),O=o.reference[g]+o.reference[E]+(_?0:((A=l.offset)==null?void 0:A[g])||0)-(_?N.crossAxis:0);v<T?v=T:v>O&&(v=O)}return{[y]:x,[g]:v}}}},_8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...h}=Bs(t,e),m=await vu(e,h),g=Vs(s),y=Ml(s),x=Qr(s)==="y",{width:v,height:w}=o.floating;let N,j;g==="top"||g==="bottom"?(N=g,j=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(j=g,N=y==="end"?"top":"bottom");const A=w-m.top-m.bottom,E=v-m.left-m.right,_=Hi(w-m[N],A),T=Hi(v-m[j],E),O=!e.middlewareData.shift;let M=_,R=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=A),O&&!y){const L=$n(m.left,0),P=$n(m.right,0),V=$n(m.top,0),H=$n(m.bottom,0);x?R=v-2*(L!==0||P!==0?L+P:$n(m.left,m.right)):M=w-2*(V!==0||H!==0?V+H:$n(m.top,m.bottom))}await f({...e,availableWidth:R,availableHeight:M});const I=await l.getDimensions(c.floating);return v!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function em(){return typeof window<"u"}function Al(t){return xE(t)?(t.nodeName||"").toLowerCase():"#document"}function Un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function es(t){var e;return(e=(xE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xE(t){return em()?t instanceof Node||t instanceof Un(t).Node:!1}function Ar(t){return em()?t instanceof Element||t instanceof Un(t).Element:!1}function Xr(t){return em()?t instanceof HTMLElement||t instanceof Un(t).HTMLElement:!1}function Bj(t){return!em()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Un(t).ShadowRoot}const M8=new Set(["inline","contents"]);function Wu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!M8.has(s)}const A8=new Set(["table","td","th"]);function R8(t){return A8.has(Al(t))}const O8=[":popover-open",":modal"];function tm(t){return O8.some(e=>{try{return t.matches(e)}catch{return!1}})}const D8=["transform","translate","scale","rotate","perspective"],I8=["transform","translate","scale","rotate","perspective","filter"],P8=["paint","layout","strict","content"];function Yb(t){const e=Xb(),n=Ar(t)?Rr(t):t;return D8.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||I8.some(r=>(n.willChange||"").includes(r))||P8.some(r=>(n.contain||"").includes(r))}function L8(t){let e=Ui(t);for(;Xr(e)&&!fl(e);){if(Yb(e))return e;if(tm(e))return null;e=Ui(e)}return null}function Xb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const z8=new Set(["html","body","#document"]);function fl(t){return z8.has(Al(t))}function Rr(t){return Un(t).getComputedStyle(t)}function nm(t){return Ar(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ui(t){if(Al(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Bj(t)&&t.host||es(t);return Bj(e)?e.host:e}function bE(t){const e=Ui(t);return fl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xr(e)&&Wu(e)?e:bE(e)}function Su(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=bE(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=Un(s);if(o){const c=Dx(l);return e.concat(l,l.visualViewport||[],Wu(s)?s:[],c&&n?Su(c):[])}return e.concat(s,Su(s,[],n))}function Dx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vE(t){const e=Rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xr(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=Vh(n)!==o||Vh(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Jb(t){return Ar(t)?t:t.contextElement}function Za(t){const e=Jb(t);if(!Xr(e))return Wr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=vE(e);let l=(o?Vh(n.width):n.width)/r,c=(o?Vh(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const B8=Wr(0);function SE(t){const e=Un(t);return!Xb()||!e.visualViewport?B8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Un(t)?!1:e}function Ho(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Jb(t);let l=Wr(1);e&&(r?Ar(r)&&(l=Za(r)):l=Za(t));const c=V8(o,n,r)?SE(o):Wr(0);let f=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,g=s.height/l.y;if(o){const y=Un(o),x=r&&Ar(r)?Un(r):r;let v=y,w=Dx(v);for(;w&&r&&x!==v;){const N=Za(w),j=w.getBoundingClientRect(),A=Rr(w),E=j.left+(w.clientLeft+parseFloat(A.paddingLeft))*N.x,_=j.top+(w.clientTop+parseFloat(A.paddingTop))*N.y;f*=N.x,h*=N.y,m*=N.x,g*=N.y,f+=E,h+=_,v=Un(w),w=Dx(v)}}return Hh({width:m,height:g,x:f,y:h})}function rm(t,e){const n=nm(t).scrollLeft;return e?e.left+n:Ho(es(t)).left+n}function wE(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-rm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function $8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=es(r),c=e?tm(e.floating):!1;if(r===l||c&&o)return n;let f={scrollLeft:0,scrollTop:0},h=Wr(1);const m=Wr(0),g=Xr(r);if((g||!g&&!o)&&((Al(r)!=="body"||Wu(l))&&(f=nm(r)),Xr(r))){const x=Ho(r);h=Za(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const y=l&&!g&&!o?wE(l,f):Wr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+m.x+y.x,y:n.y*h.y-f.scrollTop*h.y+m.y+y.y}}function H8(t){return Array.from(t.getClientRects())}function U8(t){const e=es(t),n=nm(t),r=t.ownerDocument.body,s=$n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+rm(t);const c=-n.scrollTop;return Rr(r).direction==="rtl"&&(l+=$n(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}const Vj=25;function F8(t,e){const n=Un(t),r=es(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,f=0;if(s){o=s.width,l=s.height;const m=Xb();(!m||m&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}const h=rm(r);if(h<=0){const m=r.ownerDocument,g=m.body,y=getComputedStyle(g),x=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,v=Math.abs(r.clientWidth-g.clientWidth-x);v<=Vj&&(o-=v)}else h<=Vj&&(o+=h);return{width:o,height:l,x:c,y:f}}const q8=new Set(["absolute","fixed"]);function K8(t,e){const n=Ho(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Xr(t)?Za(t):Wr(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,f=s*o.x,h=r*o.y;return{width:l,height:c,x:f,y:h}}function $j(t,e,n){let r;if(e==="viewport")r=F8(t,n);else if(e==="document")r=U8(es(t));else if(Ar(e))r=K8(e,n);else{const s=SE(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Hh(r)}function NE(t,e){const n=Ui(t);return n===e||!Ar(n)||fl(n)?!1:Rr(n).position==="fixed"||NE(n,e)}function Q8(t,e){const n=e.get(t);if(n)return n;let r=Su(t,[],!1).filter(c=>Ar(c)&&Al(c)!=="body"),s=null;const o=Rr(t).position==="fixed";let l=o?Ui(t):t;for(;Ar(l)&&!fl(l);){const c=Rr(l),f=Yb(l);!f&&c.position==="fixed"&&(s=null),(o?!f&&!s:!f&&c.position==="static"&&!!s&&q8.has(s.position)||Wu(l)&&!f&&NE(t,l))?r=r.filter(m=>m!==l):s=c,l=Ui(l)}return e.set(t,r),r}function G8(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?tm(e)?[]:Q8(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((h,m)=>{const g=$j(e,m,s);return h.top=$n(g.top,h.top),h.right=Hi(g.right,h.right),h.bottom=Hi(g.bottom,h.bottom),h.left=$n(g.left,h.left),h},$j(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function W8(t){const{width:e,height:n}=vE(t);return{width:e,height:n}}function Y8(t,e,n){const r=Xr(e),s=es(e),o=n==="fixed",l=Ho(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=Wr(0);function h(){f.x=rm(s)}if(r||!r&&!o)if((Al(e)!=="body"||Wu(s))&&(c=nm(e)),r){const x=Ho(e,!0,o,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else s&&h();o&&!r&&s&&h();const m=s&&!r&&!o?wE(s,c):Wr(0),g=l.left+c.scrollLeft-f.x-m.x,y=l.top+c.scrollTop-f.y-m.y;return{x:g,y,width:l.width,height:l.height}}function j0(t){return Rr(t).position==="static"}function Hj(t,e){if(!Xr(t)||Rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return es(t)===n&&(n=n.ownerDocument.body),n}function CE(t,e){const n=Un(t);if(tm(t))return n;if(!Xr(t)){let s=Ui(t);for(;s&&!fl(s);){if(Ar(s)&&!j0(s))return s;s=Ui(s)}return n}let r=Hj(t,e);for(;r&&R8(r)&&j0(r);)r=Hj(r,e);return r&&fl(r)&&j0(r)&&!Yb(r)?n:r||L8(t)||n}const X8=async function(t){const e=this.getOffsetParent||CE,n=this.getDimensions,r=await n(t.floating);return{reference:Y8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function J8(t){return Rr(t).direction==="rtl"}const Z8={convertOffsetParentRelativeRectToViewportRelativeRect:$8,getDocumentElement:es,getClippingRect:G8,getOffsetParent:CE,getElementRects:X8,getClientRects:H8,getDimensions:W8,getScale:Za,isElement:Ar,isRTL:J8};function jE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function eV(t,e){let n=null,r;const s=es(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const h=t.getBoundingClientRect(),{left:m,top:g,width:y,height:x}=h;if(c||e(),!y||!x)return;const v=Hf(g),w=Hf(s.clientWidth-(m+y)),N=Hf(s.clientHeight-(g+x)),j=Hf(m),E={rootMargin:-v+"px "+-w+"px "+-N+"px "+-j+"px",threshold:$n(0,Hi(1,f))||1};let _=!0;function T(O){const M=O[0].intersectionRatio;if(M!==f){if(!_)return l();M?l(!1,M):r=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!jE(h,t.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(T,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(t)}return l(!0),o}function tV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=Jb(t),m=s||o?[...h?Su(h):[],...Su(e)]:[];m.forEach(j=>{s&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const g=h&&c?eV(h,n):null;let y=-1,x=null;l&&(x=new ResizeObserver(j=>{let[A]=j;A&&A.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=x)==null||E.observe(e)})),n()}),h&&!f&&x.observe(h),x.observe(e));let v,w=f?Ho(t):null;f&&N();function N(){const j=Ho(t);w&&!jE(w,j)&&n(),w=j,v=requestAnimationFrame(N)}return n(),()=>{var j;m.forEach(A=>{s&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),g?.(),(j=x)==null||j.disconnect(),x=null,f&&cancelAnimationFrame(v)}}const nV=k8,rV=T8,sV=N8,iV=_8,oV=C8,Uj=w8,aV=E8,lV=(t,e,n)=>{const r=new Map,s={platform:Z8,...n},o={...s.platform,_c:r};return S8(t,e,{...s,platform:o})};var cV=typeof document<"u",uV=function(){},uh=cV?C.useLayoutEffect:uV;function Uh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Uh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function kE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Fj(t,e){const n=kE(t);return Math.round(e*n)/n}function k0(t){const e=C.useRef(t);return uh(()=>{e.current=t}),e}function dV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=t,[m,g]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,x]=C.useState(r);Uh(y,r)||x(r);const[v,w]=C.useState(null),[N,j]=C.useState(null),A=C.useCallback(F=>{F!==O.current&&(O.current=F,w(F))},[]),E=C.useCallback(F=>{F!==M.current&&(M.current=F,j(F))},[]),_=o||v,T=l||N,O=C.useRef(null),M=C.useRef(null),R=C.useRef(m),I=f!=null,L=k0(f),P=k0(s),V=k0(h),H=C.useCallback(()=>{if(!O.current||!M.current)return;const F={placement:e,strategy:n,middleware:y};P.current&&(F.platform=P.current),lV(O.current,M.current,F).then(te=>{const ue={...te,isPositioned:V.current!==!1};B.current&&!Uh(R.current,ue)&&(R.current=ue,wl.flushSync(()=>{g(ue)}))})},[y,e,n,P,V]);uh(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,g(F=>({...F,isPositioned:!1})))},[h]);const B=C.useRef(!1);uh(()=>(B.current=!0,()=>{B.current=!1}),[]),uh(()=>{if(_&&(O.current=_),T&&(M.current=T),_&&T){if(L.current)return L.current(_,T,H);H()}},[_,T,H,L,I]);const K=C.useMemo(()=>({reference:O,floating:M,setReference:A,setFloating:E}),[A,E]),z=C.useMemo(()=>({reference:_,floating:T}),[_,T]),Q=C.useMemo(()=>{const F={position:n,left:0,top:0};if(!z.floating)return F;const te=Fj(z.floating,m.x),ue=Fj(z.floating,m.y);return c?{...F,transform:"translate("+te+"px, "+ue+"px)",...kE(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:ue}},[n,c,z.floating,m.x,m.y]);return C.useMemo(()=>({...m,update:H,refs:K,elements:z,floatingStyles:Q}),[m,H,K,z,Q])}const fV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Uj({element:r.current,padding:s}).fn(n):{}:r?Uj({element:r,padding:s}).fn(n):{}}}},hV=(t,e)=>({...nV(t),options:[t,e]}),pV=(t,e)=>({...rV(t),options:[t,e]}),mV=(t,e)=>({...aV(t),options:[t,e]}),gV=(t,e)=>({...sV(t),options:[t,e]}),yV=(t,e)=>({...iV(t),options:[t,e]}),xV=(t,e)=>({...oV(t),options:[t,e]}),bV=(t,e)=>({...fV(t),options:[t,e]});var vV="Arrow",TE=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return u.jsx(dt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});TE.displayName=vV;var SV=TE;function wV(t){const[e,n]=C.useState(void 0);return cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Zb="Popper",[EE,Rl]=Qu(Zb),[NV,_E]=EE(Zb),ME=t=>{const{__scopePopper:e,children:n}=t,[r,s]=C.useState(null);return u.jsx(NV,{scope:e,anchor:r,onAnchorChange:s,children:n})};ME.displayName=Zb;var AE="PopperAnchor",RE=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=_E(AE,n),l=C.useRef(null),c=St(e,l),f=C.useRef(null);return C.useEffect(()=>{const h=f.current;f.current=r?.current||l.current,h!==f.current&&o.onAnchorChange(f.current)}),r?null:u.jsx(dt.div,{...s,ref:c})});RE.displayName=AE;var ev="PopperContent",[CV,jV]=EE(ev),OE=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:v,...w}=t,N=_E(ev,n),[j,A]=C.useState(null),E=St(e,Z=>A(Z)),[_,T]=C.useState(null),O=wV(_),M=O?.width??0,R=O?.height??0,I=r+(o!=="center"?"-"+o:""),L=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},P=Array.isArray(h)?h:[h],V=P.length>0,H={padding:L,boundary:P.filter(TV),altBoundary:V},{refs:B,floatingStyles:K,placement:z,isPositioned:Q,middlewareData:F}=dV({strategy:"fixed",placement:I,whileElementsMounted:(...Z)=>tV(...Z,{animationFrame:x==="always"}),elements:{reference:N.anchor},middleware:[hV({mainAxis:s+R,alignmentAxis:l}),f&&pV({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?mV():void 0,...H}),f&&gV({...H}),yV({...H,apply:({elements:Z,rects:ge,availableWidth:fe,availableHeight:pe})=>{const{width:Ce,height:Te}=ge.reference,it=Z.floating.style;it.setProperty("--radix-popper-available-width",`${fe}px`),it.setProperty("--radix-popper-available-height",`${pe}px`),it.setProperty("--radix-popper-anchor-width",`${Ce}px`),it.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),_&&bV({element:_,padding:c}),EV({arrowWidth:M,arrowHeight:R}),y&&xV({strategy:"referenceHidden",...H})]}),[te,ue]=PE(z),$=$o(v);cn(()=>{Q&&$?.()},[Q,$]);const X=F.arrow?.x,se=F.arrow?.y,ne=F.arrow?.centerOffset!==0,[ce,de]=C.useState();return cn(()=>{j&&de(window.getComputedStyle(j).zIndex)},[j]),u.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:Q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(CV,{scope:n,placedSide:te,onArrowChange:T,arrowX:X,arrowY:se,shouldHideArrow:ne,children:u.jsx(dt.div,{"data-side":te,"data-align":ue,...w,ref:E,style:{...w.style,animation:Q?void 0:"none"}})})})});OE.displayName=ev;var DE="PopperArrow",kV={top:"bottom",right:"left",bottom:"top",left:"right"},IE=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=jV(DE,r),l=kV[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(SV,{...s,ref:n,style:{...s.style,display:"block"}})})});IE.displayName=DE;function TV(t){return t!==null}var EV=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[h,m]=PE(n),g={start:"0%",center:"50%",end:"100%"}[m],y=(s.arrow?.x??0)+c/2,x=(s.arrow?.y??0)+f/2;let v="",w="";return h==="bottom"?(v=l?g:`${y}px`,w=`${-f}px`):h==="top"?(v=l?g:`${y}px`,w=`${r.floating.height+f}px`):h==="right"?(v=`${-f}px`,w=l?g:`${x}px`):h==="left"&&(v=`${r.floating.width+f}px`,w=l?g:`${x}px`),{data:{x:v,y:w}}}});function PE(t){const[e,n="center"]=t.split("-");return[e,n]}var tv=ME,sm=RE,nv=OE,rv=IE,_V="Portal",im=C.forwardRef((t,e)=>{const{container:n,...r}=t,[s,o]=C.useState(!1);cn(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?Gk.createPortal(u.jsx(dt.div,{...r,ref:e}),l):null});im.displayName=_V;function MV(t){const e=AV(t),n=C.forwardRef((r,s)=>{const{children:o,...l}=r,c=C.Children.toArray(o),f=c.find(OV);if(f){const h=f.props.children,m=c.map(g=>g===f?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...l,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,m):null})}return u.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function AV(t){const e=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const l=IV(s),c=DV(o,s.props);return s.type!==C.Fragment&&(c.ref=r?_l(r,l):l),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RV=Symbol("radix.slottable");function OV(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RV}function DV(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function IV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var PV=vb[" useInsertionEffect ".trim().toString()]||cn;function Fh({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=LV({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:s;{const m=C.useRef(t!==void 0);C.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=C.useCallback(m=>{if(c){const g=zV(m)?m(t):m;g!==t&&l.current?.(g)}else o(m)},[c,t,o,l]);return[f,h]}function LV({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),o=C.useRef(e);return PV(()=>{o.current=e},[e]),C.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function zV(t){return typeof t=="function"}function BV(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var LE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VV="VisuallyHidden",zE=C.forwardRef((t,e)=>u.jsx(dt.span,{...t,ref:e,style:{...LE,...t.style}}));zE.displayName=VV;var $V=zE,HV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ba=new WeakMap,Uf=new WeakMap,Ff={},T0=0,BE=function(t){return t&&(t.host||BE(t.parentNode))},UV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=BE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},FV=function(t,e,n,r){var s=UV(e,Array.isArray(t)?t:[t]);Ff[n]||(Ff[n]=new WeakMap);var o=Ff[n],l=[],c=new Set,f=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))m(y);else try{var x=y.getAttribute(r),v=x!==null&&x!=="false",w=(Ba.get(y)||0)+1,N=(o.get(y)||0)+1;Ba.set(y,w),o.set(y,N),l.push(y),w===1&&v&&Uf.set(y,!0),N===1&&y.setAttribute(n,"true"),v||y.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",y,j)}})};return m(e),c.clear(),T0++,function(){l.forEach(function(g){var y=Ba.get(g)-1,x=o.get(g)-1;Ba.set(g,y),o.set(g,x),y||(Uf.has(g)||g.removeAttribute(r),Uf.delete(g)),x||g.removeAttribute(n)}),T0--,T0||(Ba=new WeakMap,Ba=new WeakMap,Uf=new WeakMap,Ff={})}},VE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=HV(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),FV(r,s,n,"aria-hidden")):function(){return null}},Fr=function(){return Fr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fr.apply(this,arguments)};function $E(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var dh="right-scroll-bar-position",fh="width-before-scroll-bar",KV="with-scroll-bars-hidden",QV="--removed-body-scroll-bar-size";function E0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function GV(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var WV=typeof window<"u"?C.useLayoutEffect:C.useEffect,qj=new WeakMap;function YV(t,e){var n=GV(null,function(r){return t.forEach(function(s){return E0(s,r)})});return WV(function(){var r=qj.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||E0(c,null)}),o.forEach(function(c){s.has(c)||E0(c,l)})}qj.set(n,t)},[t]),n}function XV(t){return t}function JV(t,e){e===void 0&&(e=XV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var f=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function ZV(t){t===void 0&&(t={});var e=JV(null);return e.options=Fr({async:!0,ssr:!1},t),e}var HE=function(t){var e=t.sideCar,n=$E(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Fr({},n))};HE.isSideCarExport=!0;function e$(t,e){return t.useMedium(e),HE}var UE=ZV(),_0=function(){},om=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:_0,onWheelCapture:_0,onTouchMoveCapture:_0}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,f=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,y=t.sideCar,x=t.noRelative,v=t.noIsolation,w=t.inert,N=t.allowPinchZoom,j=t.as,A=j===void 0?"div":j,E=t.gapMode,_=$E(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,O=YV([n,e]),M=Fr(Fr({},_),s);return C.createElement(C.Fragment,null,m&&C.createElement(T,{sideCar:UE,removeScrollBar:h,shards:g,noRelative:x,noIsolation:v,inert:w,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:E}),l?C.cloneElement(C.Children.only(c),Fr(Fr({},M),{ref:O})):C.createElement(A,Fr({},M,{className:f,ref:O}),c))});om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};om.classNames={fullWidth:fh,zeroRight:dh};var t$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=t$();return e&&t.setAttribute("nonce",e),t}function r$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function s$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var i$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=n$())&&(r$(e,n),s$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},o$=function(){var t=i$();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},FE=function(){var t=o$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},a$={left:0,top:0,right:0,gap:0},M0=function(t){return parseInt(t||"",10)||0},l$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[M0(n),M0(r),M0(s)]},c$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return a$;var e=l$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},u$=FE(),el="data-scroll-locked",d$=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(KV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(el,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dh,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(fh,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(el,`] {
    `).concat(QV,": ").concat(c,`px;
  }
`)},Kj=function(){var t=parseInt(document.body.getAttribute(el)||"0",10);return isFinite(t)?t:0},f$=function(){C.useEffect(function(){return document.body.setAttribute(el,(Kj()+1).toString()),function(){var t=Kj()-1;t<=0?document.body.removeAttribute(el):document.body.setAttribute(el,t.toString())}},[])},h$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;f$();var o=C.useMemo(function(){return c$(s)},[s]);return C.createElement(u$,{styles:d$(o,!e,s,n?"":"!important")})},Ix=!1;if(typeof window<"u")try{var qf=Object.defineProperty({},"passive",{get:function(){return Ix=!0,!0}});window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,qf)}catch{Ix=!1}var Va=Ix?{passive:!1}:!1,p$=function(t){return t.tagName==="TEXTAREA"},qE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!p$(t)&&n[e]==="visible")},m$=function(t){return qE(t,"overflowY")},g$=function(t){return qE(t,"overflowX")},Qj=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=KE(t,r);if(s){var o=QE(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},y$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},x$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},KE=function(t,e){return t==="v"?m$(e):g$(e)},QE=function(t,e){return t==="v"?y$(e):x$(e)},b$=function(t,e){return t==="h"&&e==="rtl"?-1:1},v$=function(t,e,n,r,s){var o=b$(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,f=e.contains(c),h=!1,m=l>0,g=0,y=0;do{if(!c)break;var x=QE(t,c),v=x[0],w=x[1],N=x[2],j=w-N-o*v;(v||j)&&KE(t,c)&&(g+=j,y+=v);var A=c.parentNode;c=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(h=!0),h},Kf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Gj=function(t){return[t.deltaX,t.deltaY]},Wj=function(t){return t&&"current"in t?t.current:t},S$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},w$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},N$=0,$a=[];function C$(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(N$++)[0],o=C.useState(FE)[0],l=C.useRef(t);C.useEffect(function(){l.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=qV([t.lockRef.current],(t.shards||[]).map(Wj),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=C.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var j=Kf(w),A=n.current,E="deltaX"in w?w.deltaX:A[0]-j[0],_="deltaY"in w?w.deltaY:A[1]-j[1],T,O=w.target,M=Math.abs(E)>Math.abs(_)?"h":"v";if("touches"in w&&M==="h"&&O.type==="range")return!1;var R=Qj(M,O);if(!R)return!0;if(R?T=M:(T=M==="v"?"h":"v",R=Qj(M,O)),!R)return!1;if(!r.current&&"changedTouches"in w&&(E||_)&&(r.current=T),!T)return!0;var I=r.current||T;return v$(I,N,w,I==="h"?E:_)},[]),f=C.useCallback(function(w){var N=w;if(!(!$a.length||$a[$a.length-1]!==o)){var j="deltaY"in N?Gj(N):Kf(N),A=e.current.filter(function(T){return T.name===N.type&&(T.target===N.target||N.target===T.shadowParent)&&S$(T.delta,j)})[0];if(A&&A.should){N.cancelable&&N.preventDefault();return}if(!A){var E=(l.current.shards||[]).map(Wj).filter(Boolean).filter(function(T){return T.contains(N.target)}),_=E.length>0?c(N,E[0]):!l.current.noIsolation;_&&N.cancelable&&N.preventDefault()}}},[]),h=C.useCallback(function(w,N,j,A){var E={name:w,delta:N,target:j,should:A,shadowParent:j$(j)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(_){return _!==E})},1)},[]),m=C.useCallback(function(w){n.current=Kf(w),r.current=void 0},[]),g=C.useCallback(function(w){h(w.type,Gj(w),w.target,c(w,t.lockRef.current))},[]),y=C.useCallback(function(w){h(w.type,Kf(w),w.target,c(w,t.lockRef.current))},[]);C.useEffect(function(){return $a.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Va),document.addEventListener("touchmove",f,Va),document.addEventListener("touchstart",m,Va),function(){$a=$a.filter(function(w){return w!==o}),document.removeEventListener("wheel",f,Va),document.removeEventListener("touchmove",f,Va),document.removeEventListener("touchstart",m,Va)}},[]);var x=t.removeScrollBar,v=t.inert;return C.createElement(C.Fragment,null,v?C.createElement(o,{styles:w$(s)}):null,x?C.createElement(h$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function j$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const k$=e$(UE,C$);var sv=C.forwardRef(function(t,e){return C.createElement(om,Fr({},t,{ref:e,sideCar:k$}))});sv.classNames=om.classNames;var T$=[" ","Enter","ArrowUp","ArrowDown"],E$=[" ","Enter"],Uo="Select",[am,lm,_$]=PB(Uo),[Ol]=Qu(Uo,[_$,Rl]),cm=Rl(),[M$,Gi]=Ol(Uo),[A$,R$]=Ol(Uo),GE=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:f,dir:h,name:m,autoComplete:g,disabled:y,required:x,form:v}=t,w=cm(e),[N,j]=C.useState(null),[A,E]=C.useState(null),[_,T]=C.useState(!1),O=zB(h),[M,R]=Fh({prop:r,defaultProp:s??!1,onChange:o,caller:Uo}),[I,L]=Fh({prop:l,defaultProp:c,onChange:f,caller:Uo}),P=C.useRef(null),V=N?v||!!N.closest("form"):!0,[H,B]=C.useState(new Set),K=Array.from(H).map(z=>z.props.value).join(";");return u.jsx(tv,{...w,children:u.jsxs(M$,{required:x,scope:e,trigger:N,onTriggerChange:j,valueNode:A,onValueNodeChange:E,valueNodeHasChildren:_,onValueNodeHasChildrenChange:T,contentId:Gu(),value:I,onValueChange:L,open:M,onOpenChange:R,dir:O,triggerPointerDownPosRef:P,disabled:y,children:[u.jsx(am.Provider,{scope:e,children:u.jsx(A$,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(z=>{B(Q=>new Set(Q).add(z))},[]),onNativeOptionRemove:C.useCallback(z=>{B(Q=>{const F=new Set(Q);return F.delete(z),F})},[]),children:n})}),V?u.jsxs(g_,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:g,value:I,onChange:z=>L(z.target.value),disabled:y,form:v,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(H)]},K):null]})})};GE.displayName=Uo;var WE="SelectTrigger",YE=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=cm(n),l=Gi(WE,n),c=l.disabled||r,f=St(e,l.onTriggerChange),h=lm(n),m=C.useRef("touch"),[g,y,x]=x_(w=>{const N=h().filter(E=>!E.disabled),j=N.find(E=>E.value===l.value),A=b_(N,w,j);A!==void 0&&l.onValueChange(A.value)}),v=w=>{c||(l.onOpenChange(!0),x()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return u.jsx(sm,{asChild:!0,...o,children:u.jsx(dt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":y_(l.value)?"":void 0,...s,ref:f,onClick:Ke(s.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&v(w)}),onPointerDown:Ke(s.onPointerDown,w=>{m.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:Ke(s.onKeyDown,w=>{const N=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(N&&w.key===" ")&&T$.includes(w.key)&&(v(),w.preventDefault())})})})});YE.displayName=WE;var XE="SelectValue",JE=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:l="",...c}=t,f=Gi(XE,n),{onValueNodeHasChildrenChange:h}=f,m=o!==void 0,g=St(e,f.onValueNodeChange);return cn(()=>{h(m)},[h,m]),u.jsx(dt.span,{...c,ref:g,style:{pointerEvents:"none"},children:y_(f.value)?u.jsx(u.Fragment,{children:l}):o})});JE.displayName=XE;var O$="SelectIcon",ZE=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(dt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});ZE.displayName=O$;var D$="SelectPortal",e_=t=>u.jsx(im,{asChild:!0,...t});e_.displayName=D$;var Fo="SelectContent",t_=C.forwardRef((t,e)=>{const n=Gi(Fo,t.__scopeSelect),[r,s]=C.useState();if(cn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?wl.createPortal(u.jsx(n_,{scope:t.__scopeSelect,children:u.jsx(am.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(r_,{...t,ref:e})});t_.displayName=Fo;var wr=10,[n_,Wi]=Ol(Fo),I$="SelectContentImpl",P$=MV("SelectContent.RemoveScroll"),r_=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:v,hideWhenDetached:w,avoidCollisions:N,...j}=t,A=Gi(Fo,n),[E,_]=C.useState(null),[T,O]=C.useState(null),M=St(e,Z=>_(Z)),[R,I]=C.useState(null),[L,P]=C.useState(null),V=lm(n),[H,B]=C.useState(!1),K=C.useRef(!1);C.useEffect(()=>{if(E)return VE(E)},[E]),pE();const z=C.useCallback(Z=>{const[ge,...fe]=V().map(Te=>Te.ref.current),[pe]=fe.slice(-1),Ce=document.activeElement;for(const Te of Z)if(Te===Ce||(Te?.scrollIntoView({block:"nearest"}),Te===ge&&T&&(T.scrollTop=0),Te===pe&&T&&(T.scrollTop=T.scrollHeight),Te?.focus(),document.activeElement!==Ce))return},[V,T]),Q=C.useCallback(()=>z([R,E]),[z,R,E]);C.useEffect(()=>{H&&Q()},[H,Q]);const{onOpenChange:F,triggerPointerDownPosRef:te}=A;C.useEffect(()=>{if(E){let Z={x:0,y:0};const ge=pe=>{Z={x:Math.abs(Math.round(pe.pageX)-(te.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(te.current?.y??0))}},fe=pe=>{Z.x<=10&&Z.y<=10?pe.preventDefault():E.contains(pe.target)||F(!1),document.removeEventListener("pointermove",ge),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",fe,{capture:!0})}}},[E,F,te]),C.useEffect(()=>{const Z=()=>F(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[F]);const[ue,$]=x_(Z=>{const ge=V().filter(Ce=>!Ce.disabled),fe=ge.find(Ce=>Ce.ref.current===document.activeElement),pe=b_(ge,Z,fe);pe&&setTimeout(()=>pe.ref.current.focus())}),X=C.useCallback((Z,ge,fe)=>{const pe=!K.current&&!fe;(A.value!==void 0&&A.value===ge||pe)&&(I(Z),pe&&(K.current=!0))},[A.value]),se=C.useCallback(()=>E?.focus(),[E]),ne=C.useCallback((Z,ge,fe)=>{const pe=!K.current&&!fe;(A.value!==void 0&&A.value===ge||pe)&&P(Z)},[A.value]),ce=r==="popper"?Px:s_,de=ce===Px?{side:c,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:v,hideWhenDetached:w,avoidCollisions:N}:{};return u.jsx(n_,{scope:n,content:E,viewport:T,onViewportChange:O,itemRefCallback:X,selectedItem:R,onItemLeave:se,itemTextRefCallback:ne,focusSelectedItem:Q,selectedItemText:L,position:r,isPositioned:H,searchRef:ue,children:u.jsx(sv,{as:P$,allowPinchZoom:!0,children:u.jsx(Kb,{asChild:!0,trapped:A.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Ke(s,Z=>{A.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:u.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:u.jsx(ce,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Z=>Z.preventDefault(),...j,...de,onPlaced:()=>B(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ke(j.onKeyDown,Z=>{const ge=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!ge&&Z.key.length===1&&$(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let pe=V().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Ce=Z.target,Te=pe.indexOf(Ce);pe=pe.slice(Te+1)}setTimeout(()=>z(pe)),Z.preventDefault()}})})})})})})});r_.displayName=I$;var L$="SelectItemAlignedPosition",s_=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Gi(Fo,n),l=Wi(Fo,n),[c,f]=C.useState(null),[h,m]=C.useState(null),g=St(e,M=>m(M)),y=lm(n),x=C.useRef(!1),v=C.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:j,focusSelectedItem:A}=l,E=C.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&w&&N&&j){const M=o.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),L=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ce=L.left-R.left,Te=I.left-Ce,it=M.left-Te,ct=M.width+it,Nt=Math.max(ct,R.width),Bt=window.innerWidth-wr,_n=Cj(Te,[wr,Math.max(wr,Bt-Nt)]);c.style.minWidth=ct+"px",c.style.left=_n+"px"}else{const Ce=R.right-L.right,Te=window.innerWidth-I.right-Ce,it=window.innerWidth-M.right-Te,ct=M.width+it,Nt=Math.max(ct,R.width),Bt=window.innerWidth-wr,_n=Cj(Te,[wr,Math.max(wr,Bt-Nt)]);c.style.minWidth=ct+"px",c.style.right=_n+"px"}const P=y(),V=window.innerHeight-wr*2,H=w.scrollHeight,B=window.getComputedStyle(h),K=parseInt(B.borderTopWidth,10),z=parseInt(B.paddingTop,10),Q=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),te=K+z+H+F+Q,ue=Math.min(N.offsetHeight*5,te),$=window.getComputedStyle(w),X=parseInt($.paddingTop,10),se=parseInt($.paddingBottom,10),ne=M.top+M.height/2-wr,ce=V-ne,de=N.offsetHeight/2,Z=N.offsetTop+de,ge=K+z+Z,fe=te-ge;if(ge<=ne){const Ce=P.length>0&&N===P[P.length-1].ref.current;c.style.bottom="0px";const Te=h.clientHeight-w.offsetTop-w.offsetHeight,it=Math.max(ce,de+(Ce?se:0)+Te+Q),ct=ge+it;c.style.height=ct+"px"}else{const Ce=P.length>0&&N===P[0].ref.current;c.style.top="0px";const it=Math.max(ne,K+w.offsetTop+(Ce?X:0)+de)+fe;c.style.height=it+"px",w.scrollTop=ge-ne+w.offsetTop}c.style.margin=`${wr}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[y,o.trigger,o.valueNode,c,h,w,N,j,o.dir,r]);cn(()=>E(),[E]);const[_,T]=C.useState();cn(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const O=C.useCallback(M=>{M&&v.current===!0&&(E(),A?.(),v.current=!1)},[E,A]);return u.jsx(B$,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:u.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(dt.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});s_.displayName=L$;var z$="SelectPopperPosition",Px=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=wr,...o}=t,l=cm(n);return u.jsx(nv,{...l,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Px.displayName=z$;var[B$,iv]=Ol(Fo,{}),Lx="SelectViewport",i_=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Wi(Lx,n),l=iv(Lx,n),c=St(e,o.onViewportChange),f=C.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(am.Slot,{scope:n,children:u.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ke(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=l;if(y?.current&&g){const x=Math.abs(f.current-m.scrollTop);if(x>0){const v=window.innerHeight-wr*2,w=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),j=Math.max(w,N);if(j<v){const A=j+x,E=Math.min(v,A),_=A-E;g.style.height=E+"px",g.style.bottom==="0px"&&(m.scrollTop=_>0?_:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});i_.displayName=Lx;var o_="SelectGroup",[V$,$$]=Ol(o_),H$=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gu();return u.jsx(V$,{scope:n,id:s,children:u.jsx(dt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});H$.displayName=o_;var a_="SelectLabel",U$=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$$(a_,n);return u.jsx(dt.div,{id:s.id,...r,ref:e})});U$.displayName=a_;var qh="SelectItem",[F$,l_]=Ol(qh),c_=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...l}=t,c=Gi(qh,n),f=Wi(qh,n),h=c.value===r,[m,g]=C.useState(o??""),[y,x]=C.useState(!1),v=St(e,A=>f.itemRefCallback?.(A,r,s)),w=Gu(),N=C.useRef("touch"),j=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(F$,{scope:n,value:r,disabled:s,textId:w,isSelected:h,onItemTextChange:C.useCallback(A=>{g(E=>E||(A?.textContent??"").trim())},[]),children:u.jsx(am.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:u.jsx(dt.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:v,onFocus:Ke(l.onFocus,()=>x(!0)),onBlur:Ke(l.onBlur,()=>x(!1)),onClick:Ke(l.onClick,()=>{N.current!=="mouse"&&j()}),onPointerUp:Ke(l.onPointerUp,()=>{N.current==="mouse"&&j()}),onPointerDown:Ke(l.onPointerDown,A=>{N.current=A.pointerType}),onPointerMove:Ke(l.onPointerMove,A=>{N.current=A.pointerType,s?f.onItemLeave?.():N.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(l.onPointerLeave,A=>{A.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Ke(l.onKeyDown,A=>{f.searchRef?.current!==""&&A.key===" "||(E$.includes(A.key)&&j(),A.key===" "&&A.preventDefault())})})})})});c_.displayName=qh;var qc="SelectItemText",u_=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,l=Gi(qc,n),c=Wi(qc,n),f=l_(qc,n),h=R$(qc,n),[m,g]=C.useState(null),y=St(e,j=>g(j),f.onItemTextChange,j=>c.itemTextRefCallback?.(j,f.value,f.disabled)),x=m?.textContent,v=C.useMemo(()=>u.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=h;return cn(()=>(w(v),()=>N(v)),[w,N,v]),u.jsxs(u.Fragment,{children:[u.jsx(dt.span,{id:f.textId,...o,ref:y}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?wl.createPortal(o.children,l.valueNode):null]})});u_.displayName=qc;var d_="SelectItemIndicator",f_=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l_(d_,n).isSelected?u.jsx(dt.span,{"aria-hidden":!0,...r,ref:e}):null});f_.displayName=d_;var zx="SelectScrollUpButton",h_=C.forwardRef((t,e)=>{const n=Wi(zx,t.__scopeSelect),r=iv(zx,t.__scopeSelect),[s,o]=C.useState(!1),l=St(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollTop>0;o(h)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(m_,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});h_.displayName=zx;var Bx="SelectScrollDownButton",p_=C.forwardRef((t,e)=>{const n=Wi(Bx,t.__scopeSelect),r=iv(Bx,t.__scopeSelect),[s,o]=C.useState(!1),l=St(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;o(m)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(m_,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});p_.displayName=Bx;var m_=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Wi("SelectScrollButton",n),l=C.useRef(null),c=lm(n),f=C.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return C.useEffect(()=>()=>f(),[f]),cn(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),u.jsx(dt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ke(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ke(s.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ke(s.onPointerLeave,()=>{f()})})}),q$="SelectSeparator",K$=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(dt.div,{"aria-hidden":!0,...r,ref:e})});K$.displayName=q$;var Vx="SelectArrow",Q$=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=cm(n),o=Gi(Vx,n),l=Wi(Vx,n);return o.open&&l.position==="popper"?u.jsx(rv,{...s,...r,ref:e}):null});Q$.displayName=Vx;var G$="SelectBubbleInput",g_=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=C.useRef(null),o=St(r,s),l=BV(e);return C.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const g=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[l,e]),u.jsx(dt.select,{...n,style:{...LE,...n.style},ref:o,defaultValue:e})});g_.displayName=G$;function y_(t){return t===""||t===void 0}function x_(t){const e=$o(t),n=C.useRef(""),r=C.useRef(0),s=C.useCallback(l=>{const c=n.current+l;e(c),(function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(c)},[e]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function b_(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=W$(t,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function W$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Y$=GE,X$=YE,J$=JE,Z$=ZE,e7=e_,t7=t_,n7=i_,r7=c_,s7=u_,i7=f_,o7=h_,a7=p_;function Fn({...t}){return u.jsx(Y$,{"data-slot":"select",...t})}function qn({...t}){return u.jsx(J$,{"data-slot":"select-value",...t})}function Kn({className:t,size:e="default",children:n,...r}){return u.jsxs(X$,{"data-slot":"select-trigger","data-size":e,className:mt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,u.jsx(Z$,{asChild:!0,children:u.jsx(Is,{className:"size-4 opacity-50"})})]})}function Qn({className:t,children:e,position:n="popper",align:r="center",...s}){return u.jsx(e7,{children:u.jsxs(t7,{"data-slot":"select-content",className:mt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,align:r,...s,children:[u.jsx(l7,{}),u.jsx(n7,{className:mt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),u.jsx(c7,{})]})})}function fn({className:t,children:e,...n}){return u.jsxs(r7,{"data-slot":"select-item",className:mt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(i7,{children:u.jsx(nT,{className:"size-4"})})}),u.jsx(s7,{children:e})]})}function l7({className:t,...e}){return u.jsx(o7,{"data-slot":"select-scroll-up-button",className:mt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(rT,{className:"size-4"})})}function c7({className:t,...e}){return u.jsx(a7,{"data-slot":"select-scroll-down-button",className:mt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Is,{className:"size-4"})})}const u7=[{value:"all",label:"Tt c trng thi"},{value:"active",label:"Hot ng"},{value:"inactive",label:"Khng hot ng"}],Yj={categoryId:0,subcategoryNameVn:"",descriptionVn:"",status:"",subcategoryImage:null},d7=[{value:"created_at|DESC",label:"Mi nht"},{value:"created_at|ASC",label:"C nht"},{value:"subcategory_name_vn|ASC",label:"Tn A-Z"},{value:"subcategory_name_vn|DESC",label:"Tn Z-A"}],f7=({query:t,onSearchChange:e,onCategoryChange:n,onStatusChange:r,onSortChange:s,onRefreshFilters:o})=>{const{data:l}=qu(""),c=l?.data?.categories||[],[f,h]=C.useState(t.subcategory_name_vn||"");C.useEffect(()=>{const g=setTimeout(()=>{e(f)},500);return()=>clearTimeout(g)},[f,e]),C.useEffect(()=>{h(t.subcategory_name_vn||"")},[t.subcategory_name_vn]);const m=`${t.sort_by}|${t.sort_order}`;return u.jsx("div",{className:"bg-white p-4 rounded-md shadow-sm overflow-auto",children:u.jsxs("div",{className:"flex gap-4 items-end",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),u.jsx(Ja,{id:"filter-search",placeholder:"Tm theo tn danh mc ph...",className:"pl-10",value:f,onChange:g=>h(g.target.value)})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:t.category_id?.toString()||"",onValueChange:n,children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Lc theo danh mc cha"})}),u.jsx(Qn,{className:"max-h-60",children:c.map(g=>u.jsx(fn,{value:g.category_id.toString(),children:g.category_name_vn},g.category_id))})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:t.status||"all",onValueChange:g=>r(g),children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Lc theo trng thi"})}),u.jsx(Qn,{children:u7.map(g=>u.jsx(fn,{value:g.value,children:g.label},g.value))})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:m,onValueChange:s,children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Sp xp theo"})}),u.jsx(Qn,{children:d7.map(g=>u.jsx(fn,{value:g.value,children:g.label},g.value))})]})}),u.jsx("button",{className:"p-2 bg-gray-200 rounded-md hover:bg-gray-300 cursor-pointer",onClick:o,title:"Lm mi b lc",children:u.jsx(cT,{className:"h-5 w-5 text-gray-600"})})]})})};var h7=Symbol.for("react.lazy"),Kh=vb[" use ".trim().toString()];function p7(t){return typeof t=="object"&&t!==null&&"then"in t}function v_(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===h7&&"_payload"in t&&p7(t._payload)}function m7(t){const e=g7(t),n=C.forwardRef((r,s)=>{let{children:o,...l}=r;v_(o)&&typeof Kh=="function"&&(o=Kh(o._payload));const c=C.Children.toArray(o),f=c.find(x7);if(f){const h=f.props.children,m=c.map(g=>g===f?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...l,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,m):null})}return u.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var S_=m7("Slot");function g7(t){const e=C.forwardRef((n,r)=>{let{children:s,...o}=n;if(v_(s)&&typeof Kh=="function"&&(s=Kh(s._payload)),C.isValidElement(s)){const l=v7(s),c=b7(o,s.props);return s.type!==C.Fragment&&(c.ref=r?_l(r,l):l),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var y7=Symbol("radix.slottable");function x7(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===y7}function b7(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function v7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Xj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Jj=ZT,w_=(t,e)=>n=>{var r;if(e?.variants==null)return Jj(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const m=n?.[h],g=o?.[h];if(m===null)return null;const y=Xj(m)||Xj(g);return s[h][y]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,y]=m;return y===void 0||(h[g]=y),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:y,...x}=m;return Object.entries(x).every(v=>{let[w,N]=v;return Array.isArray(N)?N.includes({...o,...c}[w]):{...o,...c}[w]===N})?[...h,g,y]:h},[]);return Jj(t,l,f,n?.class,n?.className)},S7=w_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function wu({className:t,variant:e,asChild:n=!1,...r}){const s=n?S_:"span";return u.jsx(s,{"data-slot":"badge",className:mt(S7({variant:e}),t),...r})}const N_=w_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Gn({className:t,variant:e,size:n,asChild:r=!1,...s}){const o=r?S_:"button";return u.jsx(o,{"data-slot":"button",className:mt(N_({variant:e,size:n,className:t})),...s})}const pt=({type:t="inline",text:e="",className:n=""})=>t==="inline"?u.jsxs("span",{className:`inline-flex items-center gap-2 text-sm text-gray-600 ${n}`,children:[u.jsx("span",{className:"w-4 h-4 rounded-full border-2 border-gray-200 border-t-2 border-t-green-500 animate-spin","aria-hidden":"true"}),e?u.jsx("span",{children:e}):null]}):t==="div"?u.jsxs("div",{className:`flex flex-col items-center justify-center p-6 min-h-40 ${n}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-gray-200 border-t-4 border-t-green-500 animate-spin mb-4","aria-hidden":"true"}),e?u.jsx("div",{className:"text-sm text-gray-600 font-medium",children:e}):null]}):t==="hscreen"?u.jsxs("div",{className:`flex flex-col items-center justify-center h-screen w-full ${n}`,children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-6 border-gray-200 border-t-6 border-t-green-500 animate-spin mb-6","aria-hidden":"true",style:{borderWidth:6}}),e?u.jsx("div",{className:"text-base font-semibold text-gray-700",children:e}):null]}):u.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-6 border-gray-200 border-t-6 border-t-green-500 animate-spin mb-6","aria-hidden":"true",style:{borderWidth:6}}),e?u.jsx("div",{className:"text-base font-semibold text-gray-700",children:e}):null]});function um({className:t,...e}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:mt("w-full caption-bottom text-sm",t),...e})})}function dm({className:t,...e}){return u.jsx("thead",{"data-slot":"table-header",className:mt("[&_tr]:border-b",t),...e})}function fm({className:t,...e}){return u.jsx("tbody",{"data-slot":"table-body",className:mt("[&_tr:last-child]:border-0",t),...e})}function Fi({className:t,...e}){return u.jsx("tr",{"data-slot":"table-row",className:mt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function He({className:t,...e}){return u.jsx("th",{"data-slot":"table-head",className:mt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Ue({className:t,...e}){return u.jsx("td",{"data-slot":"table-cell",className:mt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function w7(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Yu=t=>{const{present:e,children:n}=t,r=N7(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=St(r.ref,C7(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:o}):null};Yu.displayName="Presence";function N7(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),o=C.useRef("none"),l=t?"mounted":"unmounted",[c,f]=w7(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const h=Qf(r.current);o.current=c==="mounted"?h:"none"},[c]),cn(()=>{const h=r.current,m=s.current;if(m!==t){const y=o.current,x=Qf(h);t?f("MOUNT"):x==="none"||h?.display==="none"?f("UNMOUNT"):f(m&&y!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),cn(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=x=>{const w=Qf(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(f("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},y=x=>{x.target===e&&(o.current=Qf(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Qf(t){return t?.animationName||"none"}function C7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var j7=Symbol("radix.slottable");function k7(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=j7,e}var[hm]=Qu("Tooltip",[Rl]),pm=Rl(),C_="TooltipProvider",T7=700,$x="tooltip.open",[E7,ov]=hm(C_),j_=t=>{const{__scopeTooltip:e,delayDuration:n=T7,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,l=C.useRef(!0),c=C.useRef(!1),f=C.useRef(0);return C.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),u.jsx(E7,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:C.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};j_.displayName=C_;var Nu="Tooltip",[_7,Xu]=hm(Nu),k_=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=t,f=ov(Nu,t.__scopeTooltip),h=pm(e),[m,g]=C.useState(null),y=Gu(),x=C.useRef(0),v=l??f.disableHoverableContent,w=c??f.delayDuration,N=C.useRef(!1),[j,A]=Fh({prop:r,defaultProp:s??!1,onChange:M=>{M?(f.onOpen(),document.dispatchEvent(new CustomEvent($x))):f.onClose(),o?.(M)},caller:Nu}),E=C.useMemo(()=>j?N.current?"delayed-open":"instant-open":"closed",[j]),_=C.useCallback(()=>{window.clearTimeout(x.current),x.current=0,N.current=!1,A(!0)},[A]),T=C.useCallback(()=>{window.clearTimeout(x.current),x.current=0,A(!1)},[A]),O=C.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{N.current=!0,A(!0),x.current=0},w)},[w,A]);return C.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),u.jsx(tv,{...h,children:u.jsx(_7,{scope:e,contentId:y,open:j,stateAttribute:E,trigger:m,onTriggerChange:g,onTriggerEnter:C.useCallback(()=>{f.isOpenDelayedRef.current?O():_()},[f.isOpenDelayedRef,O,_]),onTriggerLeave:C.useCallback(()=>{v?T():(window.clearTimeout(x.current),x.current=0)},[T,v]),onOpen:_,onClose:T,disableHoverableContent:v,children:n})})};k_.displayName=Nu;var Hx="TooltipTrigger",T_=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Xu(Hx,n),o=ov(Hx,n),l=pm(n),c=C.useRef(null),f=St(e,c,s.onTriggerChange),h=C.useRef(!1),m=C.useRef(!1),g=C.useCallback(()=>h.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),u.jsx(sm,{asChild:!0,...l,children:u.jsx(dt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:Ke(t.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ke(t.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ke(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ke(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ke(t.onBlur,s.onClose),onClick:Ke(t.onClick,s.onClose)})})});T_.displayName=Hx;var av="TooltipPortal",[M7,A7]=hm(av,{forceMount:void 0}),E_=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:s}=t,o=Xu(av,e);return u.jsx(M7,{scope:e,forceMount:n,children:u.jsx(Yu,{present:n||o.open,children:u.jsx(im,{asChild:!0,container:s,children:r})})})};E_.displayName=av;var hl="TooltipContent",__=C.forwardRef((t,e)=>{const n=A7(hl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,l=Xu(hl,t.__scopeTooltip);return u.jsx(Yu,{present:r||l.open,children:l.disableHoverableContent?u.jsx(M_,{side:s,...o,ref:e}):u.jsx(R7,{side:s,...o,ref:e})})}),R7=C.forwardRef((t,e)=>{const n=Xu(hl,t.__scopeTooltip),r=ov(hl,t.__scopeTooltip),s=C.useRef(null),o=St(e,s),[l,c]=C.useState(null),{trigger:f,onClose:h}=n,m=s.current,{onPointerInTransitChange:g}=r,y=C.useCallback(()=>{c(null),g(!1)},[g]),x=C.useCallback((v,w)=>{const N=v.currentTarget,j={x:v.clientX,y:v.clientY},A=P7(j,N.getBoundingClientRect()),E=L7(j,A),_=z7(w.getBoundingClientRect()),T=V7([...E,..._]);c(T),g(!0)},[g]);return C.useEffect(()=>()=>y(),[y]),C.useEffect(()=>{if(f&&m){const v=N=>x(N,m),w=N=>x(N,f);return f.addEventListener("pointerleave",v),m.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",w)}}},[f,m,x,y]),C.useEffect(()=>{if(l){const v=w=>{const N=w.target,j={x:w.clientX,y:w.clientY},A=f?.contains(N)||m?.contains(N),E=!B7(j,l);A?y():E&&(y(),h())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[f,m,l,h,y]),u.jsx(M_,{...t,ref:o})}),[O7,D7]=hm(Nu,{isInside:!1}),I7=k7("TooltipContent"),M_=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=t,f=Xu(hl,n),h=pm(n),{onClose:m}=f;return C.useEffect(()=>(document.addEventListener($x,m),()=>document.removeEventListener($x,m)),[m]),C.useEffect(()=>{if(f.trigger){const g=y=>{y.target?.contains(f.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,m]),u.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:u.jsxs(nv,{"data-state":f.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(I7,{children:r}),u.jsx(O7,{scope:n,isInside:!0,children:u.jsx($V,{id:f.contentId,role:"tooltip",children:s||r})})]})})});__.displayName=hl;var A_="TooltipArrow",R_=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=pm(n);return D7(A_,n).isInside?null:u.jsx(rv,{...s,...r,ref:e})});R_.displayName=A_;function P7(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function L7(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function z7(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function B7(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const c=e[o],f=e[l],h=c.x,m=c.y,g=f.x,y=f.y;m>r!=y>r&&n<(g-h)*(r-m)/(y-m)+h&&(s=!s)}return s}function V7(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$7(e)}function $7(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var H7=j_,U7=k_,F7=T_,q7=E_,K7=__,Q7=R_;function lv({delayDuration:t=0,...e}){return u.jsx(H7,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function hh({...t}){return u.jsx(lv,{children:u.jsx(U7,{"data-slot":"tooltip",...t})})}function ph({...t}){return u.jsx(F7,{"data-slot":"tooltip-trigger",...t})}function mh({className:t,sideOffset:e=0,children:n,...r}){return u.jsx(q7,{children:u.jsxs(K7,{"data-slot":"tooltip-content",sideOffset:e,className:mt("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...r,children:[n,u.jsx(Q7,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const mm=()=>u.jsx("div",{className:"absolute inset-0 bg-slate-700/40 transition-opacity duration-300","aria-hidden":"true"}),gh=Fu({reducerPath:"subcategoryApi",baseQuery:Wp,tagTypes:["Subcategories"],endpoints:t=>({createSubcategory:t.mutation({query:e=>({url:"/subcategories/create",method:"POST",body:e})}),getSubcategories:t.query({query:e=>{const n=e?"?"+new URLSearchParams(e).toString():"";return console.log("Fetching subcategories with params:",e),console.log("Final URL:",`/subcategory${n}`),{url:`/subcategories${n}`,method:"GET"}},providesTags:()=>[{type:"Subcategories",id:"LIST"}]}),getSubcategoryById:t.query({query:e=>({url:`/subcategories/${e}`,method:"GET"})}),deleteSubcategoryById:t.mutation({query:e=>({url:`/subcategories/${e}`,method:"DELETE"}),invalidatesTags:[{type:"Subcategories",id:"LIST"}]}),updateSubcategoryById:t.mutation({query:({id:e,formData:n})=>({url:`/subcategories/${e}`,method:"PUT",body:n})})})}),{useCreateSubcategoryMutation:G7,useGetSubcategoriesQuery:gm,useGetSubcategoryByIdQuery:O_,useDeleteSubcategoryByIdMutation:W7,useUpdateSubcategoryByIdMutation:Y7}=gh,Zj={duration:4e3,position:"top-right"},At=({message:t,type:e="success",bgColor:n,icon:r,duration:s})=>{const o={success:"#10b981",error:"#ef4444",loading:"#3b82f6",custom:n||"#374151"};(e==="error"?vt.error:e==="loading"?vt.loading:vt.success)(t,{...Zj,duration:s??Zj.duration,style:{background:n||o[e],color:"white"},icon:r})},X7=({setOpenDeleteModal:t,subcategory:e,onSuccess:n})=>{const[r,{isLoading:s}]=W7(),o=async()=>{if(e)try{await r(e.subcategory_id).unwrap(),At({message:"Xa danh mc con thnh cng!",type:"success"}),t(!1),n&&n()}catch(l){const c=l&&typeof l=="object"&&"data"in l?l.data?.message??"Khng th xa danh mc con":"Khng th xa danh mc con";At({message:c,type:"error"})}};return e?u.jsxs("div",{children:[u.jsx(mm,{}),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-yellow-50 px-6 py-4 border-b border-yellow-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-yellow-200 rounded-lg flex items-center justify-center",children:u.jsx(pr,{className:"w-6 h-6 text-yellow-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-yellow-900",children:"Cnh bo xa danh mc con"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"Hnh ng ny s xa vnh vin danh mc con v khng th hon tc."})]})]}),u.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-lg hover:bg-yellow-100 text-gray-600 transition-colors flex items-center justify-center","aria-label":"ng cnh bo",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:u.jsxs("div",{className:"flex gap-4 items-center",children:[e.image_url?u.jsx("img",{src:e.image_url,alt:e.subcategory_name_vn,className:"w-20 h-20 object-cover rounded-lg border border-gray-300 shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg border border-gray-300 flex items-center justify-center shrink-0",children:u.jsx(Eb,{className:"w-8 h-8 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1 truncate",children:e.subcategory_name_vn}),u.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["M ID: ",u.jsx("span",{className:"font-medium",children:e.subcategory_id})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Trng thi:"," ",u.jsx("span",{className:e.status==="active"?"text-green-600":"text-red-600",children:e.status==="active"?"Hot ng":"V hiu ha"})]})]})]})}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{className:"text-gray-700 mb-4 text-base leading-relaxed",children:["Bn c chc chn mun xa danh mc con"," ",u.jsx("span",{className:"font-bold text-gray-900",children:e.subcategory_name_vn})," ","khng?"]})}),u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx(pr,{className:"w-4 h-4 text-amber-600"}),"Tc ng ca hnh ng ny:"]}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{children:"Xa vnh vin danh mc con ny khi h thng"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(on,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa tt c cc sn phm, loi sn phm lin quan"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(zu,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa cc lin kt vi cc bng khc (nu c)"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{className:"font-semibold text-red-700",children:"Khng th hon tc hnh ng ny"})]})]})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold mt-0.5",children:""}),u.jsxs("span",{children:[u.jsx("strong",{children:"Lu :"})," Nu danh mc con ny ang c s dng trong sn phm hoc cc bng lin quan, bn s khng th xa n. H thng s thng bo li khi thc hin xa."]})]})}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx(Qe,{variant:"secondary",onClick:()=>t(!1),disabled:s,className:"px-6",children:"Hy b"}),u.jsx(Qe,{variant:"danger",onClick:o,disabled:s,className:"px-6 flex items-center gap-2",children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang xa..."]}):u.jsxs(u.Fragment,{children:[u.jsx(pr,{className:"w-4 h-4"}),"Xa danh mc con"]})})]})]})]})})]}):null};function J7({data:t,isLoading:e,onViewDetails:n,onDeleteSuccess:r}){const s=zt(),[o,l]=C.useState(!1),[c,f]=C.useState(null),h=y=>{s({to:"/admin/subcategories/edit/$subcategoryId",params:{subcategoryId:y.toString()}})},m=y=>{f(y),l(!0)};if(e)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsx(pt,{text:"ang ti danh mc con...",type:"div"})});if(!t||t.length===0)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsx("div",{className:"flex justify-center items-center h-32",children:u.jsx("p",{className:"text-gray-500",children:"Khng tm thy danh mc con no"})})});const g=y=>{if(!y)return"-";const x=new Date(y);return`${x.getDate()}/${x.getMonth()+1}/${x.getFullYear()}`};return u.jsxs("div",{className:"rounded-md border",children:[u.jsxs(um,{children:[u.jsx(dm,{children:u.jsxs(Fi,{children:[u.jsx(He,{children:"THNG TIN DANH MC CON"}),u.jsx(He,{children:"HNH NH"}),u.jsx(He,{children:"DANH MC CHA"}),u.jsx(He,{children:"M T"}),u.jsx(He,{children:"LOI SN PHM"}),u.jsx(He,{children:"THI GIAN TO"}),u.jsx(He,{children:"TRNG THI"}),u.jsx(He,{className:"text-center",children:"THAO TC"})]})}),u.jsx(fm,{children:t.map(y=>u.jsxs(Fi,{children:[u.jsxs(Ue,{children:[u.jsx("div",{className:"font-medium",children:y.subcategory_name_vn}),u.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",y.subcategory_id]})]}),u.jsx(Ue,{children:y.image_url?u.jsx("img",{src:y.image_url,alt:y.subcategory_name_vn,className:"w-12 h-12 object-cover rounded border"}):u.jsx("span",{className:"text-gray-400",children:"Khng c nh"})}),u.jsx(Ue,{children:y.category&&u.jsxs("div",{className:"flex items-center space-x-2",children:[y.category.image_url&&u.jsx("img",{src:y.category.image_url,alt:y.category.category_name_vn,className:"w-6 h-6 object-cover rounded-sm"}),u.jsx("span",{children:y.category.category_name_vn})]})}),u.jsx(Ue,{className:"max-w-[200px]",children:u.jsx("div",{className:"truncate text-sm text-gray-600",children:y.description_vn?y.description_vn.replace(/<[^>]*>/g,""):"-"})}),u.jsx(Ue,{children:y.product_type_count>0?u.jsx(lv,{children:u.jsxs(hh,{children:[u.jsx(ph,{asChild:!0,children:u.jsxs("div",{className:"cursor-help text-blue-600 font-medium flex items-center",children:[y.product_type_count," loi"]})}),u.jsxs(mh,{side:"right",className:"w-48 p-0 overflow-hidden rounded-md border shadow-lg bg-white",children:[u.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:u.jsx("p",{className:"font-semibold text-gray-800",children:"Danh sch loi sn phm"})}),u.jsx("div",{className:"p-3 max-h-[250px] overflow-y-auto bg-white",children:u.jsx("ul",{className:"space-y-1.5",children:y.product_types.map(x=>u.jsxs("li",{className:"flex items-center gap-1.5 text-sm text-gray-700",children:[x.status==="active"?u.jsx(DI,{className:"h-3.5 w-3.5 text-green-500 shrink-0"}):u.jsx(zI,{className:"h-3.5 w-3.5 text-red-500 shrink-0"}),u.jsx("span",{className:"flex-1",children:x.product_type_name_vn})]},x.product_type_id))})})]})]})}):u.jsx("span",{className:"text-gray-500",children:"0 loi"})}),u.jsx(Ue,{children:g(y.created_at)}),u.jsx(Ue,{children:u.jsx(wu,{variant:"outline",className:y.status==="active"?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-red-50 text-red-700 border-red-200 hover:bg-red-100",children:y.status==="active"?"Hot ng":"V hiu"})}),u.jsx(Ue,{children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n&&u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-100 hover:text-blue-700",onClick:()=>n(y.subcategory_id),children:u.jsx(fr,{className:"h-4 w-4"})}),u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-amber-100 hover:text-amber-700",onClick:()=>h(y.subcategory_id),children:u.jsx($p,{className:"h-4 w-4"})}),u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-700",onClick:()=>m(y),children:u.jsx(jl,{className:"h-4 w-4"})})]})})]},y.subcategory_id))})]}),o&&u.jsx(X7,{setOpenDeleteModal:l,subcategory:c,onSuccess:r})]})}function Z7({className:t,...e}){return u.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:mt("mx-auto flex w-full justify-center",t),...e})}function eH({className:t,...e}){return u.jsx("ul",{"data-slot":"pagination-content",className:mt("flex flex-row items-center gap-1",t),...e})}function A0({...t}){return u.jsx("li",{"data-slot":"pagination-item",...t})}function cv({className:t,isActive:e,size:n="icon",...r}){return u.jsx("a",{"aria-current":e?"page":void 0,"data-slot":"pagination-link","data-active":e,className:mt(N_({variant:e?"outline":"ghost",size:n}),t),...r})}function tH({className:t,...e}){return u.jsx(cv,{"aria-label":"Go to previous page",size:"default",className:mt("gap-1 px-2.5 sm:pl-2.5",t),...e,children:u.jsx(Nl,{})})}function nH({className:t,...e}){return u.jsx(cv,{"aria-label":"Go to next page",size:"default",className:mt("gap-1 px-2.5 sm:pr-2.5",t),...e,children:u.jsx(Xo,{})})}function rH({className:t,...e}){return u.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:mt("flex size-9 items-center justify-center",t),...e,children:[u.jsx(qI,{className:"size-4"}),u.jsx("span",{className:"sr-only",children:"More pages"})]})}function Dl({pagination:t,onPageChange:e,onLimitChange:n,showInfo:r=!0,limitOptions:s=[5,10,20,50,100]}){const{page:o,limit:l,total:c,totalPages:f}=t,h=()=>{const m=[];if(f<=5)for(let y=1;y<=f;y++)m.push(y);else o<=3?m.push(1,2,3,4,"...",f):o>=f-2?m.push(1,"...",f-3,f-2,f-1,f):m.push(1,"...",o-1,o,o+1,"...",f);return m};return u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("div",{className:"flex items-center min-w-0",children:r&&u.jsxs("div",{className:"text-sm text-muted-foreground truncate",children:["Hin th ",(o-1)*l+1," - ",Math.min(o*l,c)," / ",c]})}),n&&u.jsxs("div",{className:"flex items-center gap-2 text-sm justify-center",children:[u.jsxs(Fn,{value:l.toString(),onValueChange:m=>n(parseInt(m)),children:[u.jsx(Kn,{className:"w-20 h-8",children:u.jsx(qn,{})}),u.jsx(Qn,{children:s.map(m=>u.jsx(fn,{value:m.toString(),children:m},m))})]}),u.jsx("span",{className:"text-muted-foreground",children:"/ trang"})]}),u.jsx("div",{className:"flex items-center justify-end min-w-0",children:f>1&&u.jsx(Z7,{className:"w-auto",children:u.jsxs(eH,{children:[u.jsx(A0,{children:u.jsx(tH,{onClick:()=>o>1&&e(o-1),className:o<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),h().map((m,g)=>u.jsx(A0,{children:m==="..."?u.jsx(rH,{}):u.jsx(cv,{onClick:()=>e(m),isActive:m===o,className:`cursor-pointer transition-colors duration-150 ${m===o?"bg-[var(--green-primary)] text-white hover:bg-[var(--green-primary)]/90":"hover:bg-[color:var(--green-primary)_/_0.12] hover:text-[var(--green-primary)]"} px-2 py-1 rounded`,children:m})},g)),u.jsx(A0,{children:u.jsx(nH,{onClick:()=>o<f&&e(o+1),className:o>=f?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})}const e2={status:"all",subcategory_name_vn:"",category_id:"",page:1,limit:10,sort_by:"created_at",sort_order:"ASC"},sH=()=>{const[t,e]=C.useState(e2),[n,r]=C.useState({page:1,limit:10,total:0,totalPages:0}),s=Object.fromEntries(Object.entries(t).filter(([N,j])=>N==="status"&&j==="all"?!1:j!=null&&j!=="")),{data:o,isLoading:l,error:c,refetch:f}=gm(s);C.useEffect(()=>{console.log("Subcategory API response:",o),console.log("Current query:",t),console.log("Filtered query sent to API:",s),o?.data?.pagination&&r(o.data.pagination),c&&console.error("Error fetching subcategories:",c)},[o,c]);const h=C.useCallback(N=>{e(j=>({...j,page:N}))},[]),m=C.useCallback(N=>{e(j=>({...j,limit:N}))},[]),g=C.useCallback(N=>{e(j=>({...j,status:N,page:1}))},[]),y=C.useCallback(N=>{const[j,A]=N.split("|");e(E=>({...E,sort_by:j,sort_order:A,page:1}))},[]),x=C.useCallback(N=>{e(j=>({...j,subcategory_name_vn:N,page:1}))},[]),v=C.useCallback(N=>{e(j=>({...j,category_id:String(N),page:1}))},[]),w=C.useCallback(()=>{e(e2),r({page:1,limit:10,total:0,totalPages:0})},[]);return{query:t,pagination:n,data:o?o.data?.subcategories||[]:[],isLoading:l,error:c,refetch:f,handlePageChange:h,handleLimitChange:m,handleStatusChange:g,handleSortChange:y,handleSearchChange:x,handleCategoryChange:v,handleRefreshQuery:w}},iH=()=>{const{query:t,pagination:e,data:n,isLoading:r,error:s,handlePageChange:o,handleLimitChange:l,handleSearchChange:c,handleStatusChange:f,handleSortChange:h,handleCategoryChange:m,handleRefreshQuery:g,refetch:y}=sH();C.useEffect(()=>{console.log("Data 12:",n)},[n]);const x=w=>{console.log("View details for:",w)},v=()=>{y()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Dr,{}),u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qun l danh mc con"}),u.jsx(f7,{query:t,onSearchChange:c,onCategoryChange:m,onStatusChange:f,onSortChange:h,onRefreshFilters:g}),s&&u.jsx("div",{className:"text-red-500 text-center py-4",children:"Li khi ti danh mc con"}),u.jsx(J7,{data:n||[],isLoading:r,onViewDetails:x,onDeleteSuccess:v}),u.jsx(Dl,{pagination:e,onPageChange:o,onLimitChange:l,showInfo:!0,limitOptions:[5,10,20,50,100]})]})},oH=Ge("/admin/subcategories/list")({component:iH}),aH=({isOpen:t,onClose:e,imageUrl:n,imageName:r})=>t?u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:e,children:u.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] bg-white rounded-xl overflow-hidden shadow-2xl",onClick:s=>s.stopPropagation(),children:[u.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:r}),u.jsx("button",{onClick:e,className:"p-1 rounded-md hover:bg-gray-200 text-gray-600 transition-colors",children:u.jsx(ht,{size:20})})]}),u.jsx("div",{className:"p-5 flex items-center justify-center",children:u.jsx("img",{src:n,alt:r,className:"max-w-full max-h-[70vh] object-contain rounded-lg"})})]})}):null,Or=C.forwardRef(({label:t="Hnh nh",name:e="image",onChange:n,accept:r="image/*",multiple:s=!1,maxSize:o=5,required:l=!1,disabled:c=!1,error:f="",preview:h=!0,className:m=""},g)=>{const[y,x]=C.useState(!1),[v,w]=C.useState([]),[N,j]=C.useState({isOpen:!1,imageUrl:"",imageName:""}),A=C.useRef(null);C.useImperativeHandle(g,()=>({clearAll:()=>P(),clearAllWithToast:()=>P()}));const E=H=>{const B=H.size/1048576,K=["image/jpeg","image/png","image/gif","image/webp"];return B>o?(console.warn(`File "${H.name}" qu ln! Kch thc ti a: ${o}MB`),!1):K.includes(H.type)?!0:(console.warn(`File "${H.name}" khng ng nh dng! Ch chp nhn: JPG, PNG, GIF, WEBP`),!1)},_=H=>{if(!H||H.length===0)return;const B=Array.from(H),K=[];if(B.forEach(z=>{E(z)&&K.push(z)}),h&&K.length>0){const z=K.map(Q=>({file:Q,url:URL.createObjectURL(Q),id:Math.random().toString(36).substr(2,9)}));s?w(Q=>[...Q,...z]):(v.forEach(Q=>URL.revokeObjectURL(Q.url)),w(z))}if(K.length>0){const z=s?K:K[0];n?.({target:{name:e,value:z,files:K}})}},T=H=>{_(H.target.files)},O=H=>{H.preventDefault(),H.stopPropagation(),H.type==="dragenter"||H.type==="dragover"?x(!0):H.type==="dragleave"&&x(!1)},M=H=>{if(H.preventDefault(),H.stopPropagation(),x(!1),c)return;const B=H.dataTransfer.files;_(B)},R=(H,B)=>{j({isOpen:!0,imageUrl:H,imageName:B})},I=()=>{j({isOpen:!1,imageUrl:"",imageName:""})},L=H=>{const B=v.filter(F=>F.id!==H),K=v.find(F=>F.id===H);K&&URL.revokeObjectURL(K.url),w(B);const z=B.map(F=>F.file),Q=s?z:z[0]||null;n?.({target:{name:e,value:Q,files:z}})},P=()=>{v.forEach(H=>URL.revokeObjectURL(H.url)),w([]),A.current&&(A.current.value=""),n?.({target:{name:e,value:s?[]:null,files:[]}})},V=()=>{!c&&A.current&&A.current.click()};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`mb-6 ${m}`,children:[t&&u.jsxs("label",{className:"block mb-2 text-sm font-semibold text-gray-700",children:[t," ",l&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:`
              border-2 border-dashed rounded-xl p-4 text-center cursor-pointer
              transition-all duration-300 ease-in-out
              ${f?"border-red-500 bg-red-50":""}
              ${y?"border-green-500 bg-green-50 scale-[1.02]":"border-gray-300 bg-gray-50"}
              ${c?"cursor-not-allowed opacity-60 bg-gray-100":"hover:border-green-500 hover:bg-green-50"}
            `,onDragEnter:O,onDragLeave:O,onDragOver:O,onDrop:M,onClick:V,children:[u.jsx("input",{ref:A,type:"file",accept:r,multiple:s,onChange:T,disabled:c,className:"hidden"}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(dP,{size:32,className:`transition-all duration-300 ${y?"text-green-500 animate-bounce":"text-gray-500"}`}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Ko th hoc ",u.jsx("span",{className:"text-green-500 underline",children:"chn file"})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["JPG, PNG, GIF, WEBP (ti a ",o,"MB)",s&&" - Nhiu file"]})]})]})]}),f&&u.jsx("div",{className:"text-red-500 text-xs font-medium mt-2 flex items-center gap-1",children:f}),h&&v.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[u.jsx(hx,{size:16}),"Hnh nh  chn (",v.length,")"]}),u.jsxs("button",{type:"button",onClick:P,disabled:c,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-red-500 bg-white border border-red-500 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(jl,{size:14}),"Xa tt c"]})]}),u.jsx("div",{className:`
                  grid gap-3
                  ${s?"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 max-h-[300px] overflow-y-auto":"grid-cols-1 max-w-xs"}
                `,children:v.map(H=>u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-200 group",children:[u.jsxs("div",{className:"relative pb-[75%]",children:[u.jsx("img",{src:H.url,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover"}),u.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[u.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),R(H.url,H.file.name)},className:"p-2 bg-white/90 hover:bg-white rounded-md text-gray-700 transition-colors",children:u.jsx(fr,{size:16})}),u.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),L(H.id)},disabled:c,className:"p-2 bg-red-500/90 hover:bg-red-500 rounded-md text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(ht,{size:16})})]})]}),u.jsxs("div",{className:"p-2",children:[u.jsx("p",{className:"text-xs font-medium text-gray-700 truncate",children:H.file.name}),u.jsxs("p",{className:"text-[11px] text-gray-500 mt-0.5",children:[(H.file.size/(1024*1024)).toFixed(2)," MB"]})]})]},H.id))})]})]}),u.jsx(aH,{isOpen:N.isOpen,onClose:I,imageUrl:N.imageUrl,imageName:N.imageName})]})});Or.displayName="ImageUpload";const En=({label:t,name:e,value:n,onChange:r,options:s=[],placeholder:o="Chn mt ty chn...",required:l=!1,disabled:c=!1,error:f="",searchable:h=!1,multiple:m=!1,clearable:g=!1,className:y="",style:x={}})=>{const[v,w]=C.useState(!1),[N,j]=C.useState(""),[A,E]=C.useState(m?Array.isArray(n)?n:[]:n),_=C.useRef(null),T=C.useRef(null);C.useEffect(()=>{const B=m?Array.isArray(n)?n:[]:n;console.log("Select useEffect - name:",e,"value:",n,"newSelected:",B),E(B)},[n,m]),C.useEffect(()=>{const B=K=>{_.current&&!_.current.contains(K.target)&&(w(!1),j(""))};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),C.useEffect(()=>{v&&h&&T.current&&T.current.focus()},[v,h]);const O=C.useMemo(()=>{if(!h||!N)return s;const B=N.toLowerCase();return s.filter(K=>K.label.toLowerCase().includes(B))},[s,h,N]),M=B=>m?Array.isArray(A)&&A.includes(B):A===B,R=()=>{if(m){const B=Array.isArray(A)?A:[];if(B.length===0)return o;if(B.length===1){const K=s.find(z=>z.value===B[0]);return K?K.label:String(B[0])}return`${B.length} mc  chn`}else{const B=s.find(K=>K.value===A);return B?B.label:o}},I=B=>{r?.({target:{name:e,value:B}})},L=B=>{if(!c)if(m){const K=Array.isArray(A)?[...A]:[],Q=K.includes(B.value)?K.filter(F=>F!==B.value):[...K,B.value];E(Q),I(Q)}else E(B.value),I(B.value),w(!1)},P=B=>{B.stopPropagation();const K=m?[]:"";E(K),I(K),j("")},V=()=>{c||w(B=>!B)},H=m?Array.isArray(A)&&A.length>0:A!==void 0&&A!=="";return u.jsxs("div",{className:`${y}`,style:{marginBottom:"1.5rem",...x},ref:_,children:[t&&u.jsxs("label",{className:"block mb-2 text-sm font-semibold text-gray-700",children:[t," ",l&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:`
            w-full flex items-center justify-between rounded-lg border-2 transition-all
            ${f?"border-red-500":v?"border-green-500 shadow-sm":"border-gray-200"}
            ${c?"bg-gray-100 opacity-75 cursor-not-allowed":"bg-white"}
          `,children:[u.jsxs("div",{role:"combobox","aria-expanded":v,"aria-haspopup":"listbox",onClick:V,className:`
              flex-1 flex items-center py-3 px-4 text-left cursor-pointer
              ${c?"cursor-not-allowed":""}
            `,tabIndex:c?-1:0,children:[u.jsx("span",{className:`
                flex-1 truncate
                ${H?"text-gray-800":"text-gray-400"}
              `,children:R()}),u.jsx(Is,{size:18,className:`text-gray-500 transition-transform ml-2 ${v?"rotate-180":""}`})]}),g&&H&&!c&&u.jsx("div",{onClick:P,className:"px-2 h-full flex items-center justify-center cursor-pointer text-gray-500 hover:text-gray-700",role:"button","aria-label":"Clear selection",tabIndex:0,children:u.jsx(ht,{size:16})})]}),v&&u.jsxs("div",{className:"absolute z-50 mt-1 left-0 right-0 bg-white border-2 border-gray-200 rounded-b-lg shadow-lg max-h-64 overflow-auto",children:[h&&u.jsx("div",{className:"p-2 border-b border-gray-100",children:u.jsxs("div",{className:"relative",children:[u.jsx(Cl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),u.jsx("input",{ref:T,type:"text",value:N,onChange:B=>j(B.target.value),placeholder:"Tm kim...",className:"w-full pl-10 pr-3 py-2 rounded-md border border-gray-100 focus:outline-none focus:ring-1 focus:ring-green-500"})]})}),u.jsx("div",{children:O.length>0?O.map(B=>{const K=M(B.value);return u.jsxs("div",{role:"option","aria-selected":K,onClick:()=>L(B),className:`px-4 py-3 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors
                        ${K?"bg-green-50 font-medium text-gray-800":"text-gray-700"}
                      `,children:[u.jsx("span",{children:B.label}),K&&u.jsx(nT,{size:16,className:"text-green-500"})]},String(B.value))}):u.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 text-center",children:N?"Khng tm thy kt qu":"Khng c ty chn"})})]})]}),f&&u.jsx("p",{className:"mt-2 text-sm text-red-500",children:f})]})};var D_=qk();function Jt(t){this.content=t}Jt.prototype={constructor:Jt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),o=r.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new Jt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Jt(n)},addToStart:function(t,e){return new Jt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Jt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),o=r.find(t);return s.splice(o==-1?s.length:o,0,e,n),new Jt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Jt.from(t),t.size?new Jt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Jt.from(t),t.size?new Jt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Jt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Jt.from=function(t){if(t instanceof Jt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Jt(e)};function I_(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),o=e.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let l=0;s.text[l]==o.text[l];l++)n++;return n}if(s.content.size||o.content.size){let l=I_(s.content,o.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function P_(t,e,n,r){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let l=t.child(--s),c=e.child(--o),f=l.nodeSize;if(l==c){n-=f,r-=f;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let h=0,m=Math.min(l.text.length,c.text.length);for(;h<m&&l.text[l.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let h=P_(l.content,c.content,n-1,r-1);if(h)return h}n-=f,r-=f}}class ae{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,o){for(let l=0,c=0;c<n;l++){let f=this.content[l],h=c+f.nodeSize;if(h>e&&r(f,s+c,o||null,l)!==!1&&f.content.size){let m=c+1;f.nodesBetween(Math.max(0,e-m),Math.min(f.content.size,n-m),r,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let o="",l=!0;return this.nodesBetween(e,n,(c,f)=>{let h=c.isText?c.text.slice(Math.max(e,f)-f,n-f):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(l?l=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new ae(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let o=0,l=0;l<n;o++){let c=this.content[o],f=l+c.nodeSize;f>e&&((l<e||f>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),s+=c.nodeSize),l=f}return new ae(r,s)}cutByIndex(e,n){return e==n?ae.empty:e==0&&n==this.content.length?this:new ae(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new ae(s,o)}addToStart(e){return new ae([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ae(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return I_(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return P_(this,e,n,r)}findIndex(e){if(e==0)return Gf(0,e);if(e==this.size)return Gf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e?Gf(n+1,o):Gf(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ae.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ae(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ae.empty;let n,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ae(n||e,r)}static from(e){if(!e)return ae.empty;if(e instanceof ae)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ae([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ae.empty=new ae([],0);const R0={index:0,offset:0};function Gf(t,e){return R0.index=t,R0.offset=e,R0}function Qh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Qh(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Qh(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let st=class Ux{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Qh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ux.none;if(e instanceof Ux)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};st.none=[];class Gh extends Error{}class me{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=z_(this.content,e+this.openStart,n);return r&&new me(r,this.openStart,this.openEnd)}removeBetween(e,n){return new me(L_(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return me.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new me(ae.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new me(e,r,s)}}me.empty=new me(ae.empty,0,0);function L_(t,e,n){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(s==e||o.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(L_(o.content,e-s-1,n-s-1)))}function z_(t,e,n,r){let{index:s,offset:o}=t.findIndex(e),l=t.maybeChild(s);if(o==e||l.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=z_(l.content,e-o-1,n,l);return c&&t.replaceChild(s,l.copy(c))}function lH(t,e,n){if(n.openStart>t.depth)throw new Gh("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Gh("Inconsistent open depths");return B_(t,e,n,0)}function B_(t,e,n,r){let s=t.index(r),o=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let l=B_(t,e,n,r+1);return o.copy(o.content.replaceChild(s,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return Oo(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=cH(n,t);return Oo(o,$_(t,l,c,e,r))}else return Oo(o,Wh(t,e,r))}function V_(t,e){if(!e.type.compatibleContent(t.type))throw new Gh("Cannot join "+e.type.name+" onto "+t.type.name)}function Fx(t,e,n){let r=t.node(n);return V_(r,e.node(n)),r}function Ro(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function nu(t,e,n,r){let s=(e||t).node(n),o=0,l=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Ro(t.nodeAfter,r),o++));for(let c=o;c<l;c++)Ro(s.child(c),r);e&&e.depth==n&&e.textOffset&&Ro(e.nodeBefore,r)}function Oo(t,e){return t.type.checkContent(e),t.copy(e)}function $_(t,e,n,r,s){let o=t.depth>s&&Fx(t,e,s+1),l=r.depth>s&&Fx(n,r,s+1),c=[];return nu(null,t,s,c),o&&l&&e.index(s)==n.index(s)?(V_(o,l),Ro(Oo(o,$_(t,e,n,r,s+1)),c)):(o&&Ro(Oo(o,Wh(t,e,s+1)),c),nu(e,n,s,c),l&&Ro(Oo(l,Wh(n,r,s+1)),c)),nu(r,null,s,c),new ae(c)}function Wh(t,e,n){let r=[];if(nu(null,t,n,r),t.depth>n){let s=Fx(t,e,n+1);Ro(Oo(s,Wh(t,e,n+1)),r)}return nu(e,null,n,r),new ae(r)}function cH(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(ae.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Cu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return st.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!s||!o[l].isInSet(s.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Yh(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let l=e;;){let{index:c,offset:f}=l.content.findIndex(o),h=o-f;if(r.push(l,c,s+f),!h||(l=l.child(c),l.isText))break;o=h-1,s+=f+1}return new Cu(n,r,o)}static resolveCached(e,n){let r=t2.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==n)return l}else t2.set(e,r=new uH);let s=r.elts[r.i]=Cu.resolve(e,n);return r.i=(r.i+1)%dH,s}}class uH{constructor(){this.elts=[],this.i=0}}const dH=12,t2=new WeakMap;class Yh{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const fH=Object.create(null);let Di=class qx{constructor(e,n,r,s=st.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||ae.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Qh(this.attrs,n||e.defaultAttrs||fH)&&st.sameSet(this.marks,r||st.none)}copy(e=null){return e==this.content?this:new qx(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new qx(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return me.empty;let s=this.resolve(e),o=this.resolve(n),l=r?0:s.sharedDepth(n),c=s.start(l),h=s.node(l).content.cut(s.pos-c,o.pos-c);return new me(h,s.depth-l,o.depth-l)}replace(e,n,r){return lH(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Cu.resolveCached(this,e)}resolveNoCache(e){return Cu.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),H_(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ae.empty,s=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,s,o),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let f=s;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=st.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!st.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=ae.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,r);return o.type.checkAttrs(o.attrs),o}};Di.prototype.text=void 0;class Xh extends Di{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):H_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Xh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Xh(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function H_(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class qo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new hH(e,n);if(r.next==null)return qo.empty;let s=U_(r);r.next&&r.err("Unexpected trailing text");let o=vH(bH(s));return SH(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function o(l,c){let f=l.matchFragment(e,r);if(f&&(!n||f.validEnd))return ae.from(c.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:m,next:g}=l.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let y=o(g,c.concat(m));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let l=[];for(let c=s;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:c,next:f}=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}qo.empty=new qo(!0);class hH{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function U_(t){let e=[];do e.push(pH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function pH(t){let e=[];do e.push(mH(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function mH(t){let e=xH(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=gH(t,e);else break;return e}function n2(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function gH(t,e){let n=n2(t),r=n;return t.eat(",")&&(t.next!="}"?r=n2(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function yH(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let o in n){let l=n[o];l.isInGroup(e)&&s.push(l)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function xH(t){if(t.eat("(")){let e=U_(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=yH(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function bH(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,f){let h={term:f,to:c};return e[l].push(h),h}function s(l,c){l.forEach(f=>f.to=c)}function o(l,c){if(l.type=="choice")return l.exprs.reduce((f,h)=>f.concat(o(h,c)),[]);if(l.type=="seq")for(let f=0;;f++){let h=o(l.exprs[f],c);if(f==l.exprs.length-1)return h;s(h,c=n())}else if(l.type=="star"){let f=n();return r(c,f),s(o(l.expr,f),f),[r(f)]}else if(l.type=="plus"){let f=n();return s(o(l.expr,c),f),s(o(l.expr,f),f),[r(f)]}else{if(l.type=="opt")return[r(c)].concat(o(l.expr,c));if(l.type=="range"){let f=c;for(let h=0;h<l.min;h++){let m=n();s(o(l.expr,f),m),f=m}if(l.max==-1)s(o(l.expr,f),f);else for(let h=l.min;h<l.max;h++){let m=n();r(f,m),s(o(l.expr,f),m),f=m}return[r(f)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function F_(t,e){return e-t}function r2(t,e){let n=[];return r(e),n.sort(F_);function r(s){let o=t[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let l=0;l<o.length;l++){let{term:c,to:f}=o[l];!c&&n.indexOf(f)==-1&&r(f)}}}function vH(t){let e=Object.create(null);return n(r2(t,0));function n(r){let s=[];r.forEach(l=>{t[l].forEach(({term:c,to:f})=>{if(!c)return;let h;for(let m=0;m<s.length;m++)s[m][0]==c&&(h=s[m][1]);r2(t,f).forEach(m=>{h||s.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[r.join(",")]=new qo(r.indexOf(t.length-1)>-1);for(let l=0;l<s.length;l++){let c=s[l][1].sort(F_);o.next.push({type:s[l][0],next:e[c.join(",")]||n(c)})}return o}}function SH(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],o=!s.validEnd,l=[];for(let c=0;c<s.next.length;c++){let{type:f,next:h}=s.next[c];l.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function q_(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function K_(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let o=t[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function Q_(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function G_(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new NH(t,r,e[r]);return n}let s2=class W_{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=G_(e,r.attrs),this.defaultAttrs=q_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:K_(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Di(this,this.computeAttrs(e),ae.from(n),st.setFrom(r))}createChecked(e=null,n,r){return n=ae.from(n),this.checkContent(n),new Di(this,this.computeAttrs(e),n,st.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ae.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(ae.empty,!0);return o?new Di(this,e,n.append(o),st.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Q_(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:st.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new W_(o,n,l));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function wH(t,e,n){let r=n.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class NH{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?wH(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ym{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=G_(e,s.attrs),this.excluded=null;let o=q_(this.attrs);this.instance=o?new st(this,o):null}create(e=null){return!e&&this.instance?this.instance:new st(this,K_(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((o,l)=>r[o]=new ym(o,s++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Q_(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Y_{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Jt.from(e.nodes),n.marks=Jt.from(e.marks||{}),this.nodes=s2.compile(this.spec.nodes,this),this.marks=ym.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],l=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=qo.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?i2(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:i2(this,l.split(" "))}this.nodeFromJSON=s=>Di.fromJSON(this,s),this.markFromJSON=s=>st.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof s2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Xh(r,r.defaultAttrs,e,st.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function i2(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],o=t.marks[s],l=o;if(o)n.push(o);else for(let c in t.marks){let f=t.marks[c];(s=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(s)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function CH(t){return t.tag!=null}function jH(t){return t.style!=null}class Ii{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(CH(s))this.tags.push(s);else if(jH(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new a2(this,n,!1);return r.addAll(e,st.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new a2(this,n,!0);return r.addAll(e,st.none,n.from,n.to),me.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(EH(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let l=this.styles[o],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function r(s){let o=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<o)break}n.splice(l,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(l=>{r(l=l2(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(l=>{r(l=l2(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ii(e,Ii.schemaRules(e)))}}const X_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},J_={ol:!0,ul:!0},ju=1,Kx=2,ru=4;function o2(t,e,n){return e!=null?(e?ju:0)|(e==="full"?Kx:0):t&&t.whitespace=="pre"?ju|Kx:n&~ru}class Wf{constructor(e,n,r,s,o,l){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=l,this.content=[],this.activeMarks=st.none,this.match=o||(l&ru?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ae.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ju)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=ae.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ae.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!X_.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class a2{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,l=o2(null,n.preserveWhitespace,0)|(r?ru:0);s?o=new Wf(s.type,s.attrs,st.none,!0,n.topMatch||s.type.contentMatch,l):r?o=new Wf(null,null,st.none,!0,null,l):o=new Wf(e.schema.topNodeType,null,st.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,o=s.options&Kx?"full":this.localPreserveWS||(s.options&ju)>0,{schema:l}=this.parser;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let f=0;f<c.length;f++)f&&this.insertNode(l.linebreakReplacement.create(),n,!0),c[f]&&this.insertNode(l.text(c[f]),n,!/\S/.test(c[f]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],f=e.previousSibling;(!c||f&&f.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;J_.hasOwnProperty(l)&&this.parser.normalizeLists&&TH(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:kH.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,m=this.needsBlock;if(X_.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=f&&f.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,f,h,f.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],l=r.getPropertyValue(o);if(l)for(let c=void 0;;){let f=this.parser.matchStyle(o,l,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(h=>!f.clearMark(h)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return n}addElementByRule(e,n,r,s){let o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(l,n.attrs||null,r,n.preserveWhitespace);f&&(o=!0,r=f)}else{let f=this.parser.schema.marks[n.mark];r=r.concat(f.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,r,s){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];l!=c;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,n);this.findAtPoint(e,o)}findPlace(e,n,r){let s,o;for(let l=this.open,c=0;l>=0;l--){let f=this.nodes[l],h=f.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,o=f,!h.length))break;if(f.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let l=0;l<s.length;l++)n=this.enterInner(s[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=st.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):c2(c.type,e.type))&&(l=c.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,n,r,s){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,s)),o}enterInner(e,n,r,s=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=o2(e,o,l.options);l.options&ru&&l.content.length==0&&(c|=ru);let f=st.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):c2(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new Wf(e,n,f,s,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ju)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),l=(c,f)=>{for(;c>=0;c--){let h=n[c];if(h==""){if(c==n.length-1||c==0)continue;for(;f>=o;f--)if(l(c-1,f))return!0;return!1}else{let m=f>0||f==0&&s?this.nodes[f].type:r&&f>=o?r.node(f-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function TH(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&J_.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function EH(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function l2(t){let e={};for(let n in t)e[n]=t[n];return e}function c2(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let o=[],l=c=>{o.push(c);for(let f=0;f<c.edgeCount;f++){let{type:h,next:m}=c.edge(f);if(h==e||o.indexOf(m)<0&&l(m))return!0}};if(l(s.contentMatch))return!0}}class Jo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=O0(n).createDocumentFragment());let s=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let c=0,f=0;for(;c<o.length&&f<l.marks.length;){let h=l.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,f++}for(;c<o.length;)s=o.pop()[1];for(;f<l.marks.length;){let h=l.marks[f++],m=this.serializeMark(h,l.isInline,n);m&&(o.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=yh(O0(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&yh(O0(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return yh(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Jo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=u2(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return u2(e.marks)}}function u2(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function O0(t){return t.document||window.document}const d2=new WeakMap;function _H(t){let e=d2.get(t);return e===void 0&&d2.set(t,e=MH(t)),e}function MH(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function yh(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=_H(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=s.indexOf(" ");l>0&&(n=s.slice(0,l),s=s.slice(l+1));let c,f=n?t.createElementNS(n,s):t.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let g in h)if(h[g]!=null){let y=g.indexOf(" ");y>0?f.setAttributeNS(g.slice(0,y),g.slice(y+1),h[g]):g=="style"&&f.style?f.style.cssText=h[g]:f.setAttribute(g,h[g])}}for(let g=m;g<e.length;g++){let y=e[g];if(y===0){if(g<e.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:x,contentDOM:v}=yh(t,y,n,r);if(f.appendChild(x),v){if(c)throw new RangeError("Multiple content holes");c=v}}}return{dom:f,contentDOM:c}}const Z_=65535,eM=Math.pow(2,16);function AH(t,e){return t+e*eM}function f2(t){return t&Z_}function RH(t){return(t-(t&Z_))/eM}const tM=1,nM=2,xh=4,rM=8;class Qx{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&rM)>0}get deletedBefore(){return(this.delInfo&(tM|xh))>0}get deletedAfter(){return(this.delInfo&(nM|xh))>0}get deletedAcross(){return(this.delInfo&xh)>0}}class Hn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Hn.empty)return Hn.empty}recover(e){let n=0,r=f2(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+RH(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?s:0);if(f>e)break;let h=this.ranges[c+o],m=this.ranges[c+l],g=f+h;if(e<=g){let y=h?e==f?-1:e==g?1:n:n,x=f+s+(y<0?0:m);if(r)return x;let v=e==(n<0?f:g)?null:AH(c/3,e-f),w=e==f?nM:e==g?tM:xh;return(n<0?e!=f:e!=g)&&(w|=rM),new Qx(x,w,v)}s+=m-h}return r?e+s:new Qx(e+s,0,null)}touches(e,n){let r=0,s=f2(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[c+o],m=f+h;if(e<=m&&c==s*3)return!0;r+=this.ranges[c+l]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let l=this.ranges[s],c=l-(this.inverted?o:0),f=l+(this.inverted?0:o),h=this.ranges[s+n],m=this.ranges[s+r];e(c,c+h,f,f+m),o+=m-h}}invert(){return new Hn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hn.empty:new Hn(e<0?[0,-e,0]:[0,0,e])}}Hn.empty=new Hn([]);class ku{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ku(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new ku;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],c=l.mapResult(e,n);if(c.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new Qx(e,s,null)}}const D0=Object.create(null);class un{getMap(){return Hn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=D0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in D0)throw new RangeError("Duplicate use of step JSON ID "+e);return D0[e]=n,n.prototype.jsonID=e,n}}class Mt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Mt(e,null)}static fail(e){return new Mt(null,e)}static fromReplace(e,n,r,s){try{return Mt.ok(e.replace(n,r,s))}catch(o){if(o instanceof Gh)return Mt.fail(o.message);throw o}}}function uv(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(uv(o.content,e,o))),o.isInline&&(o=e(o,n,s)),r.push(o)}return ae.fromArray(r)}class Ei extends un{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new me(uv(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return Mt.fromReplace(e,this.from,this.to,o)}invert(){return new jr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ei(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ei&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ei(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ei(n.from,n.to,e.markFromJSON(n.mark))}}un.jsonID("addMark",Ei);class jr extends un{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new me(uv(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Mt.fromReplace(e,this.from,this.to,r)}invert(){return new Ei(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new jr(n.pos,r.pos,this.mark)}merge(e){return e instanceof jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new jr(n.from,n.to,e.markFromJSON(n.mark))}}un.jsonID("removeMark",jr);class _i extends un{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Mt.fromReplace(e,this.pos,this.pos+1,new me(ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new _i(this.pos,n.marks[s]);return new _i(this.pos,this.mark)}}return new Ko(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _i(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _i(n.pos,e.markFromJSON(n.mark))}}un.jsonID("addNodeMark",_i);class Ko extends un{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Mt.fromReplace(e,this.pos,this.pos+1,new me(ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new _i(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ko(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ko(n.pos,e.markFromJSON(n.mark))}}un.jsonID("removeNodeMark",Ko);class Ht extends un{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Gx(e,this.from,this.to)?Mt.fail("Structure replace would overwrite content"):Mt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ht(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ht(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ht)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?me.empty:new me(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ht(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?me.empty:new me(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ht(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ht(n.from,n.to,me.fromJSON(e,n.slice),!!n.structure)}}un.jsonID("replace",Ht);class Ut extends un{constructor(e,n,r,s,o,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Gx(e,this.from,this.gapFrom)||Gx(e,this.gapTo,this.to)))return Mt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Mt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Mt.fromReplace(e,this.from,this.to,r):Mt.fail("Content does not fit in gap")}getMap(){return new Hn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ut(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new Ut(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ut(n.from,n.to,n.gapFrom,n.gapTo,me.fromJSON(e,n.slice),n.insert,!!n.structure)}}un.jsonID("replaceAround",Ut);function Gx(t,e,n){let r=t.resolve(e),s=n-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function OH(t,e,n,r){let s=[],o=[],l,c;t.doc.nodesBetween(e,n,(f,h,m)=>{if(!f.isInline)return;let g=f.marks;if(!r.isInSet(g)&&m.type.allowsMarkType(r.type)){let y=Math.max(h,e),x=Math.min(h+f.nodeSize,n),v=r.addToSet(g);for(let w=0;w<g.length;w++)g[w].isInSet(v)||(l&&l.to==y&&l.mark.eq(g[w])?l.to=x:s.push(l=new jr(y,x,g[w])));c&&c.to==y?c.to=x:o.push(c=new Ei(y,x,r))}}),s.forEach(f=>t.step(f)),o.forEach(f=>t.step(f))}function DH(t,e,n,r){let s=[],o=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;o++;let f=null;if(r instanceof ym){let h=l.marks,m;for(;m=r.isInSet(h);)(f||(f=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(l.marks)&&(f=[r]):f=l.marks;if(f&&f.length){let h=Math.min(c+l.nodeSize,n);for(let m=0;m<f.length;m++){let g=f[m],y;for(let x=0;x<s.length;x++){let v=s[x];v.step==o-1&&g.eq(s[x].style)&&(y=v)}y?(y.to=h,y.step=o):s.push({style:g,from:Math.max(c,e),to:h,step:o})}}}),s.forEach(l=>t.step(new jr(l.from,l.to,l.style)))}function dv(t,e,n,r=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),l=[],c=e+1;for(let f=0;f<o.childCount;f++){let h=o.child(f),m=c+h.nodeSize,g=r.matchType(h.type);if(!g)l.push(new Ht(c,m,me.empty));else{r=g;for(let y=0;y<h.marks.length;y++)n.allowsMarkType(h.marks[y].type)||t.step(new jr(c,m,h.marks[y]));if(s&&h.isText&&n.whitespace!="pre"){let y,x=/\r?\n|\r/g,v;for(;y=x.exec(h.text);)v||(v=new me(ae.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new Ht(c+y.index,c+y.index+y[0].length,v))}}c=m}if(!r.validEnd){let f=r.fillBefore(ae.empty,!0);t.replace(c,c,new me(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function IH(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Il(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),o=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(o,l,n))return r;if(r==0||s.type.spec.isolating||!IH(s,o,l))break}return null}function PH(t,e,n){let{$from:r,$to:s,depth:o}=e,l=r.before(o+1),c=s.after(o+1),f=l,h=c,m=ae.empty,g=0;for(let v=o,w=!1;v>n;v--)w||r.index(v)>0?(w=!0,m=ae.from(r.node(v).copy(m)),g++):f--;let y=ae.empty,x=0;for(let v=o,w=!1;v>n;v--)w||s.after(v+1)<s.end(v)?(w=!0,y=ae.from(s.node(v).copy(y)),x++):h++;t.step(new Ut(f,h,l,c,new me(m.append(y),g,x),m.size-g,!0))}function fv(t,e,n=null,r=t){let s=LH(t,e),o=s&&zH(r,e);return o?s.map(h2).concat({type:e,attrs:n}).concat(o.map(h2)):null}function h2(t){return{type:t,attrs:null}}function LH(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return n.canReplaceWith(r,s,l)?o:null}function zH(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;f&&h<s;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:l}function BH(t,e,n){let r=ae.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ae.from(n[l].type.create(n[l].attrs,r))}let s=e.start,o=e.end;t.step(new Ut(s,o,s,o,new me(r,0,0),n.length,!0))}function VH(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let f=typeof s=="function"?s(l):s;if(l.isTextblock&&!l.hasMarkup(r,f)&&$H(t.doc,t.mapping.slice(o).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!v?h=!1:!x&&v&&(h=!0)}h===!1&&iM(t,l,c,o),dv(t,t.mapping.slice(o).map(c,1),r,void 0,h===null);let m=t.mapping.slice(o),g=m.map(c,1),y=m.map(c+l.nodeSize,1);return t.step(new Ut(g,y,g+1,y-1,new me(ae.from(r.create(f,null,l.marks)),0,0),1,!0)),h===!0&&sM(t,l,c,o),!1}})}function sM(t,e,n,r){e.forEach((s,o)=>{if(s.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(s.text);){let f=t.mapping.slice(r).map(n+1+o+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function iM(t,e,n,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+o);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function $H(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function HH(t,e,n,r,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ut(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new me(ae.from(l),0,0),1,!0))}function Rs(t,e,n=1,r){let s=t.resolve(e),o=s.depth-n,l=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=n-2;h>o;h--,m--){let g=s.node(h),y=s.index(h);if(g.type.spec.isolating)return!1;let x=g.content.cutByIndex(y,g.childCount),v=r&&r[m+1];v&&(x=x.replaceChild(0,v.type.create(v.attrs)));let w=r&&r[m]||g;if(!g.canReplace(y+1,g.childCount)||!w.type.validContent(x))return!1}let c=s.indexAfter(o),f=r&&r[0];return s.node(o).canReplaceWith(c,c,f?f.type:s.node(o+1).type)}function UH(t,e,n=1,r){let s=t.doc.resolve(e),o=ae.empty,l=ae.empty;for(let c=s.depth,f=s.depth-n,h=n-1;c>f;c--,h--){o=ae.from(s.node(c).copy(o));let m=r&&r[h];l=ae.from(m?m.type.create(m.attrs,l):s.node(c).copy(l))}t.step(new Ht(e,e,new me(o.append(l),n,n),!0))}function Yi(t,e){let n=t.resolve(e),r=n.index();return oM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function FH(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),l=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function oM(t,e){return!!(t&&e&&!t.isLeaf&&FH(t,e))}function xm(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let o,l,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,l=r.nodeAfter):n>0?(o=r.node(s+1),c++,l=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),l=r.node(s+1)),o&&!o.isTextblock&&oM(o,l)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function qH(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),l=o.node().type;if(s&&l.inlineContent){let m=l.whitespace=="pre",g=!!l.contentMatch.matchType(s);m&&!g?r=!1:!m&&g&&(r=!0)}let c=t.steps.length;if(r===!1){let m=t.doc.resolve(e+n);iM(t,m.node(),m.before(),c)}l.inlineContent&&dv(t,e+n-1,l,o.node().contentMatchAt(o.index()),r==null);let f=t.mapping.slice(c),h=f.map(e-n);if(t.step(new Ht(h,f.map(e+n,-1),me.empty,!0)),r===!0){let m=t.doc.resolve(h);sM(t,m.node(),m.before(),t.steps.length)}return t}function KH(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function aM(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,f=r.index(l)+(c>0?1:0),h=r.node(l),m=!1;if(o==1)m=h.canReplace(f,f,s);else{let g=h.contentMatchAt(f).findWrapping(s.firstChild.type);m=g&&h.canReplaceWith(f,f,g[0])}if(m)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function bm(t,e,n=e,r=me.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),o=t.resolve(n);return lM(s,o,r)?new Ht(e,n,r):new QH(s,o,r).fit()}function lM(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class QH{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ae.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ae.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,l=r.depth,c=s.depth;for(;l&&c&&o.childCount==1;)o=o.firstChild.content,l--,c--;let f=new me(o,l,c);return e>-1?new Ut(r.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||r.pos!=this.$to.pos?new Ht(r.pos,s.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=I0(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let l=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:h}=this.frontier[c],m,g=null;if(n==1&&(l?h.matchType(l.type)||(g=h.fillBefore(ae.from(l),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:g};if(n==2&&l&&(m=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=I0(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new me(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=I0(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new me(Kc(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new me(Kc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let w=0;w<o.length;w++)this.openFrontierNode(o[w]);let l=this.unplaced,c=r?r.content:l.content,f=l.openStart-e,h=0,m=[],{match:g,type:y}=this.frontier[n];if(s){for(let w=0;w<s.childCount;w++)m.push(s.child(w));g=g.matchFragment(s)}let x=c.size+e-(l.content.size-l.openEnd);for(;h<c.childCount;){let w=c.child(h),N=g.matchType(w.type);if(!N)break;h++,(h>1||f==0||w.content.size)&&(g=N,m.push(cM(w.mark(y.allowedMarks(w.marks)),h==1?f:0,h==c.childCount?x:-1)))}let v=h==c.childCount;v||(x=-1),this.placed=Qc(this.placed,n,ae.from(m)),this.frontier[n].match=g,v&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,N=c;w<x;w++){let j=N.lastChild;this.frontier.push({type:j.type,match:j.contentMatchAt(j.childCount)}),N=j.content}this.unplaced=v?e==0?me.empty:new me(Kc(l.content,e-1,1),e-1,x<0?l.openEnd:e-1):new me(Kc(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!P0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=P0(e,n,s,r,o);if(l){for(let c=n-1;c>=0;c--){let{match:f,type:h}=this.frontier[c],m=P0(e,c,h,f,!0);if(!m||m.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Qc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Qc(this.placed,this.depth,ae.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ae.empty,!0);n.childCount&&(this.placed=Qc(this.placed,this.frontier.length,n))}}function Kc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Kc(t.firstChild.content,e-1,n)))}function Qc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Qc(t.lastChild.content,e-1,n)))}function I0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function cM(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,cM(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ae.empty,!0)))),t.copy(r)}function P0(t,e,n,r,s){let o=t.node(e),l=s?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,l);return c&&!GH(n,o.content,l)?c:null}function GH(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function WH(t){return t.spec.defining||t.spec.definingForContent}function YH(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(lM(s,o,r))return t.step(new Ht(e,n,r));let l=dM(s,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(s.depth+1);l.unshift(c);for(let y=s.depth,x=s.pos-1;y>0;y--,x--){let v=s.node(y).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;l.indexOf(y)>-1?c=y:s.before(y)==x&&l.splice(1,0,-y)}let f=l.indexOf(c),h=[],m=r.openStart;for(let y=r.content,x=0;;x++){let v=y.firstChild;if(h.push(v),x==r.openStart)break;y=v.content}for(let y=m-1;y>=0;y--){let x=h[y],v=WH(x.type);if(v&&!x.sameMarkup(s.node(Math.abs(c)-1)))m=y;else if(v||!x.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let x=(y+m+1)%(r.openStart+1),v=h[x];if(v)for(let w=0;w<l.length;w++){let N=l[(w+f)%l.length],j=!0;N<0&&(j=!1,N=-N);let A=s.node(N-1),E=s.index(N-1);if(A.canReplaceWith(E,E,v.type,v.marks))return t.replace(s.before(N),j?o.after(N):n,new me(uM(r.content,0,r.openStart,x),x,r.openEnd))}}let g=t.steps.length;for(let y=l.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>g));y--){let x=l[y];x<0||(e=s.before(x),n=o.after(x))}}function uM(t,e,n,r,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(uM(o.content,e+1,n,r,o)))}if(e>r){let o=s.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(ae.empty,!0))}return t}function XH(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=KH(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new me(ae.from(r),0,0))}function JH(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),o=dM(r,s);for(let l=0;l<o.length;l++){let c=o[l],f=l==o.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),s.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return t.delete(r.before(c),s.after(c))}for(let l=1;l<=r.depth&&l<=s.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&s.end(l)-n!=s.depth-l&&r.start(l-1)==s.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),s.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function dM(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class tl extends un{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Mt.fromReplace(e,this.pos,this.pos+1,new me(ae.from(s),0,n.isLeaf?0:1))}getMap(){return Hn.empty}invert(e){return new tl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new tl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new tl(n.pos,n.attr,n.value)}}un.jsonID("attr",tl);class Tu extends un{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Mt.ok(r)}getMap(){return Hn.empty}invert(e){return new Tu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Tu(n.attr,n.value)}}un.jsonID("docAttr",Tu);let pl=class extends Error{};pl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};pl.prototype=Object.create(Error.prototype);pl.prototype.constructor=pl;pl.prototype.name="TransformError";class fM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ku}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new pl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=me.empty){let s=bm(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new me(ae.from(r),0,0))}delete(e,n){return this.replace(e,n,me.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return YH(this,e,n,r),this}replaceRangeWith(e,n,r){return XH(this,e,n,r),this}deleteRange(e,n){return JH(this,e,n),this}lift(e,n){return PH(this,e,n),this}join(e,n=1){return qH(this,e,n),this}wrap(e,n){return BH(this,e,n),this}setBlockType(e,n=e,r,s=null){return VH(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return HH(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new tl(e,n,r)),this}setDocAttribute(e,n){return this.step(new Tu(e,n)),this}addNodeMark(e,n){return this.step(new _i(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof st)n.isInSet(r.marks)&&this.step(new Ko(e,n));else{let s=r.marks,o,l=[];for(;o=n.isInSet(s);)l.push(new Ko(e,o)),s=o.removeFromSet(s);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return UH(this,e,n,r),this}addMark(e,n,r){return OH(this,e,n,r),this}removeMark(e,n,r){return DH(this,e,n,r),this}clearIncompatible(e,n,r){return dv(this,e,n,r),this}}const L0=Object.create(null);class Re{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new ZH(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=me.empty){let r=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:f,$to:h}=l[c],m=e.mapping.slice(o);e.replaceRange(m.map(f.pos),m.map(h.pos),c?me.empty:n),c==0&&g2(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:l,$to:c}=s[o],f=e.mapping.slice(r),h=f.map(l.pos),m=f.map(c.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,n),g2(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new ke(e):qa(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let l=n<0?qa(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):qa(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Wn(e.node(0))}static atStart(e){return qa(e,e,0,0,1)||new Wn(e)}static atEnd(e){return qa(e,e,e.content.size,e.childCount,-1)||new Wn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=L0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in L0)throw new RangeError("Duplicate use of selection JSON ID "+e);return L0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ke.between(this.$anchor,this.$head).getBookmark()}}Re.prototype.visible=!0;class ZH{constructor(e,n){this.$from=e,this.$to=n}}let p2=!1;function m2(t){!p2&&!t.parent.inlineContent&&(p2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ke extends Re{constructor(e,n=e){m2(e),m2(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Re.near(r);let s=e.resolve(n.map(this.anchor));return new ke(s.parent.inlineContent?s:r,r)}replace(e,n=me.empty){if(super.replace(e,n),n==me.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ke&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new vm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ke(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=Re.findFrom(n,r,!0)||Re.findFrom(n,-r,!0);if(o)n=o.$head;else return Re.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Re.findFrom(e,-r,!0)||Re.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ke(e,n)}}Re.jsonID("text",ke);class vm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new vm(e.map(this.anchor),e.map(this.head))}resolve(e){return ke.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ne extends Re{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return r?Re.near(o):new Ne(o)}content(){return new me(ae.from(this.node),0,0)}eq(e){return e instanceof Ne&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hv(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ne(e.resolve(n.anchor))}static create(e,n){return new Ne(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ne.prototype.visible=!1;Re.jsonID("node",Ne);class hv{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new vm(r,r):new hv(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ne.isSelectable(r)?new Ne(n):Re.near(n)}}class Wn extends Re{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=me.empty){if(n==me.empty){e.delete(0,e.doc.content.size);let r=Re.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wn(e)}map(e){return new Wn(e)}eq(e){return e instanceof Wn}getBookmark(){return e9}}Re.jsonID("all",Wn);const e9={map(){return this},resolve(t){return new Wn(t)}};function qa(t,e,n,r,s,o=!1){if(e.inlineContent)return ke.create(t,n);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let c=e.child(l);if(c.isAtom){if(!o&&Ne.isSelectable(c))return Ne.create(t,n-(s<0?c.nodeSize:0))}else{let f=qa(t,c,n+s,s<0?c.childCount:0,s,o);if(f)return f}n+=c.nodeSize*s}return null}function g2(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Ht||s instanceof Ut))return;let o=t.mapping.maps[r],l;o.forEach((c,f,h,m)=>{l==null&&(l=m)}),t.setSelection(Re.near(t.doc.resolve(l),n))}const y2=1,Yf=2,x2=4;class t9 extends fM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|y2)&~Yf,this.storedMarks=null,this}get selectionSet(){return(this.updated&y2)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Yf,this}ensureMarks(e){return st.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Yf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Yf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||st.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Re.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=x2,this}get scrolledIntoView(){return(this.updated&x2)>0}}function b2(t,e){return!e||!t?t:t.bind(e)}class Gc{constructor(e,n,r){this.name=e,this.init=b2(n.init,r),this.apply=b2(n.apply,r)}}const n9=[new Gc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Gc("selection",{init(t,e){return t.selection||Re.atStart(e.doc)},apply(t){return t.selection}}),new Gc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Gc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class z0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=n9.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Gc(r.key,r.spec.state,r))})}}class Ya{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let f=s?s[l].n:0,h=s?s[l].state:this,m=f<n.length&&c.spec.appendTransaction.call(c,f?n.slice(f):n,h,r);if(m&&r.filterTransaction(m,l)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<l?{state:r,n:n.length}:{state:this,n:0})}n.push(m),r=r.applyInner(m),o=!0}s&&(s[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ya(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new t9(this)}static create(e){let n=new z0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ya(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new z0(this.schema,e.plugins),r=n.fields,s=new Ya(n);for(let o=0;o<r.length;o++){let l=r[o].name;s[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new z0(e.schema,e.plugins),o=new Ya(s);return s.fields.forEach(l=>{if(l.name=="doc")o.doc=Di.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=Re.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],h=f.spec.state;if(f.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[l.name]=h.fromJSON.call(f,e,n[c],o);return}}o[l.name]=l.init(e,o)}}),o}}function hM(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=hM(s,e,{})),n[r]=s}return n}class wt{constructor(e){this.spec=e,this.props={},e.props&&hM(e.props,this,this.props),this.key=e.key?e.key.key:pM("plugin")}getState(e){return e[this.key]}}const B0=Object.create(null);function pM(t){return t in B0?t+"$"+ ++B0[t]:(B0[t]=0,t+"$")}class qt{constructor(e="key"){this.key=pM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const pv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function mM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const gM=(t,e,n)=>{let r=mM(t,n);if(!r)return!1;let s=mv(r);if(!s){let l=r.blockRange(),c=l&&Il(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(jM(t,s,e,-1))return!0;if(r.parent.content.size==0&&(ml(o,"end")||Ne.isSelectable(o)))for(let l=r.depth;;l--){let c=bm(t.doc,r.before(l),r.after(l),me.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=t.tr.step(c);f.setSelection(ml(o,"end")?Re.findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):Ne.create(f.doc,s.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},r9=(t,e,n)=>{let r=mM(t,n);if(!r)return!1;let s=mv(r);return s?yM(t,s,e):!1},s9=(t,e,n)=>{let r=bM(t,n);if(!r)return!1;let s=gv(r);return s?yM(t,s,e):!1};function yM(t,e,n){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let l=e.nodeAfter,c=l,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=bm(t.doc,o,f,me.empty);if(!h||h.from!=o||h instanceof Ht&&h.slice.size>=f-o)return!1;if(n){let m=t.tr.step(h);m.setSelection(ke.create(m.doc,o)),n(m.scrollIntoView())}return!0}function ml(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const xM=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=mv(r)}let l=o&&o.nodeBefore;return!l||!Ne.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function mv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function bM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const vM=(t,e,n)=>{let r=bM(t,n);if(!r)return!1;let s=gv(r);if(!s)return!1;let o=s.nodeAfter;if(jM(t,s,e,1))return!0;if(r.parent.content.size==0&&(ml(o,"start")||Ne.isSelectable(o))){let l=bm(t.doc,r.before(),r.after(),me.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(ml(o,"start")?Re.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):Ne.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},SM=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=gv(r)}let l=o&&o.nodeAfter;return!l||!Ne.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,o.pos)).scrollIntoView()),!0)};function gv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const i9=(t,e)=>{let n=t.selection,r=n instanceof Ne,s;if(r){if(n.node.isTextblock||!Yi(t.doc,n.from))return!1;s=n.from}else if(s=xm(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);r&&o.setSelection(Ne.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},o9=(t,e)=>{let n=t.selection,r;if(n instanceof Ne){if(n.node.isTextblock||!Yi(t.doc,n.to))return!1;r=n.to}else if(r=xm(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},a9=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),o=s&&Il(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},wM=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function yv(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const l9=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),l=yv(s.contentMatchAt(o));if(!l||!s.canReplaceWith(o,o,l))return!1;if(e){let c=n.after(),f=t.tr.replaceWith(c,c,l.createAndFill());f.setSelection(Re.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},NM=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Wn||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=yv(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=t.tr.insert(l,o.createAndFill());c.setSelection(ke.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},CM=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Rs(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Il(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function c9(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Ne&&e.selection.node.isBlock)return!r.parentOffset||!Rs(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,c,f=!1,h=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){f=r.end(x)==r.pos+(r.depth-x),h=r.start(x)==r.pos-(r.depth-x),c=yv(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),o.unshift(f&&c?{type:c}:null),l=x;break}else{if(x==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof ke||e.selection instanceof Wn)&&m.deleteSelection();let g=m.mapping.map(r.pos),y=Rs(m.doc,g,o.length,o);if(y||(o[0]=c?{type:c}:null,y=Rs(m.doc,g,o.length,o)),!y)return!1;if(m.split(g,o.length,o),!f&&h&&r.node(l).type!=c){let x=m.mapping.map(r.before(l)),v=m.doc.resolve(x);c&&r.node(l-1).canReplaceWith(v.index(),v.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(l)),c)}return n&&n(m.scrollIntoView()),!0}}const u9=c9(),d9=(t,e)=>{let{$from:n,to:r}=t.selection,s,o=n.sharedDepth(r);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(Ne.create(t.doc,s))),!0)};function f9(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Yi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function jM(t,e,n,r){let s=e.nodeBefore,o=e.nodeAfter,l,c,f=s.type.spec.isolating||o.type.spec.isolating;if(!f&&f9(t,e,n))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(l[0]||o.type).validEnd){if(n){let x=e.pos+o.nodeSize,v=ae.empty;for(let j=l.length-1;j>=0;j--)v=ae.from(l[j].create(null,v));v=ae.from(s.copy(v));let w=t.tr.step(new Ut(e.pos-1,x,e.pos,x,new me(v,1,0),l.length,!0)),N=w.doc.resolve(x+2*l.length);N.nodeAfter&&N.nodeAfter.type==s.type&&Yi(w.doc,N.pos)&&w.join(N.pos),n(w.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&f?null:Re.findFrom(e,1),g=m&&m.$from.blockRange(m.$to),y=g&&Il(g);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(g,y).scrollIntoView()),!0;if(h&&ml(o,"start",!0)&&ml(s,"end")){let x=s,v=[];for(;v.push(x),!x.isTextblock;)x=x.lastChild;let w=o,N=1;for(;!w.isTextblock;w=w.firstChild)N++;if(x.canReplace(x.childCount,x.childCount,w.content)){if(n){let j=ae.empty;for(let E=v.length-1;E>=0;E--)j=ae.from(v[E].copy(j));let A=t.tr.step(new Ut(e.pos-v.length,e.pos+o.nodeSize,e.pos+N,e.pos+o.nodeSize-N,new me(j,v.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function kM(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(ke.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const h9=kM(-1),p9=kM(1);function m9(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,l=s.blockRange(o),c=l&&fv(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function v2(t,e=null){return function(n,r){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(l,c,(f,h)=>{if(s)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)s=!0;else{let m=n.doc.resolve(h),g=m.index();s=m.parent.canReplaceWith(g,g+1,t)}})}if(!s)return!1;if(r){let o=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:f}}=n.selection.ranges[l];o.setBlockType(c,f,t,e)}r(o.scrollIntoView())}return!0}}function xv(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}xv(pv,gM,xM);xv(pv,vM,SM);xv(wM,NM,CM,u9);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function g9(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,l=s.blockRange(o);if(!l)return!1;let c=r?n.tr:null;return y9(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function y9(t,e,n,r=null){let s=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);o=new Yh(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Yh(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=fv(o,n,r,e);return c?(t&&x9(t,e,c,s,n),!0):!1}function x9(t,e,n,r,s){let o=ae.empty;for(let m=n.length-1;m>=0;m--)o=ae.from(n[m].type.create(n[m].attrs,o));t.step(new Ut(e.start-(r?2:0),e.end,e.start,e.end,new me(o,0,0),n.length,!0));let l=0;for(let m=0;m<n.length;m++)n[m].type==s&&(l=m+1);let c=n.length-l,f=e.start+n.length-(r?2:0),h=e.parent;for(let m=e.startIndex,g=e.endIndex,y=!0;m<g;m++,y=!1)!y&&Rs(t.doc,f,c)&&(t.split(f,c),f+=2*c),f+=h.child(m).nodeSize;return t}function b9(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?v9(e,n,t,o):S9(e,n,o):!0:!1}}function v9(t,e,n,r){let s=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(s.step(new Ut(o-1,l,o,l,new me(ae.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Yh(s.doc.resolve(r.$from.pos),s.doc.resolve(l),r.depth));const c=Il(r);if(c==null)return!1;s.lift(r,c);let f=s.doc.resolve(s.mapping.map(o,-1)-1);return Yi(s.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&s.join(f.pos),e(s.scrollIntoView()),!0}function S9(t,e,n){let r=t.tr,s=n.parent;for(let x=n.end,v=n.endIndex-1,w=n.startIndex;v>w;v--)x-=s.child(v).nodeSize,r.delete(x-1,x+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,f=n.endIndex==s.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(c?0:1),m+1,l.content.append(f?ae.empty:ae.from(s))))return!1;let g=o.pos,y=g+l.nodeSize;return r.step(new Ut(g-(c?1:0),y+(f?1:0),g+1,y-1,new me((c?ae.empty:ae.from(s.copy(ae.empty))).append(f?ae.empty:ae.from(s.copy(ae.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function w9(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let c=o.parent,f=c.child(l-1);if(f.type!=t)return!1;if(n){let h=f.lastChild&&f.lastChild.type==c.type,m=ae.from(h?t.create():null),g=new me(ae.from(t.create(null,ae.from(c.type.create(null,m)))),h?3:1,0),y=o.start,x=o.end;n(e.tr.step(new Ut(y-(h?3:1),x,y,x,g,1,!0)).scrollIntoView())}return!0}}const en=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},gl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Wx=null;const Es=function(t,e,n){let r=Wx||(Wx=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},N9=function(){Wx=null},Qo=function(t,e,n,r){return n&&(S2(t,e,n,r,-1)||S2(t,e,n,r,1))},C9=/^(img|br|input|textarea|hr)$/i;function S2(t,e,n,r,s){for(var o;;){if(t==n&&e==r)return!0;if(e==(s<0?0:hr(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Ju(t)||C9.test(t.nodeName)||t.contentEditable=="false")return!1;e=en(t)+(s<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(s<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=l,e=s<0?hr(t):0}else return!1}}function hr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function j9(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=hr(t)}else if(t.parentNode&&!Ju(t))e=en(t),t=t.parentNode;else return null}}function k9(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ju(t))e=en(t)+1,t=t.parentNode;else return null}}function T9(t,e,n){for(let r=e==0,s=e==hr(t);r||s;){if(t==n)return!0;let o=en(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,s=s&&o==hr(t)}}function Ju(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Sm=function(t){return t.focusNode&&Qo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Co(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function E9(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function _9(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(hr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(hr(r.startContainer),r.startOffset)}}}const Jr=typeof navigator<"u"?navigator:null,w2=typeof document<"u"?document:null,Xi=Jr&&Jr.userAgent||"",Yx=/Edge\/(\d+)/.exec(Xi),TM=/MSIE \d/.exec(Xi),Xx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xi),kn=!!(TM||Xx||Yx),Pi=TM?document.documentMode:Xx?+Xx[1]:Yx?+Yx[1]:0,mr=!kn&&/gecko\/(\d+)/i.test(Xi);mr&&+(/Firefox\/(\d+)/.exec(Xi)||[0,0])[1];const Jx=!kn&&/Chrome\/(\d+)/.exec(Xi),ln=!!Jx,EM=Jx?+Jx[1]:0,mn=!kn&&!!Jr&&/Apple Computer/.test(Jr.vendor),yl=mn&&(/Mobile\/\w+/.test(Xi)||!!Jr&&Jr.maxTouchPoints>2),dr=yl||(Jr?/Mac/.test(Jr.platform):!1),M9=Jr?/Win/.test(Jr.platform):!1,Ms=/Android \d/.test(Xi),Zu=!!w2&&"webkitFontSmoothing"in w2.documentElement.style,A9=Zu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function R9(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ns(t,e){return typeof t=="number"?t:t[e]}function O9(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function N2(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=gl(l);continue}let c=l,f=c==o.body,h=f?R9(o):O9(c),m=0,g=0;if(e.top<h.top+Ns(r,"top")?g=-(h.top-e.top+Ns(s,"top")):e.bottom>h.bottom-Ns(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+Ns(s,"top")-h.top:e.bottom-h.bottom+Ns(s,"bottom")),e.left<h.left+Ns(r,"left")?m=-(h.left-e.left+Ns(s,"left")):e.right>h.right-Ns(r,"right")&&(m=e.right-h.right+Ns(s,"right")),m||g)if(f)o.defaultView.scrollBy(m,g);else{let x=c.scrollLeft,v=c.scrollTop;g&&(c.scrollTop+=g),m&&(c.scrollLeft+=m);let w=c.scrollLeft-x,N=c.scrollTop-v;e={left:e.left-w,top:e.top-N,right:e.right-w,bottom:e.bottom-N}}let y=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(y))break;l=y=="absolute"?l.offsetParent:gl(l)}}function D9(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(o,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=n-20){r=c,s=f.top;break}}return{refDOM:r,refTop:s,stack:_M(t.dom)}}function _M(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=gl(r));return e}function I9({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;MM(n,r==0?0:r-e)}function MM(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:o}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Ha=null;function P9(t){if(t.setActive)return t.setActive();if(Ha)return t.focus(Ha);let e=_M(t);t.focus(Ha==null?{get preventScroll(){return Ha={preventScroll:!0},!0}}:void 0),Ha||(Ha=!1,MM(e,0))}function AM(t,e){let n,r=2e8,s,o=0,l=e.top,c=e.top,f,h;for(let m=t.firstChild,g=0;m;m=m.nextSibling,g++){let y;if(m.nodeType==1)y=m.getClientRects();else if(m.nodeType==3)y=Es(m).getClientRects();else continue;for(let x=0;x<y.length;x++){let v=y[x];if(v.top<=l&&v.bottom>=c){l=Math.max(v.bottom,l),c=Math.min(v.top,c);let w=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(w<r){n=m,r=w,s=w&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,m.nodeType==1&&w&&(o=g+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!f&&v.left<=e.left&&v.right>=e.left&&(f=m,h={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(o=g+1)}}return!n&&f&&(n=f,s=h,r=0),n&&n.nodeType==3?L9(n,s):!n||r&&n.nodeType==1?{node:t,offset:o}:AM(n,s)}function L9(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=bi(r,1);if(o.top!=o.bottom&&bv(e,o))return{node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function bv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function z9(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function B9(t,e,n){let{node:r,offset:s}=AM(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,s,o)}function V9(t,e,n,r){let s=-1;for(let o=e,l=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&f.left>r.left||f.top>r.top?s=c.posBefore:(!l&&f.right<r.left||f.bottom<r.top)&&(s=c.posAfter),l=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function RM(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let l=t.childNodes[o];if(l.nodeType==1){let c=l.getClientRects();for(let f=0;f<c.length;f++){let h=c[f];if(bv(e,h))return RM(l,e,h)}}if((o=(o+1)%r)==s)break}return t}function $9(t,e){let n=t.dom.ownerDocument,r,s=0,o=_9(n,e.left,e.top);o&&({node:r,offset:s}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=t.dom.getBoundingClientRect();if(!bv(e,h)||(l=RM(t.dom,e,h),!l))return null}if(mn)for(let h=l;r&&h;h=gl(h))h.draggable&&(r=void 0);if(l=z9(l,e),r){if(mr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let h;Zu&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=V9(t,r,s,e))}c==null&&(c=B9(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function C2(t){return t.top<t.bottom||t.left<t.right}function bi(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(C2(r))return r}return Array.prototype.find.call(n,C2)||t.getBoundingClientRect()}const H9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function OM(t,e,n){let{node:r,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=Zu||mr;if(r.nodeType==3)if(l&&(H9.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let f=bi(Es(r,s,s),n);if(mr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=bi(Es(r,s-1,s-1),-1);if(h.top==f.top){let m=bi(Es(r,s,s+1),-1);if(m.top!=f.top)return zc(m,m.left<h.left)}}return f}else{let f=s,h=s,m=n<0?1:-1;return n<0&&!s?(h++,m=-1):n>=0&&s==r.nodeValue.length?(f--,m=1):n<0?f--:h++,zc(bi(Es(r,f,h),m),m<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==hr(r))){let f=r.childNodes[s-1];if(f.nodeType==1)return V0(f.getBoundingClientRect(),!1)}if(o==null&&s<hr(r)){let f=r.childNodes[s];if(f.nodeType==1)return V0(f.getBoundingClientRect(),!0)}return V0(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==hr(r))){let f=r.childNodes[s-1],h=f.nodeType==3?Es(f,hr(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return zc(bi(h,1),!1)}if(o==null&&s<hr(r)){let f=r.childNodes[s];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?Es(f,0,l?0:1):f.nodeType==1?f:null:null;if(h)return zc(bi(h,-1),!0)}return zc(bi(r.nodeType==3?Es(r):r,-n),n>=0)}function zc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function V0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function DM(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function U9(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return DM(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let l=OM(t,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Es(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.bottom>m.top+1&&(n=="up"?l.top-m.top>(m.bottom-l.top)*2:m.bottom-l.bottom>(l.bottom-m.top)*2))return!1}}return!0})}const F9=/[\u0590-\u08ac]/;function q9(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,l=s==r.parent.content.size,c=t.domSelection();return c?!F9.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:l:DM(t,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:m,anchorOffset:g}=t.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:v,focusOffset:w}=t.domSelectionRange(),N=v&&!x.contains(v.nodeType==1?v:v.parentNode)||f==v&&h==w;try{c.collapse(m,g),f&&(f!=m||h!=g)&&c.extend&&c.extend(f,h)}catch{}return y!=null&&(c.caretBidiLevel=y),N}):r.pos==r.start()||r.pos==r.end()}let j2=null,k2=null,T2=!1;function K9(t,e,n){return j2==e&&k2==n?T2:(j2=e,k2=n,T2=n=="up"||n=="down"?U9(t,e,n):q9(t,e,n))}const gr=0,E2=1,jo=2,Zr=3;class ed{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=gr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>en(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let l=0;l<s.children.length;l++){let c=s.children[l];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],c=o+l.size;if(c>e||l instanceof PM){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof IM&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?en(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?en(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let l=r,c=0;;c++){let f=this.children[c],h=l+f.size;if(s==-1&&e<=h){let m=l+f.border;if(e>=m&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,m);e=l;for(let g=c;g>0;g--){let y=this.children[g-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=en(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(h>n||c==this.children.length-1)){n=h;for(let m=c+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){o=en(g.dom);break}n+=g.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let x=0,v=0;x<this.children.length;x++){let w=this.children[x],N=v+w.size;if(o>v&&l<N)return w.setSelection(e-v-w.border,n-v-w.border,r,s);v=N}let c=this.domFromPos(e,e?-1:1),f=n==e?c:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),g=!1;if((mr||mn)&&e==n){let{node:x,offset:v}=c;if(x.nodeType==3){if(g=!!(v&&x.nodeValue[v-1]==`
`),g&&v==x.nodeValue.length)for(let w=x,N;w;w=w.parentNode){if(N=w.nextSibling){N.nodeName=="BR"&&(c=f={node:N.parentNode,offset:en(N)+1});break}let j=w.pmViewDesc;if(j&&j.node&&j.node.isBlock)break}}else{let w=x.childNodes[v-1];g=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(mr&&m.focusNode&&m.focusNode!=f.node&&m.focusNode.nodeType==1){let x=m.focusNode.childNodes[m.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||g&&mn)&&Qo(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Qo(f.node,f.offset,m.focusNode,m.focusOffset))return;let y=!1;if((h.extend||e==n)&&!(g&&mr)){h.collapse(c.node,c.offset);try{e!=n&&h.extend(f.node,f.offset),y=!0}catch{}}if(!y){if(e>n){let v=c;c=f,f=v}let x=document.createRange();x.setEnd(f.node,f.offset),x.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+o.border,f=l-o.border;if(e>=c&&n<=f){this.dirty=e==r||n==l?jo:E2,e==c&&n==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Zr:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?jo:Zr}r=l}this.dirty=jo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?jo:E2;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class IM extends ed{constructor(e,n,r,s){let o,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==gr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Q9 extends ed{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Go extends ed{constructor(e,n,r,s,o){super(e,[],r,s),this.mark=n,this.spec=o}static create(e,n,r,s){let o=s.nodeViews[n.type.name],l=o&&o(n,s,r);return(!l||!l.dom)&&(l=Jo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Go(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Zr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Zr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=gr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=gr}}slice(e,n,r){let s=Go.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=eb(o,n,l,r)),e>0&&(o=eb(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Li extends ed{constructor(e,n,r,s,o,l,c,f,h){super(e,[],o,l),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,n,r,s,o,l){let c=o.nodeViews[n.type.name],f,h=c&&c(n,o,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},r,s),m=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=Jo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let y=m;return m=BM(m,r,n),h?f=new G9(e,n,r,s,m,g||null,y,h,o,l+1):n.isText?new wm(e,n,r,s,m,y,o):new Li(e,n,r,s,m,g||null,y,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ae.empty)}return e}matchesNode(e,n,r){return this.dirty==gr&&e.eq(this.node)&&Jh(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,c=o&&o.pos<0,f=new Y9(this,l&&l.node,e);Z9(this.node,this.innerDeco,(h,m,g)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&f.syncToMarks(m==this.node.childCount?st.none:this.node.child(m).marks,r,e),f.placeWidget(h,e,s)},(h,m,g,y)=>{f.syncToMarks(h.marks,r,e);let x;f.findNodeMatch(h,m,g,y)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(x=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(h,m,g,x,e)||f.updateNextNode(h,m,g,e,y,s)||f.addNode(h,m,g,e,s),s+=h.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==jo)&&(l&&this.protectLocalComposition(e,l),LM(this.contentDOM,this.children,e),yl&&eU(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof ke)||r<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,c=tU(this.node.content,l,r-n,s-n);return c<0?null:{node:o,pos:c,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new Q9(this,o,n,s);e.input.compositionNodes.push(l),this.children=eb(this.children,r,r+s.length,e,l)}update(e,n,r,s){return this.dirty==Zr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=gr}updateOuterDeco(e){if(Jh(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=zM(this.dom,this.nodeDOM,Zx(this.outerDeco,this.node,n),Zx(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function _2(t,e,n,r,s){BM(r,e,t);let o=new Li(void 0,t,e,n,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class wm extends Li{constructor(e,n,r,s,o,l,c){super(e,n,r,s,o,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Zr||this.dirty!=gr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=gr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=gr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new wm(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Zr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class PM extends ed{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==gr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class G9 extends Li{constructor(e,n,r,s,o,l,c,f,h,m){super(e,n,r,s,o,l,c,h,m),this.spec=f}update(e,n,r,s){if(this.dirty==Zr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function LM(t,e,n){let r=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let l=e[o],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=M2(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(c,r);if(l instanceof Go){let f=r?r.previousSibling:t.lastChild;LM(l.contentDOM,l.children,n),r=f?f.nextSibling:t.firstChild}}for(;r;)r=M2(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const su=function(t){t&&(this.nodeName=t)};su.prototype=Object.create(null);const ko=[new su];function Zx(t,e,n){if(t.length==0)return ko;let r=n?ko[0]:new su,s=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&s.push(r=new su(l.nodeName));for(let c in l){let f=l[c];f!=null&&(n&&s.length==1&&s.push(r=new su(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return s}function zM(t,e,n,r){if(n==ko&&r==ko)return e;let s=e;for(let o=0;o<r.length;o++){let l=r[o],c=n[o];if(o){let f;c&&c.nodeName==l.nodeName&&s!=t&&(f=s.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(s),c=ko[0]),s=f}W9(s,c||ko[0],l)}return s}function W9(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function BM(t,e,n){return zM(t,t,ko,Zx(e,n,t.nodeType!=1))}function Jh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function M2(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Y9{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=X9(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;s<l&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=gr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=Go.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,s){let o=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let h=this.top.children[c];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,s,o){let l=this.top.children[s];return l.dirty==Zr&&l.dom==l.contentDOM&&(l.dirty=jo),l.update(e,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,o,l){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof Li){let h=this.preMatch.matched.get(f);if(h!=null&&h!=o)return!1;let m=f.dom,g,y=this.isLocked(m)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Zr&&Jh(n,f.outerDeco));if(!y&&f.update(e,n,r,s))return this.destroyBetween(this.index,c),f.dom!=m&&(this.changed=!0),this.index++,!0;if(!y&&(g=this.recreateWrapper(f,e,n,r,s,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=jo,g.updateChildren(s,l+1),g.dirty=gr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Jh(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Li.create(this.top,n,r,s,o,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,n,r,s,o){let l=Li.create(this.top,e,n,r,s,o);l.contentDOM&&l.updateChildren(s,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new IM(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Go;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof wm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((mn||ln)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new PM(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function X9(t,e){let n=e,r=n.children.length,s=t.childCount,o=new Map,l=[];e:for(;s>0;){let c;for(;;)if(r){let h=n.children[r-1];if(h instanceof Go)n=h,r=h.children.length;else{c=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let f=c.node;if(f){if(f!=t.child(s-1))break;--s,o.set(c,s),l.push(c)}}return{index:s,matched:o,matches:l.reverse()}}function J9(t,e){return t.type.side-e.type.side}function Z9(t,e,n,r){let s=e.locals(t),o=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let m=t.child(h);r(m,s,e.forChild(o,m),h),o+=m.nodeSize}return}let l=0,c=[],f=null;for(let h=0;;){let m,g;for(;l<s.length&&s[l].to==o;){let N=s[l++];N.widget&&(m?(g||(g=[m])).push(N):m=N)}if(m)if(g){g.sort(J9);for(let N=0;N<g.length;N++)n(g[N],h,!!f)}else n(m,h,!!f);let y,x;if(f)x=-1,y=f,f=null;else if(h<t.childCount)x=h,y=t.child(h++);else break;for(let N=0;N<c.length;N++)c[N].to<=o&&c.splice(N--,1);for(;l<s.length&&s[l].from<=o&&s[l].to>o;)c.push(s[l++]);let v=o+y.nodeSize;if(y.isText){let N=v;l<s.length&&s[l].from<N&&(N=s[l].from);for(let j=0;j<c.length;j++)c[j].to<N&&(N=c[j].to);N<v&&(f=y.cut(N-o),y=y.cut(0,N-o),v=N,x=-1)}else for(;l<s.length&&s[l].to<v;)l++;let w=y.isInline&&!y.isLeaf?c.filter(N=>!N.inline):c.slice();r(y,w,e.forChild(o,y),x),o=v}}function eU(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function tU(t,e,n,r){for(let s=0,o=0;s<t.childCount&&o<=r;){let l=t.child(s++),c=o;if(o+=l.nodeSize,!l.isText)continue;let f=l.text;for(;s<t.childCount;){let h=t.child(s++);if(o+=h.nodeSize,!h.isText)break;f+=h.text}if(o>=n){if(o>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?f.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=n)return c+h;if(n==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function eb(t,e,n,r,s){let o=[];for(let l=0,c=0;l<t.length;l++){let f=t[l],h=c,m=c+=f.size;h>=n||m<=e?o.push(f):(h<e&&o.push(f.slice(0,e-h,r)),s&&(o.push(s),s=void 0),m>n&&o.push(f.slice(n-h,f.size,r)))}return o}function vv(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),f,h;if(Sm(n)){for(f=l;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&Ne.isSelectable(g)&&s.parent&&!(g.isInline&&T9(n.focusNode,n.focusOffset,s.dom))){let y=s.posBefore;h=new Ne(l==y?c:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=l,y=l;for(let x=0;x<n.rangeCount;x++){let v=n.getRangeAt(x);g=Math.min(g,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(g<0)return null;[f,l]=y==t.state.selection.anchor?[y,g]:[g,y],c=r.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let m=r.resolve(f);if(!h){let g=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;h=Sv(t,m,c,g)}return h}function VM(t){return t.editable?t.hasFocus():HM(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Os(t,e=!1){let n=t.state.selection;if($M(t,n),!!VM(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ln){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Qo(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)rU(t);else{let{anchor:r,head:s}=n,o,l;A2&&!(n instanceof ke)&&(n.$from.parent.inlineContent||(o=R2(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=R2(t,n.to))),t.docView.setSelection(r,s,t,e),A2&&(o&&O2(o),l&&O2(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nU(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const A2=mn||ln&&EM<63;function R2(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(mn&&s&&s.contentEditable=="false")return $0(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return $0(s);if(o)return $0(o)}}function $0(t){return t.contentEditable="true",mn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function O2(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function nU(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!VM(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function rU(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,en(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&kn&&Pi<=11&&(n.disabled=!0,n.disabled=!1)}function $M(t,e){if(e instanceof Ne){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(D2(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else D2(t)}function D2(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Sv(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ke.between(e,n,r)}function I2(t){return t.editable&&!t.hasFocus()?!1:HM(t)}function HM(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function sU(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Qo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function tb(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&Re.findFrom(o,e)}function vi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function P2(t,e,n){let r=t.state.selection;if(r instanceof ke)if(n.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return vi(t,new ke(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=tb(t.state,e);return s&&s instanceof Ne?vi(t,s):!1}else if(!(dr&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?Ne.isSelectable(o)?vi(t,new Ne(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):Zu?vi(t,new ke(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ne&&r.node.isInline)return vi(t,new ke(e>0?r.$to:r.$from));{let s=tb(t.state,e);return s?vi(t,s):!1}}}function Zh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function iu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ua(t,e){return e<0?iU(t):oU(t)}function iU(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,o,l=!1;for(mr&&n.nodeType==1&&r<Zh(n)&&iu(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(iu(c,-1))s=n,o=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(UM(n))break;{let c=n.previousSibling;for(;c&&iu(c,-1);)s=n.parentNode,o=en(c),c=c.previousSibling;if(c)n=c,r=Zh(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?nb(t,n,r):s&&nb(t,s,o)}function oU(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Zh(n),o,l;for(;;)if(r<s){if(n.nodeType!=1)break;let c=n.childNodes[r];if(iu(c,1))o=n,l=++r;else break}else{if(UM(n))break;{let c=n.nextSibling;for(;c&&iu(c,1);)o=c.parentNode,l=en(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=Zh(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}o&&nb(t,o,l)}function UM(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function aU(t,e){for(;t&&e==t.childNodes.length&&!Ju(t);)e=en(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function lU(t,e){for(;t&&!e&&!Ju(t);)e=en(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function nb(t,e,n){if(e.nodeType!=3){let o,l;(l=aU(e,n))?(e=l,n=0):(o=lU(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Sm(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Os(t)},50)}function L2(t,e){let n=t.state.doc.resolve(e);if(!(ln||M9)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function z2(t,e,n){let r=t.state.selection;if(r instanceof ke&&!r.empty||n.indexOf("s")>-1||dr&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=tb(t.state,e);if(l&&l instanceof Ne)return vi(t,l)}if(!s.parent.inlineContent){let l=e<0?s:o,c=r instanceof Wn?Re.near(l,e):Re.findFrom(l,e);return c?vi(t,c):!1}return!1}function B2(t,e){if(!(t.state.selection instanceof ke))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function V2(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function cU(t){if(!mn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;V2(t,r,"true"),setTimeout(()=>V2(t,r,"false"),20)}return!1}function uU(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function dU(t,e){let n=e.keyCode,r=uU(e);if(n==8||dr&&n==72&&r=="c")return B2(t,-1)||Ua(t,-1);if(n==46&&!e.shiftKey||dr&&n==68&&r=="c")return B2(t,1)||Ua(t,1);if(n==13||n==27)return!0;if(n==37||dr&&n==66&&r=="c"){let s=n==37?L2(t,t.state.selection.from)=="ltr"?-1:1:-1;return P2(t,s,r)||Ua(t,s)}else if(n==39||dr&&n==70&&r=="c"){let s=n==39?L2(t,t.state.selection.from)=="ltr"?1:-1:1;return P2(t,s,r)||Ua(t,s)}else{if(n==38||dr&&n==80&&r=="c")return z2(t,-1,r)||Ua(t,-1);if(n==40||dr&&n==78&&r=="c")return cU(t)||z2(t,1,r)||Ua(t,1);if(r==(dr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function wv(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let l=t.someProp("clipboardSerializer")||Jo.fromSchema(t.state.schema),c=WM(),f=c.createElement("div");f.appendChild(l.serializeFragment(r,{document:c}));let h=f.firstChild,m,g=0;for(;h&&h.nodeType==1&&(m=GM[h.nodeName.toLowerCase()]);){for(let x=m.length-1;x>=0;x--){let v=c.createElement(m[x]);for(;f.firstChild;)v.appendChild(f.firstChild);f.appendChild(v),g++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${g?` -${g}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:y,slice:e}}function FM(t,e,n,r,s){let o=s.parent.type.spec.code,l,c;if(!n&&!e)return null;let f=!!e&&(r||o||!n);if(f){if(t.someProp("transformPastedText",y=>{e=y(e,o||r,t)}),o)return c=new me(ae.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",y=>{c=y(c,t,!0)}),c;let g=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(g)c=g;else{let y=s.marks(),{schema:x}=t.state,v=Jo.fromSchema(x);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let N=l.appendChild(document.createElement("p"));w&&N.appendChild(v.serializeNode(x.text(w,y)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),l=mU(n),Zu&&gU(l);let h=l&&l.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let y=l.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;l=y}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||Ii.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||m),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!fU.test(y.parentNode.nodeName)?{ignore:!0}:null}})),m)c=yU($2(c,+m[1],+m[2]),m[4]);else if(c=me.maxOpen(hU(c.content,s),!0),c.openStart||c.openEnd){let g=0,y=0;for(let x=c.content.firstChild;g<c.openStart&&!x.type.spec.isolating;g++,x=x.firstChild);for(let x=c.content.lastChild;y<c.openEnd&&!x.type.spec.isolating;y++,x=x.lastChild);c=$2(c,g,y)}return t.someProp("transformPasted",g=>{c=g(c,t,f)}),c}const fU=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hU(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(c=>{if(!l)return;let f=s.findWrapping(c.type),h;if(!f)return l=null;if(h=l.length&&o.length&&KM(f,o,c,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=QM(l[l.length-1],o.length));let m=qM(c,f);l.push(m),s=s.matchType(m.type),o=f}}),l)return ae.from(l)}return t}function qM(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ae.from(t));return t}function KM(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=KM(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(ae.from(qM(n,t,s+1))))}}function QM(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,QM(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ae.empty,!0);return t.copy(n.append(r))}function rb(t,e,n,r,s,o){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(o=0),s<r-1&&(c=rb(c,e,n,r,s+1,o)),s>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(ae.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function $2(t,e,n){return e<t.openStart&&(t=new me(rb(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new me(rb(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const GM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let H2=null;function WM(){return H2||(H2=document.implementation.createHTMLDocument("title"))}let H0=null;function pU(t){let e=window.trustedTypes;return e?(H0||(H0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),H0.createHTML(t)):t}function mU(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=WM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&GM[r[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=pU(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function gU(t){let e=t.querySelectorAll(ln?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function yU(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let f=n.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;s=ae.from(f.create(r[c+1],s)),o++,l++}return new me(s,o,l)}const gn={},yn={},xU={touchstart:!0,touchmove:!0};class bU{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vU(t){for(let e in gn){let n=gn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{wU(t,r)&&!Nv(t,r)&&(t.editable||!(r.type in yn))&&n(t,r)},xU[e]?{passive:!0}:void 0)}mn&&t.dom.addEventListener("input",()=>null),sb(t)}function Mi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function SU(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function sb(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Nv(t,r))})}function Nv(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function wU(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function NU(t,e){!Nv(t,e)&&gn[e.type]&&(t.editable||!(e.type in yn))&&gn[e.type](t,e)}yn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!XM(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ms&&ln&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),yl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Co(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||dU(t,n)?n.preventDefault():Mi(t,"key")};yn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};yn.keypress=(t,e)=>{let n=e;if(XM(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||dr&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ke)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function Nm(t){return{left:t.clientX,top:t.clientY}}function CU(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Cv(t,e,n,r,s){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,c=>l>o.depth?c(t,n,o.nodeAfter,o.before(l),s,!0):c(t,n,o.node(l),o.before(l),s,!1)))return!0;return!1}function nl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function jU(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ne.isSelectable(r)?(nl(t,new Ne(n)),!0):!1}function kU(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Ne&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l);if(Ne.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(l);break}}return s!=null?(nl(t,Ne.create(t.state.doc,s)),!0):!1}function TU(t,e,n,r,s){return Cv(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(s?kU(t,n):jU(t,n))}function EU(t,e,n,r){return Cv(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function _U(t,e,n,r){return Cv(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||MU(t,n,r)}function MU(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(nl(t,ke.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(l.inlineContent)nl(t,ke.create(r,c+1,c+1+l.content.size));else if(Ne.isSelectable(l))nl(t,Ne.create(r,c));else continue;return!0}}function jv(t){return ep(t)}const YM=dr?"metaKey":"ctrlKey";gn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=jv(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&CU(n,t.input.lastClick)&&!n[YM]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let l=t.posAtCoords(Nm(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new AU(t,l,n,!!r)):(o=="doubleClick"?EU:_U)(t,l.pos,l.inside,n)?n.preventDefault():Mi(t,"pointer"))};class AU{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[YM],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let m=e.state.doc.resolve(n.pos);o=m.parent,l=m.depth?m.before():0}const c=s?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof Ne&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&mr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Mi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Os(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Nm(e))),this.updateAllowDefault(e),this.allowDefault||!n?Mi(this.view,"pointer"):TU(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||mn&&this.mightDrag&&!this.mightDrag.node.isAtom||ln&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(nl(this.view,Re.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Mi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Mi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}gn.touchstart=t=>{t.input.lastTouch=Date.now(),jv(t),Mi(t,"pointer")};gn.touchmove=t=>{t.input.lastTouch=Date.now(),Mi(t,"pointer")};gn.contextmenu=t=>jv(t);function XM(t,e){return t.composing?!0:mn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const RU=Ms?5e3:-1;yn.compositionstart=yn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ke&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ep(t,!0),t.markCursor=null;else if(ep(t,!e.selection.empty),mr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let l=o<0?s.lastChild:s.childNodes[o-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else s=l,o=-1}}t.input.composing=!0}JM(t,RU)};yn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,JM(t,20))};function JM(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ep(t),e))}function ZM(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=DU());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function OU(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=j9(e.focusNode,e.focusOffset),r=k9(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function DU(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ep(t,e=!1){if(!(Ms&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),ZM(t),e||t.docView&&t.docView.dirty){let n=vv(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function IU(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Eu=kn&&Pi<15||yl&&A9<604;gn.copy=yn.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let o=Eu?null:n.clipboardData,l=r.content(),{dom:c,text:f}=wv(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",f)):IU(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function PU(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function LU(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?_u(t,r.value,null,s,e):_u(t,r.textContent,r.innerHTML,s,e)},50)}function _u(t,e,n,r,s){let o=FM(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,s,o||me.empty)))return!0;if(!o)return!1;let l=PU(o),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function eA(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}yn.paste=(t,e)=>{let n=e;if(t.composing&&!Ms)return;let r=Eu?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&_u(t,eA(r),r.getData("text/html"),s,n)?n.preventDefault():LU(t,n)};class tA{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const zU=dr?"altKey":"ctrlKey";function nA(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[zU]}gn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(Nm(n)),l;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof Ne?s.to-1:s.to))){if(r&&r.mightDrag)l=Ne.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(l=Ne.create(t.state.doc,g.posBefore))}}let c=(l||t.state.selection).content(),{dom:f,text:h,slice:m}=wv(t,c);(!n.dataTransfer.files.length||!ln||EM>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Eu?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",Eu||n.dataTransfer.setData("text/plain",h),t.dragging=new tA(m,nA(t,n),l)};gn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};yn.dragover=yn.dragenter=(t,e)=>e.preventDefault();yn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Nm(n));if(!s)return;let o=t.state.doc.resolve(s.pos),l=r&&r.slice;l?t.someProp("transformPasted",v=>{l=v(l,t,!1)}):l=FM(t,eA(n.dataTransfer),Eu?null:n.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&nA(t,n));if(t.someProp("handleDrop",v=>v(t,n,l||me.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let f=l?aM(t.state.doc,o.pos,l):o.pos;f==null&&(f=o.pos);let h=t.state.tr;if(c){let{node:v}=r;v?v.replace(h):h.deleteSelection()}let m=h.mapping.map(f),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,y=h.doc;if(g?h.replaceRangeWith(m,m,l.content.firstChild):h.replaceRange(m,m,l),h.doc.eq(y))return;let x=h.doc.resolve(m);if(g&&Ne.isSelectable(l.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new Ne(x));else{let v=h.mapping.map(f);h.mapping.maps[h.mapping.maps.length-1].forEach((w,N,j,A)=>v=A),h.setSelection(Sv(t,x,h.doc.resolve(v)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))};gn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Os(t)},20))};gn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};gn.beforeinput=(t,e)=>{if(ln&&Ms&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Co(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in yn)gn[t]=yn[t];function Mu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class tp{constructor(e,n){this.toDOM=e,this.spec=n||Do,this.side=this.spec.side||0}map(e,n,r,s){let{pos:o,deleted:l}=e.mapResult(n.from+s,this.side<0?-1:1);return l?null:new hn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof tp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Mu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class zi{constructor(e,n){this.attrs=e,this.spec=n||Do}map(e,n,r,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new hn(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof zi&&Mu(this.attrs,e.attrs)&&Mu(this.spec,e.spec)}static is(e){return e.type instanceof zi}destroy(){}}class kv{constructor(e,n){this.attrs=e,this.spec=n||Do}map(e,n,r,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let l=e.mapResult(n.to+s,-1);return l.deleted||l.pos<=o.pos?null:new hn(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(r)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof kv&&Mu(this.attrs,e.attrs)&&Mu(this.spec,e.spec)}destroy(){}}class hn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new hn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new hn(e,e,new tp(n,r))}static inline(e,n,r,s){return new hn(e,n,new zi(r,s))}static node(e,n,r,s){return new hn(e,n,new kv(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof zi}get widget(){return this.type instanceof tp}}const Ka=[],Do={};class ft{constructor(e,n){this.local=e.length?e:Ka,this.children=n.length?n:Ka}static create(e,n){return n.length?np(n,e,0,Do):an}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,o){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,s+c,o)}}map(e,n,r){return this==an||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Do)}mapInner(e,n,r,s,o){let l;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,s);f&&f.type.valid(n,f)?(l||(l=[])).push(f):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?BU(this.children,l||[],e,n,r,s,o):l?new ft(l.sort(Io),Ka):an}add(e,n){return n.length?this==an?ft.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,o=0;e.forEach((c,f)=>{let h=f+r,m;if(m=sA(n,c,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<f;)o+=3;s[o]==f?s[o+2]=s[o+2].addInner(c,m,h+1):s.splice(o,0,f,f+c.nodeSize,np(m,c,h+1,Do)),o+=3}});let l=rA(o?iA(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new ft(l.length?this.local.concat(l).sort(Io):this.local,s||this.children)}remove(e){return e.length==0||this==an?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let l,c=r[o]+n,f=r[o+1]+n;for(let m=0,g;m<e.length;m++)(g=e[m])&&g.from>c&&g.to<f&&(e[m]=null,(l||(l=[])).push(g));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(l,c+1);h!=an?r[o+2]=h:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let c=0;c<s.length;c++)s[c].eq(l,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ft(s,r):an}forChild(e,n){if(this==an)return this;if(n.isLeaf)return ft.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,l=o+n.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<l&&f.to>o&&f.type instanceof zi){let h=Math.max(o,f.from)-o,m=Math.min(l,f.to)-o;h<m&&(s||(s=[])).push(f.copy(h,m))}}if(s){let c=new ft(s.sort(Io),Ka);return r?new Ci([c,r]):c}return r||an}eq(e){if(this==e)return!0;if(!(e instanceof ft)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Tv(this.localsInner(e))}localsInner(e){if(this==an)return Ka;if(e.inlineContent||!this.local.some(zi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof zi||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ft.empty=new ft([],[]);ft.removeOverlap=Tv;const an=ft.empty;class Ci{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Do));return Ci.from(r)}forChild(e,n){if(n.isLeaf)return ft.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=an&&(o instanceof Ci?r=r.concat(o.members):r.push(o))}return Ci.from(r)}eq(e){if(!(e instanceof Ci)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?Tv(r?n:n.sort(Io)):Ka}static from(e){switch(e.length){case 0:return an;case 1:return e[0];default:return new Ci(e.every(n=>n instanceof ft)?e:e.reduce((n,r)=>n.concat(r instanceof ft?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function BU(t,e,n,r,s,o,l){let c=t.slice();for(let h=0,m=o;h<n.maps.length;h++){let g=0;n.maps[h].forEach((y,x,v,w)=>{let N=w-v-(x-y);for(let j=0;j<c.length;j+=3){let A=c[j+1];if(A<0||y>A+m-g)continue;let E=c[j]+m-g;x>=E?c[j+1]=y<=E?-2:-1:y>=m&&N&&(c[j]+=N,c[j+1]+=N)}g+=N}),m=n.maps[h].map(m,-1)}let f=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){f=!0,c[h+1]=-1;continue}let m=n.map(t[h]+o),g=m-s;if(g<0||g>=r.content.size){f=!0;continue}let y=n.map(t[h+1]+o,-1),x=y-s,{index:v,offset:w}=r.content.findIndex(g),N=r.maybeChild(v);if(N&&w==g&&w+N.nodeSize==x){let j=c[h+2].mapInner(n,N,m+1,t[h]+o+1,l);j!=an?(c[h]=g,c[h+1]=x,c[h+2]=j):(c[h+1]=-2,f=!0)}else f=!0}if(f){let h=VU(c,t,e,n,s,o,l),m=np(h,r,0,l);e=m.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,y=0;g<m.children.length;g+=3){let x=m.children[g];for(;y<c.length&&c[y]<x;)y+=3;c.splice(y,0,m.children[g],m.children[g+1],m.children[g+2])}}return new ft(e.sort(Io),c)}function rA(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new hn(s.from+e,s.to+e,s.type))}return n}function VU(t,e,n,r,s,o,l){function c(f,h){for(let m=0;m<f.local.length;m++){let g=f.local[m].map(r,s,h);g?n.push(g):l.onRemove&&l.onRemove(f.local[m].spec)}for(let m=0;m<f.children.length;m+=3)c(f.children[m+2],f.children[m]+h+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&c(t[f+2],e[f]+o+1);return n}function sA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((s||(s=[])).push(l),t[o]=null);return s}function iA(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function np(t,e,n,r){let s=[],o=!1;e.forEach((c,f)=>{let h=sA(t,c,f+n);if(h){o=!0;let m=np(h,c,n+f+1,r);m!=an&&s.push(f,f+c.nodeSize,m)}});let l=rA(o?iA(t):t,-n).sort(Io);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||s.length?new ft(l,s):an}function Io(t,e){return t.from-e.from||t.to-e.to}function Tv(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,r.to),U2(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),U2(e,s,r.copy(o.from,r.to)));break}}}return e}function U2(t,e,n){for(;e<t.length&&Io(n,t[e])>0;)e++;t.splice(e,0,n)}function U0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=an&&e.push(r)}),t.cursorWrapper&&e.push(ft.create(t.state.doc,[t.cursorWrapper.deco])),Ci.from(e)}const $U={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},HU=kn&&Pi<=11;class UU{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class FU{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new UU,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);kn&&Pi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),HU&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,$U)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(I2(this.view)){if(this.suppressingSelectionUpdates)return Os(this.view);if(kn&&Pi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Qo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=gl(o))n.add(o);for(let o=e.anchorNode;o;o=gl(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&I2(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,c=!1,f=[];if(e.editable)for(let m=0;m<n.length;m++){let g=this.registerMutation(n[m],f);g&&(o=o<0?g.from:Math.min(g.from,o),l=l<0?g.to:Math.max(g.to,l),g.typeOver&&(c=!0))}if(mr&&f.length){let m=f.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,y]=m;g.parentNode&&g.parentNode.parentNode==y.parentNode?y.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let y of m){let x=y.parentNode;x&&x.nodeName=="LI"&&(!g||QU(e,g)!=x)&&y.remove()}}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Sm(r)&&(h=vv(e))&&h.eq(Re.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Os(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,l),qU(e)),this.handleDOMChange(o,l,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Os(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let g=e.addedNodes[m];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(kn&&Pi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:g,nextSibling:y}=e.addedNodes[m];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let l=s&&s.parentNode==e.target?en(s)+1:0,c=r.localPosFromDOM(e.target,l,-1),f=o&&o.parentNode==e.target?en(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let F2=new WeakMap,q2=!1;function qU(t){if(!F2.has(t)&&(F2.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=mr,q2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),q2=!0}}function K2(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Qo(l.node,l.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}function KU(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return K2(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?K2(t,n):null}function QU(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function GU(t,e,n){let{node:r,fromOffset:s,toOffset:o,from:l,to:c}=t.docView.parseRange(e,n),f=t.domSelectionRange(),h,m=f.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:f.anchorOffset}],Sm(f)||h.push({node:f.focusNode,offset:f.focusOffset})),ln&&t.input.lastKeyCode===8)for(let N=o;N>s;N--){let j=r.childNodes[N-1],A=j.pmViewDesc;if(j.nodeName=="BR"&&!A){o=N;break}if(!A||A.size)break}let g=t.state.doc,y=t.someProp("domParser")||Ii.fromSchema(t.state.schema),x=g.resolve(l),v=null,w=y.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:o,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:WU,context:x});if(h&&h[0].pos!=null){let N=h[0].pos,j=h[1]&&h[1].pos;j==null&&(j=N),v={anchor:N+l,head:j+l}}return{doc:w,sel:v,from:l,to:c}}function WU(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(mn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||mn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const YU=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function XU(t,e,n,r,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,R=vv(t,M);if(R&&!t.state.selection.eq(R)){if(ln&&Ms&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",L=>L(t,Co(13,"Enter"))))return;let I=t.state.tr.setSelection(R);M=="pointer"?I.setMeta("pointer",!0):M=="key"&&I.scrollIntoView(),o&&I.setMeta("composition",o),t.dispatch(I)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let f=t.state.selection,h=GU(t,e,n),m=t.state.doc,g=m.slice(h.from,h.to),y,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,x="end"):(y=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let v=eF(g.content,h.doc.content,h.from,y,x);if(v&&t.input.domChangeCount++,(yl&&t.input.lastIOSEnter>Date.now()-225||Ms)&&s.some(M=>M.nodeType==1&&!YU.test(M.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",M=>M(t,Co(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(r&&f instanceof ke&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))v={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let M=Q2(t,t.state.doc,h.sel);if(M&&!M.eq(t.state.selection)){let R=t.state.tr.setSelection(M);o&&R.setMeta("composition",o),t.dispatch(R)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof ke&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),kn&&Pi<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>h.from&&h.doc.textBetween(v.start-h.from-1,v.start-h.from+1)==" "&&(v.start--,v.endA--,v.endB--);let w=h.doc.resolveNoCache(v.start-h.from),N=h.doc.resolveNoCache(v.endB-h.from),j=m.resolve(v.start),A=w.sameParent(N)&&w.parent.inlineContent&&j.end()>=v.endA;if((yl&&t.input.lastIOSEnter>Date.now()-225&&(!A||s.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!A&&w.pos<h.doc.content.size&&(!w.sameParent(N)||!w.parent.inlineContent)&&w.pos<N.pos&&!/\S/.test(h.doc.textBetween(w.pos,N.pos,"","")))&&t.someProp("handleKeyDown",M=>M(t,Co(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&ZU(m,v.start,v.endA,w,N)&&t.someProp("handleKeyDown",M=>M(t,Co(8,"Backspace")))){Ms&&ln&&t.domObserver.suppressSelectionUpdates();return}ln&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),Ms&&!A&&w.start()!=N.start()&&N.parentOffset==0&&w.depth==N.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==v.endA&&(v.endB-=2,N=h.doc.resolveNoCache(v.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,Co(13,"Enter"))})},20));let E=v.start,_=v.endA,T=M=>{let R=M||t.state.tr.replace(E,_,h.doc.slice(v.start-h.from,v.endB-h.from));if(h.sel){let I=Q2(t,R.doc,h.sel);I&&!(ln&&t.composing&&I.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(I.head==E||I.head==R.mapping.map(_)-1)||kn&&I.empty&&I.head==E)&&R.setSelection(I)}return o&&R.setMeta("composition",o),R.scrollIntoView()},O;if(A)if(w.pos==N.pos){kn&&Pi<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Os(t),20));let M=T(t.state.tr.delete(E,_)),R=m.resolve(v.start).marksAcross(m.resolve(v.endA));R&&M.ensureMarks(R),t.dispatch(M)}else if(v.endA==v.endB&&(O=JU(w.parent.content.cut(w.parentOffset,N.parentOffset),j.parent.content.cut(j.parentOffset,v.endA-j.start())))){let M=T(t.state.tr);O.type=="add"?M.addMark(E,_,O.mark):M.removeMark(E,_,O.mark),t.dispatch(M)}else if(w.parent.child(w.index()).isText&&w.index()==N.index()-(N.textOffset?0:1)){let M=w.parent.textBetween(w.parentOffset,N.parentOffset),R=()=>T(t.state.tr.insertText(M,E,_));t.someProp("handleTextInput",I=>I(t,E,_,M,R))||t.dispatch(R())}else t.dispatch(T());else t.dispatch(T())}function Q2(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Sv(t,e.resolve(n.anchor),e.resolve(n.head))}function JU(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,l,c,f;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<n.length;m++)o=n[m].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],l="add",f=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&o.length==1)c=o[0],l="remove",f=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(f(e.child(m)));if(ae.from(h).eq(t))return{mark:c,type:l}}function ZU(t,e,n,r,s){if(n-e<=s.pos-r.pos||F0(r,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(F0(o,!0,!0));return!l.parent.isTextblock||l.pos>n||F0(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function F0(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function eF(t,e,n,r,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let f=Math.max(0,o-Math.min(l,c));r-=l+f-o}if(l<o&&t.size<e.size){let f=r<=o&&r>=l?o-r:0;o-=f,o&&o<e.size&&G2(e.textBetween(o-1,o+1))&&(o+=f?1:-1),c=o+(c-l),l=o}else if(c<o){let f=r<=o&&r>=c?o-r:0;o-=f,o&&o<t.size&&G2(t.textBetween(o-1,o+1))&&(o+=f?1:-1),l=o+(l-c),c=o}return{start:o,endA:l,endB:c}}function G2(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class oA{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new bU,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Z2),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=X2(this),Y2(this),this.nodeViews=J2(this),this.docView=_2(this.state.doc,W2(this),U0(this),this.dom,this),this.domObserver=new FU(this,(r,s,o,l)=>XU(this,r,s,o,l)),this.domObserver.start(),vU(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&sb(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Z2),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(ZM(this),l=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=J2(this);nF(x,this.nodeViews)&&(this.nodeViews=x,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&sb(this),this.editable=X2(this),Y2(this);let f=U0(this),h=W2(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=o||!this.docView.matchesNode(e.doc,h,f);(g||!e.selection.eq(s.selection))&&(l=!0);let y=m=="preserve"&&l&&this.dom.style.overflowAnchor==null&&D9(this);if(l){this.domObserver.stop();let x=g&&(kn||ln)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&tF(s.selection,e.selection);if(g){let v=ln?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=OU(this)),(o||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=_2(e.doc,h,f,this.dom,this)),v&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&sU(this))?Os(this,x):($M(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():y&&I9(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ne){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&N2(this,n.getBoundingClientRect(),e)}else N2(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new tA(e.slice,e.move,s<0?void 0:Ne.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(s=n?n(c):c))return s}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let c=o[l].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(kn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&P9(this.dom),Os(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return $9(this,e)}coordsAtPos(e,n=1){return OM(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return K9(this,n||this.state,e)}pasteHTML(e,n){return _u(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return _u(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return wv(this,e)}destroy(){this.docView&&(SU(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],U0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,N9())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return NU(this,e)}domSelectionRange(){let e=this.domSelection();return e?mn&&this.root.nodeType===11&&E9(this.dom.ownerDocument)==this.dom&&KU(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}oA.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function W2(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[hn.node(0,t.state.doc.content.size,e)]}function Y2(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:hn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function X2(t){return!t.someProp("editable",e=>e(t.state)===!1)}function tF(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function J2(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function nF(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Z2(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var qi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rF=typeof navigator<"u"&&/Mac/.test(navigator.platform),sF=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var tn=0;tn<10;tn++)qi[48+tn]=qi[96+tn]=String(tn);for(var tn=1;tn<=24;tn++)qi[tn+111]="F"+tn;for(var tn=65;tn<=90;tn++)qi[tn]=String.fromCharCode(tn+32),rp[tn]=String.fromCharCode(tn);for(var q0 in qi)rp.hasOwnProperty(q0)||(rp[q0]=qi[q0]);function iF(t){var e=rF&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||sF&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?rp:qi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const oF=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),aF=typeof navigator<"u"&&/Win/.test(navigator.platform);function lF(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,o,l;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))oF?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function cF(t){let e=Object.create(null);for(let n in t)e[lF(n)]=t[n];return e}function K0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function uF(t){return new wt({props:{handleKeyDown:aA(t)}})}function aA(t){let e=cF(t);return function(n,r){let s=iF(r),o,l=e[K0(s,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[K0(s,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(aF&&r.ctrlKey&&r.altKey)&&(o=qi[r.keyCode])&&o!=s){let c=e[K0(o,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var dF=Object.defineProperty,Ev=(t,e)=>{for(var n in e)dF(t,n,{get:e[n],enumerable:!0})};function Cm(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,o=n.storedMarks,n}}}var jm=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...h)=>{const m=c(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,l=[],c=!!t,f=t||s.tr,h=()=>(!c&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),l.every(g=>g===!0)),m={...Object.fromEntries(Object.entries(n).map(([g,y])=>[g,(...v)=>{const w=this.buildProps(f,e),N=y(...v)(w);return l.push(N),m}])),run:h};return m}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...h)=>f(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,l={tr:t,editor:r,view:o,state:Cm({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,f])=>[c,(...h)=>f(...h)(l)]))}};return l}},lA={};Ev(lA,{blur:()=>fF,clearContent:()=>hF,clearNodes:()=>pF,command:()=>mF,createParagraphNear:()=>gF,cut:()=>yF,deleteCurrentNode:()=>xF,deleteNode:()=>bF,deleteRange:()=>vF,deleteSelection:()=>SF,enter:()=>wF,exitCode:()=>NF,extendMarkRange:()=>CF,first:()=>jF,focus:()=>TF,forEach:()=>EF,insertContent:()=>_F,insertContentAt:()=>RF,joinBackward:()=>IF,joinDown:()=>DF,joinForward:()=>PF,joinItemBackward:()=>LF,joinItemForward:()=>zF,joinTextblockBackward:()=>BF,joinTextblockForward:()=>VF,joinUp:()=>OF,keyboardShortcut:()=>HF,lift:()=>UF,liftEmptyBlock:()=>FF,liftListItem:()=>qF,newlineInCode:()=>KF,resetAttributes:()=>QF,scrollIntoView:()=>GF,selectAll:()=>WF,selectNodeBackward:()=>YF,selectNodeForward:()=>XF,selectParentNode:()=>JF,selectTextblockEnd:()=>ZF,selectTextblockStart:()=>eq,setContent:()=>tq,setMark:()=>bq,setMeta:()=>vq,setNode:()=>Sq,setNodeSelection:()=>wq,setTextSelection:()=>Nq,sinkListItem:()=>Cq,splitBlock:()=>jq,splitListItem:()=>kq,toggleList:()=>Tq,toggleMark:()=>Eq,toggleNode:()=>_q,toggleWrap:()=>Mq,undoInputRule:()=>Aq,unsetAllMarks:()=>Rq,unsetMark:()=>Oq,updateAttributes:()=>Dq,wrapIn:()=>Iq,wrapInList:()=>Pq});var fF=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),hF=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),pF=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:o,$to:l})=>{t.doc.nodesBetween(o.pos,l.pos,(c,f)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,g=h.resolve(m.map(f)),y=h.resolve(m.map(f+c.nodeSize)),x=g.blockRange(y);if(!x)return;const v=Il(x);if(c.type.isTextblock){const{defaultType:w}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(x.start,w)}(v||v===0)&&e.lift(x,v)})}),!0},mF=t=>e=>t(e),gF=()=>({state:t,dispatch:e})=>NM(t,e),yF=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new ke(r.doc.resolve(Math.max(l-1,0)))),!0},xF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),f=s.after(o);t.delete(c,f).scrollIntoView()}return!0}return!1};function Rt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var bF=t=>({tr:e,state:n,dispatch:r})=>{const s=Rt(t,n.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===s){if(r){const f=o.before(l),h=o.after(l);e.delete(f,h).scrollIntoView()}return!0}return!1},vF=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},SF=()=>({state:t,dispatch:e})=>pv(t,e),wF=()=>({commands:t})=>t.keyboardShortcut("Enter"),NF=()=>({state:t,dispatch:e})=>l9(t,e);function _v(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function sp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:_v(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function cA(t,e,n={}){return t.find(r=>r.type===e&&sp(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function ek(t,e,n={}){return!!cA(t,e,n)}function Mv(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!cA([...s.node.marks],e,n)))return;let l=s.index,c=t.start()+s.offset,f=l+1,h=c+s.node.nodeSize;for(;l>0&&ek([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&ek([...t.parent.child(f).marks],e,n);)h+=t.parent.child(f).nodeSize,f+=1;return{from:c,to:h}}function Hs(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var CF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const o=Hs(t,r.schema),{doc:l,selection:c}=n,{$from:f,from:h,to:m}=c;if(s){const g=Mv(f,o,e);if(g&&g.from<=h&&g.to>=m){const y=ke.create(l,g.from,g.to);n.setSelection(y)}}return!0},jF=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function uA(t){return t instanceof ke}function To(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function dA(t,e=null){if(!e)return null;const n=Re.atStart(t),r=Re.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,o=r.to;return e==="all"?ke.create(t,To(0,s,o),To(t.content.size,s,o)):ke.create(t,To(e,s,o),To(e,s,o))}function kF(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Av(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var TF=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(Av()||kF())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!uA(n.state.selection))return l(),!0;const c=dA(s.doc,t)||n.state.selection,f=n.state.selection.eq(c);return o&&(f||s.setSelection(c),f&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},EF=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),_F=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),fA=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&fA(r)}return t};function Xf(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return fA(n)}function Au(t,e,n){if(t instanceof Di||t instanceof ae)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ae.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Au("",e,n)}if(s){if(n.errorOnInvalidContent){let l=!1,c="";const f=new Y_({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?Ii.fromSchema(f).parseSlice(Xf(t),n.parseOptions):Ii.fromSchema(f).parse(Xf(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=Ii.fromSchema(e);return n.slice?o.parseSlice(Xf(t),n.parseOptions).content:o.parse(Xf(t),n.parseOptions)}return Au("",e,n)}function MF(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Ht||s instanceof Ut))return;const o=t.mapping.maps[r];let l=0;o.forEach((c,f,h,m)=>{l===0&&(l=m)}),t.setSelection(Re.near(t.doc.resolve(l),n))}var AF=t=>!("type"in t),RF=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{var l;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const f=N=>{o.emit("contentError",{editor:o,error:N,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Au(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(N){f(N)}try{c=Au(e,o.schema,{parseOptions:h,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(N){return f(N),!1}let{from:m,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,x=!0;if((AF(c)?c:[c]).forEach(N=>{N.check(),y=y?N.isText&&N.marks.length===0:!1,x=x?N.isBlock:!1}),m===g&&x){const{parent:N}=r.doc.resolve(m);N.isTextblock&&!N.type.spec.code&&!N.childCount&&(m-=1,g+=1)}let w;if(y){if(Array.isArray(e))w=e.map(N=>N.text||"").join("");else if(e instanceof ae){let N="";e.forEach(j=>{j.text&&(N+=j.text)}),w=N}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,m,g)}else{w=c;const N=r.doc.resolve(m),j=N.node(),A=N.parentOffset===0,E=j.isText||j.isTextblock,_=j.content.size>0;A&&E&&_&&(m=Math.max(0,m-1)),r.replaceWith(m,g,w)}n.updateSelection&&MF(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:w}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:w})}return!0},OF=()=>({state:t,dispatch:e})=>i9(t,e),DF=()=>({state:t,dispatch:e})=>o9(t,e),IF=()=>({state:t,dispatch:e})=>gM(t,e),PF=()=>({state:t,dispatch:e})=>vM(t,e),LF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=xm(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},zF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=xm(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},BF=()=>({state:t,dispatch:e})=>r9(t,e),VF=()=>({state:t,dispatch:e})=>s9(t,e);function hA(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function $F(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,o,l;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))Av()||hA()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var HF=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const o=$F(t).split(/-(?!$)/),l=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,c))});return f?.steps.forEach(h=>{const m=h.map(r.mapping);m&&s&&r.maybeStep(m)}),!0};function Ki(t,e,n={}){const{from:r,to:s,empty:o}=t.selection,l=e?Rt(e,t.schema):null,c=[];t.doc.nodesBetween(r,s,(g,y)=>{if(g.isText)return;const x=Math.max(r,y),v=Math.min(s,y+g.nodeSize);c.push({node:g,from:x,to:v})});const f=s-r,h=c.filter(g=>l?l.name===g.node.type.name:!0).filter(g=>sp(g.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((g,y)=>g+y.to-y.from,0)>=f}var UF=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return Ki(n,s,e)?a9(n,r):!1},FF=()=>({state:t,dispatch:e})=>CM(t,e),qF=t=>({state:e,dispatch:n})=>{const r=Rt(t,e.schema);return b9(r)(e,n)},KF=()=>({state:t,dispatch:e})=>wM(t,e);function km(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function tk(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var QF=(t,e)=>({tr:n,state:r,dispatch:s})=>{let o=null,l=null;const c=km(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Rt(t,r.schema)),c==="mark"&&(l=Hs(t,r.schema)),s&&n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,m)=>{o&&o===h.type&&n.setNodeMarkup(m,void 0,tk(h.attrs,e)),l&&h.marks.length&&h.marks.forEach(g=>{l===g.type&&n.addMark(m,m+h.nodeSize,l.create(tk(g.attrs,e)))})})}),!0):!1},GF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),WF=()=>({tr:t,dispatch:e})=>{if(e){const n=new Wn(t.doc);t.setSelection(n)}return!0},YF=()=>({state:t,dispatch:e})=>xM(t,e),XF=()=>({state:t,dispatch:e})=>SM(t,e),JF=()=>({state:t,dispatch:e})=>d9(t,e),ZF=()=>({state:t,dispatch:e})=>p9(t,e),eq=()=>({state:t,dispatch:e})=>h9(t,e);function ib(t,e,n={},r={}){return Au(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var tq=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:l,commands:c})=>{const{doc:f}=o;if(r.preserveWhitespace!=="full"){const h=ib(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return l&&o.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!n),!0}return l&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:f.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function pA(t,e){const n=Hs(e,t.schema),{from:r,to:s,empty:o}=t.selection,l=[];o?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,f=>{l.push(...f.marks)});const c=l.find(f=>f.type.name===n.name);return c?{...c.attrs}:{}}function mA(t,e){const n=new fM(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function nq(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function rq(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&r.push({node:s,pos:o})}),r}function sq(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Tm(t){return e=>sq(e.$from,t)}function we(t,e,n){return t.config[e]===void 0&&t.parent?we(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?we(t.parent,e,n):null}):t.config[e]}function Rv(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=we(e,"addExtensions",n);return r?[e,...Rv(r())]:e}).flat(10)}function Ov(t,e){const n=Jo.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function gA(t){return typeof t=="function"}function Xe(t,e=void 0,...n){return gA(t)?e?t.bind(e)(...n):t(...n):t}function iq(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ru(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function yA(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ru(t),s=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:s},f=we(l,"addGlobalAttributes",c);if(!f)return;f().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([y,x])=>{e.push({type:g,name:y,attribute:{...o,...x}})})})})}),s.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},f=we(l,"addAttributes",c);if(!f)return;const h=f();Object.entries(h).forEach(([m,g])=>{const y={...o,...g};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:l.name,name:m,attribute:y})})}),e}function Ot(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],f=r[s]?r[s].split(" "):[],h=c.filter(m=>!f.includes(m));r[s]=[...f,...h].join(" ")}else if(s==="style"){const c=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],f=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;f.forEach(m=>{const[g,y]=m.split(":").map(x=>x.trim());h.set(g,y)}),c.forEach(m=>{const[g,y]=m.split(":").map(x=>x.trim());h.set(g,y)}),r[s]=Array.from(h.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else r[s]=o}),r},{})}function ip(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ot(n,r),{})}function oq(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function nk(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((o,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):oq(n.getAttribute(l.name));return c==null?o:{...o,[l.name]:c}},{});return{...r,...s}}}}function rk(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&iq(n)?!1:n!=null))}function aq(t,e){var n;const r=yA(t),{nodeExtensions:s,markExtensions:o}=Ru(t),l=(n=s.find(h=>we(h,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(h=>{const m=r.filter(j=>j.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},y=t.reduce((j,A)=>{const E=we(A,"extendNodeSchema",g);return{...j,...E?E(h):{}}},{}),x=rk({...y,content:Xe(we(h,"content",g)),marks:Xe(we(h,"marks",g)),group:Xe(we(h,"group",g)),inline:Xe(we(h,"inline",g)),atom:Xe(we(h,"atom",g)),selectable:Xe(we(h,"selectable",g)),draggable:Xe(we(h,"draggable",g)),code:Xe(we(h,"code",g)),whitespace:Xe(we(h,"whitespace",g)),linebreakReplacement:Xe(we(h,"linebreakReplacement",g)),defining:Xe(we(h,"defining",g)),isolating:Xe(we(h,"isolating",g)),attrs:Object.fromEntries(m.map(j=>{var A,E;return[j.name,{default:(A=j?.attribute)==null?void 0:A.default,validate:(E=j?.attribute)==null?void 0:E.validate}]}))}),v=Xe(we(h,"parseHTML",g));v&&(x.parseDOM=v.map(j=>nk(j,m)));const w=we(h,"renderHTML",g);w&&(x.toDOM=j=>w({node:j,HTMLAttributes:ip(j,m)}));const N=we(h,"renderText",g);return N&&(x.toText=N),[h.name,x]})),f=Object.fromEntries(o.map(h=>{const m=r.filter(N=>N.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},y=t.reduce((N,j)=>{const A=we(j,"extendMarkSchema",g);return{...N,...A?A(h):{}}},{}),x=rk({...y,inclusive:Xe(we(h,"inclusive",g)),excludes:Xe(we(h,"excludes",g)),group:Xe(we(h,"group",g)),spanning:Xe(we(h,"spanning",g)),code:Xe(we(h,"code",g)),attrs:Object.fromEntries(m.map(N=>{var j,A;return[N.name,{default:(j=N?.attribute)==null?void 0:j.default,validate:(A=N?.attribute)==null?void 0:A.validate}]}))}),v=Xe(we(h,"parseHTML",g));v&&(x.parseDOM=v.map(N=>nk(N,m)));const w=we(h,"renderHTML",g);return w&&(x.toDOM=N=>w({mark:N,HTMLAttributes:ip(N,m)})),[h.name,x]}));return new Y_({topNode:l,nodes:c,marks:f})}function lq(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Dv(t){return t.sort((n,r)=>{const s=we(n,"priority")||100,o=we(r,"priority")||100;return s>o?-1:s<o?1:0})}function xA(t){const e=Dv(Rv(t)),n=lq(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function bA(t,e,n){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(r,s,(f,h,m,g)=>{var y;f.isBlock&&h>r&&(c+=o);const x=l?.[f.type.name];if(x)return m&&(c+=x({node:f,pos:h,parent:m,index:g,range:e})),!1;f.isText&&(c+=(y=f?.text)==null?void 0:y.slice(Math.max(r,h)-h,s-h))}),c}function cq(t,e){const n={from:0,to:t.content.size};return bA(t,n,e)}function vA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function uq(t,e){const n=Rt(e,t.schema),{from:r,to:s}=t.selection,o=[];t.doc.nodesBetween(r,s,c=>{o.push(c)});const l=o.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function SA(t,e){const n=km(typeof e=="string"?e:e.name,t.schema);return n==="node"?uq(t,e):n==="mark"?pA(t,e):{}}function dq(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function fq(t){const e=dq(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,l)=>l!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function wA(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,o)=>{const l=[];if(s.ranges.length)s.forEach((c,f)=>{l.push({from:c,to:f})});else{const{from:c,to:f}=n[o];if(c===void 0||f===void 0)return;l.push({from:c,to:f})}l.forEach(({from:c,to:f})=>{const h=e.slice(o).map(c,-1),m=e.slice(o).map(f),g=e.invert().map(h,-1),y=e.invert().map(m);r.push({oldRange:{from:g,to:y},newRange:{from:h,to:m}})})}),fq(r)}function Iv(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),l=Mv(o,s.type);l&&r.push({mark:s,...l})}):n.nodesBetween(t,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(l=>({from:o,to:o+s.nodeSize,mark:l})))}),r}var hq=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let o=r,l=null;for(;o>0&&l===null;){const c=s.node(o);c?.type.name===e?l=c:o-=1}return[l,o]};function Q0(t,e){return e.nodes[t]||e.marks[t]||null}function bh(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var pq=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,o,l,c)=>{var f,h;const m=((h=(f=s.type.spec).toText)==null?void 0:h.call(f,{node:s,pos:o,parent:l,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-o))}),n};function ob(t,e,n={}){const{empty:r,ranges:s}=t.selection,o=e?Hs(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>o?o.name===g.type.name:!0).find(g=>sp(g.attrs,n,{strict:!1}));let l=0;const c=[];if(s.forEach(({$from:g,$to:y})=>{const x=g.pos,v=y.pos;t.doc.nodesBetween(x,v,(w,N)=>{if(!w.isText&&!w.marks.length)return;const j=Math.max(x,N),A=Math.min(v,N+w.nodeSize),E=A-j;l+=E,c.push(...w.marks.map(_=>({mark:_,from:j,to:A})))})}),l===0)return!1;const f=c.filter(g=>o?o.name===g.mark.type.name:!0).filter(g=>sp(g.mark.attrs,n,{strict:!1})).reduce((g,y)=>g+y.to-y.from,0),h=c.filter(g=>o?g.mark.type!==o&&g.mark.type.excludes(o):!0).reduce((g,y)=>g+y.to-y.from,0);return(f>0?f+h:f)>=l}function mq(t,e,n={}){if(!e)return Ki(t,null,n)||ob(t,null,n);const r=km(e,t.schema);return r==="node"?Ki(t,e,n):r==="mark"?ob(t,e,n):!1}var gq=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const o=Tm(c=>c.type.name===e)(t.selection);if(!o)return!1;const l=t.doc.resolve(o.pos+1);return s.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},yq=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function sk(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ik(t,e){const{nodeExtensions:n}=Ru(e),r=n.find(l=>l.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Xe(we(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Em(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(Em(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function NA(t){return t instanceof Ne}function xq(t,e,n){var r;const{selection:s}=e;let o=null;if(uA(s)&&(o=s.$cursor),o){const c=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(h=>h.type.excludes(n)))}const{ranges:l}=s;return l.some(({$from:c,$to:f})=>{let h=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,f.pos,(m,g,y)=>{if(h)return!1;if(m.isInline){const x=!y||y.type.allowsMarkType(n),v=!!n.isInSet(m.marks)||!m.marks.some(w=>w.type.excludes(n));h=x&&v}return!h}),h})}var bq=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=n,{empty:l,ranges:c}=o,f=Hs(t,r.schema);if(s)if(l){const h=pA(r,f);n.addStoredMark(f.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(m,g,(y,x)=>{const v=Math.max(x,m),w=Math.min(x+y.nodeSize,g);y.marks.find(j=>j.type===f)?y.marks.forEach(j=>{f===j.type&&n.addMark(v,w,f.create({...j.attrs,...e}))}):n.addMark(v,w,f.create(e))})});return xq(r,n,f)},vq=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Sq=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const o=Rt(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>v2(o,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>v2(o,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},wq=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=To(t,0,r.content.size),o=Ne.create(r,s);e.setSelection(o)}return!0},Nq=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,l=ke.atStart(r).from,c=ke.atEnd(r).to,f=To(s,l,c),h=To(o,l,c),m=ke.create(r,f,h);e.setSelection(m)}return!0},Cq=t=>({state:e,dispatch:n})=>{const r=Rt(t,e.schema);return w9(r)(e,n)};function ok(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var jq=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:o,doc:l}=e,{$from:c,$to:f}=o,h=s.extensionManager.attributes,m=bh(h,c.node().type.name,c.node().attrs);if(o instanceof Ne&&o.node.isBlock)return!c.parentOffset||!Rs(l,c.pos)?!1:(r&&(t&&ok(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,y=c.depth===0?void 0:nq(c.node(-1).contentMatchAt(c.indexAfter(-1)));let x=g&&y?[{type:y,attrs:m}]:void 0,v=Rs(e.doc,e.mapping.map(c.pos),1,x);if(!x&&!v&&Rs(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(v=!0,x=y?[{type:y,attrs:m}]:void 0),r){if(v&&(o instanceof ke&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,x),y&&!g&&!c.parentOffset&&c.parent.type!==y)){const w=e.mapping.map(c.before()),N=e.doc.resolve(w);c.node(-1).canReplaceWith(N.index(),N.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}t&&ok(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return v},kq=(t,e={})=>({tr:n,state:r,dispatch:s,editor:o})=>{var l;const c=Rt(t,r.schema),{$from:f,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||f.depth<2||!f.sameParent(h))return!1;const g=f.node(-1);if(g.type!==c)return!1;const y=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(s){let j=ae.empty;const A=f.index(-1)?1:f.index(-2)?2:3;for(let R=f.depth-A;R>=f.depth-3;R-=1)j=ae.from(f.node(R).copy(j));const E=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,_={...bh(y,f.node().type.name,f.node().attrs),...e},T=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(_))||void 0;j=j.append(ae.from(c.createAndFill(null,T)||void 0));const O=f.before(f.depth-(A-1));n.replace(O,f.after(-E),new me(j,4-A,0));let M=-1;n.doc.nodesBetween(O,n.doc.content.size,(R,I)=>{if(M>-1)return!1;R.isTextblock&&R.content.size===0&&(M=I+1)}),M>-1&&n.setSelection(ke.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const x=h.pos===f.end()?g.contentMatchAt(0).defaultType:null,v={...bh(y,g.type.name,g.attrs),...e},w={...bh(y,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,h.pos);const N=x?[{type:c,attrs:v},{type:x,attrs:w}]:[{type:c,attrs:v}];if(!Rs(n.doc,f.pos,2))return!1;if(s){const{selection:j,storedMarks:A}=r,{splittableMarks:E}=o.extensionManager,_=A||j.$to.parentOffset&&j.$from.marks();if(n.split(f.pos,2,N).scrollIntoView(),!_||!s)return!0;const T=_.filter(O=>E.includes(O.type.name));n.ensureMarks(T)}return!0},G0=(t,e)=>{const n=Tm(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Yi(t.doc,n.pos)&&t.join(n.pos),!0},W0=(t,e)=>{const n=Tm(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Yi(t.doc,r)&&t.join(r),!0},Tq=(t,e,n,r={})=>({editor:s,tr:o,state:l,dispatch:c,chain:f,commands:h,can:m})=>{const{extensions:g,splittableMarks:y}=s.extensionManager,x=Rt(t,l.schema),v=Rt(e,l.schema),{selection:w,storedMarks:N}=l,{$from:j,$to:A}=w,E=j.blockRange(A),_=N||w.$to.parentOffset&&w.$from.marks();if(!E)return!1;const T=Tm(O=>ik(O.type.name,g))(w);if(E.depth>=1&&T&&E.depth-T.depth<=1){if(T.node.type===x)return h.liftListItem(v);if(ik(T.node.type.name,g)&&x.validContent(T.node.content)&&c)return f().command(()=>(o.setNodeMarkup(T.pos,x),!0)).command(()=>G0(o,x)).command(()=>W0(o,x)).run()}return!n||!_||!c?f().command(()=>m().wrapInList(x,r)?!0:h.clearNodes()).wrapInList(x,r).command(()=>G0(o,x)).command(()=>W0(o,x)).run():f().command(()=>{const O=m().wrapInList(x,r),M=_.filter(R=>y.includes(R.type.name));return o.ensureMarks(M),O?!0:h.clearNodes()}).wrapInList(x,r).command(()=>G0(o,x)).command(()=>W0(o,x)).run()},Eq=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,l=Hs(t,r.schema);return ob(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:o}):s.setMark(l,e)},_q=(t,e,n={})=>({state:r,commands:s})=>{const o=Rt(t,r.schema),l=Rt(e,r.schema),c=Ki(r,o,n);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?s.setNode(l,f):s.setNode(o,{...f,...n})},Mq=(t,e={})=>({state:n,commands:r})=>{const s=Rt(t,n.schema);return Ki(n,s,e)?r.lift(s):r.wrapIn(s,e)},Aq=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const l=t.tr,c=o.transform;for(let f=c.steps.length-1;f>=0;f-=1)l.step(c.steps[f].invert(c.docs[f]));if(o.text){const f=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,t.schema.text(o.text,f))}else l.delete(o.from,o.to)}return!0}}return!1},Rq=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},Oq=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,f=Hs(t,r.schema),{$from:h,empty:m,ranges:g}=c;if(!s)return!0;if(m&&l){let{from:y,to:x}=c;const v=(o=h.marks().find(N=>N.type===f))==null?void 0:o.attrs,w=Mv(h,f,v);w&&(y=w.from,x=w.to),n.removeMark(y,x,f)}else g.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,f)});return n.removeStoredMark(f),!0},Dq=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let o=null,l=null;const c=km(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Rt(t,r.schema)),c==="mark"&&(l=Hs(t,r.schema)),s&&n.selection.ranges.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;let g,y,x,v;n.selection.empty?r.doc.nodesBetween(h,m,(w,N)=>{o&&o===w.type&&(x=Math.max(N,h),v=Math.min(N+w.nodeSize,m),g=N,y=w)}):r.doc.nodesBetween(h,m,(w,N)=>{N<h&&o&&o===w.type&&(x=Math.max(N,h),v=Math.min(N+w.nodeSize,m),g=N,y=w),N>=h&&N<=m&&(o&&o===w.type&&n.setNodeMarkup(N,void 0,{...w.attrs,...e}),l&&w.marks.length&&w.marks.forEach(j=>{if(l===j.type){const A=Math.max(N,h),E=Math.min(N+w.nodeSize,m);n.addMark(A,E,l.create({...j.attrs,...e}))}}))}),y&&(g!==void 0&&n.setNodeMarkup(g,void 0,{...y.attrs,...e}),l&&y.marks.length&&y.marks.forEach(w=>{l===w.type&&n.addMark(x,v,l.create({...w.attrs,...e}))}))}),!0):!1},Iq=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return m9(s,e)(n,r)},Pq=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return g9(s,e)(n,r)},Lq=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},_m=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},zq=(t,e)=>{if(_v(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Jf(t){var e;const{editor:n,from:r,to:s,text:o,rules:l,plugin:c}=t,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let m=!1;const g=pq(h)+o;return l.forEach(y=>{if(m)return;const x=zq(g,y.find);if(!x)return;const v=f.state.tr,w=Cm({state:f.state,transaction:v}),N={from:r-(x[0].length-o.length),to:s},{commands:j,chain:A,can:E}=new jm({editor:n,state:w});y.handler({state:w,range:N,match:x,commands:j,chain:A,can:E})===null||!v.steps.length||(y.undoable&&v.setMeta(c,{transform:v,from:r,to:s,text:o}),f.dispatch(v),m=!0)}),m}function Bq(t){const{editor:e,rules:n}=t,r=new wt({state:{init(){return null},apply(s,o,l){const c=s.getMeta(r);if(c)return c;const f=s.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:m}=f;typeof m=="string"?m=m:m=Ov(ae.from(m),l.schema);const{from:g}=f,y=g+m.length;Jf({editor:e,from:g,to:y,text:m,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,l,c){return Jf({editor:e,from:o,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&Jf({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?Jf({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Vq(t){return Object.prototype.toString.call(t).slice(8,-1)}function Zf(t){return Vq(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function CA(t,e){const n={...t};return Zf(t)&&Zf(e)&&Object.keys(e).forEach(r=>{Zf(e[r])&&Zf(t[r])?n[r]=CA(t[r],e[r]):n[r]=e[r]}),n}var Pv=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Xe(we(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Xe(we(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>CA(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Zo=class jA extends Pv{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new jA(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const l=s.marks();if(!!!l.find(h=>h?.type.name===n.name))return!1;const f=l.find(h=>h?.type.name===n.name);return f&&r.removeStoredMark(f),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function $q(t){return typeof t=="number"}var Hq=class{constructor(t){this.find=t.find,this.handler=t.handler}},Uq=(t,e,n)=>{if(_v(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function Fq(t){const{editor:e,state:n,from:r,to:s,rule:o,pasteEvent:l,dropEvent:c}=t,{commands:f,chain:h,can:m}=new jm({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,s,(x,v)=>{var w,N,j,A,E;if((N=(w=x.type)==null?void 0:w.spec)!=null&&N.code||!(x.isText||x.isTextblock||x.isInline))return;const _=(E=(A=(j=x.content)==null?void 0:j.size)!=null?A:x.nodeSize)!=null?E:0,T=Math.max(r,v),O=Math.min(s,v+_);if(T>=O)return;const M=x.isText?x.text||"":x.textBetween(T-v,O-v,void 0,"");Uq(M,o.find,l).forEach(I=>{if(I.index===void 0)return;const L=T+I.index+1,P=L+I[0].length,V={from:n.tr.mapping.map(L),to:n.tr.mapping.map(P)},H=o.handler({state:n,range:V,match:I,commands:f,chain:h,can:m,pasteEvent:l,dropEvent:c});g.push(H)})}),g.every(x=>x!==null)}var eh=null,qq=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Kq(t){const{editor:e,rules:n}=t;let r=null,s=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:m,from:g,to:y,rule:x,pasteEvt:v})=>{const w=m.tr,N=Cm({state:m,transaction:w});if(!(!Fq({editor:e,state:N,from:Math.max(g-1,0),to:y.b-1,rule:x,pasteEvent:v,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(m=>new wt({view(g){const y=v=>{var w;r=(w=g.dom.parentElement)!=null&&w.contains(v.target)?g.dom.parentElement:null,r&&(eh=e)},x=()=>{eh&&(eh=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(g,y)=>{if(o=r===g.dom.parentElement,c=y,!o){const x=eh;x?.isEditable&&setTimeout(()=>{const v=x.state.selection;v&&x.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(g,y)=>{var x;const v=(x=y.clipboardData)==null?void 0:x.getData("text/html");return l=y,s=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(g,y,x)=>{const v=g[0],w=v.getMeta("uiEvent")==="paste"&&!s,N=v.getMeta("uiEvent")==="drop"&&!o,j=v.getMeta("applyPasteRules"),A=!!j;if(!w&&!N&&!A)return;if(A){let{text:T}=j;typeof T=="string"?T=T:T=Ov(ae.from(T),x.schema);const{from:O}=j,M=O+T.length,R=qq(T);return f({rule:m,state:x,from:O,to:{b:M},pasteEvt:R})}const E=y.doc.content.findDiffStart(x.doc.content),_=y.doc.content.findDiffEnd(x.doc.content);if(!(!$q(E)||!_||E===_.b))return f({rule:m,state:x,from:E,to:_,pasteEvt:l})}}))}var Mm=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=xA(t),this.schema=aq(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Q0(e.name,this.schema)},r=we(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Dv([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Q0(r.name,this.schema)},o=[],l=we(r,"addKeyboardShortcuts",s);let c={};if(r.type==="mark"&&we(r,"exitable",s)&&(c.ArrowRight=()=>Zo.handleExit({editor:t,mark:r})),l){const y=Object.fromEntries(Object.entries(l()).map(([x,v])=>[x,()=>v({editor:t})]));c={...c,...y}}const f=uF(c);o.push(f);const h=we(r,"addInputRules",s);if(sk(r,t.options.enableInputRules)&&h){const y=h();if(y&&y.length){const x=Bq({editor:t,rules:y}),v=Array.isArray(x)?x:[x];o.push(...v)}}const m=we(r,"addPasteRules",s);if(sk(r,t.options.enablePasteRules)&&m){const y=m();if(y&&y.length){const x=Kq({editor:t,rules:y});o.push(...x)}}const g=we(r,"addProseMirrorPlugins",s);if(g){const y=g();o.push(...y)}return o})}get attributes(){return yA(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Ru(this.extensions);return Object.fromEntries(e.filter(n=>!!we(n,"addNodeView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Rt(n.name,this.schema)},o=we(n,"addNodeView",s);if(!o)return[];const l=o();if(!l)return[];const c=(f,h,m,g,y)=>{const x=ip(f,r);return l({node:f,view:h,getPos:m,decorations:g,innerDecorations:y,editor:t,extension:n,HTMLAttributes:x})};return[n.name,c]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Ru(this.extensions);return Object.fromEntries(e.filter(n=>!!we(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Hs(n.name,this.schema)},o=we(n,"addMarkView",s);if(!o)return[];const l=(c,f,h)=>{const m=ip(c,r);return o()({mark:c,view:f,inline:h,editor:t,extension:n,HTMLAttributes:m,updateAttributes:g=>{oK(c,t,g)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Q0(e.name,this.schema)};e.type==="mark"&&((n=Xe(we(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=we(e,"onBeforeCreate",r),o=we(e,"onCreate",r),l=we(e,"onUpdate",r),c=we(e,"onSelectionUpdate",r),f=we(e,"onTransaction",r),h=we(e,"onFocus",r),m=we(e,"onBlur",r),g=we(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}};Mm.resolve=xA;Mm.sort=Dv;Mm.flatten=Rv;var Qq={};Ev(Qq,{ClipboardTextSerializer:()=>TA,Commands:()=>EA,Delete:()=>_A,Drop:()=>MA,Editable:()=>AA,FocusEvents:()=>OA,Keymap:()=>DA,Paste:()=>IA,Tabindex:()=>PA,focusEventsPluginKey:()=>RA});var Dt=class kA extends Pv{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new kA(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},TA=Dt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new wt({key:new qt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:o}=s,l=Math.min(...o.map(m=>m.$from.pos)),c=Math.max(...o.map(m=>m.$to.pos)),f=vA(n);return bA(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),EA=Dt.create({name:"commands",addCommands(){return{...lA}}}),_A=Dt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const o=()=>{var l,c,f,h;if((h=(f=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:f.call(c,t))!=null?h:t.getMeta("y-sync$"))return;const m=mA(t.before,[t,...e]);wA(m).forEach(x=>{m.mapping.mapResult(x.oldRange.from).deletedAfter&&m.mapping.mapResult(x.oldRange.to).deletedBefore&&m.before.nodesBetween(x.oldRange.from,x.oldRange.to,(v,w)=>{const N=w+v.nodeSize-2,j=x.oldRange.from<=w&&N<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:w,to:N,newFrom:m.mapping.map(w),newTo:m.mapping.map(N),deletedRange:x.oldRange,newRange:x.newRange,partial:!j,editor:this.editor,transaction:t,combinedTransform:m})})});const y=m.mapping;m.steps.forEach((x,v)=>{var w,N;if(x instanceof jr){const j=y.slice(v).map(x.from,-1),A=y.slice(v).map(x.to),E=y.invert().map(j,-1),_=y.invert().map(A),T=(w=m.doc.nodeAt(j-1))==null?void 0:w.marks.some(M=>M.eq(x.mark)),O=(N=m.doc.nodeAt(A))==null?void 0:N.marks.some(M=>M.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:E,to:_},newRange:{from:j,to:A},partial:!!(O||T),editor:this.editor,transaction:t,combinedTransform:m})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),MA=Dt.create({name:"drop",addProseMirrorPlugins(){return[new wt({key:new qt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),AA=Dt.create({name:"editable",addProseMirrorPlugins(){return[new wt({key:new qt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RA=new qt("focusEvents"),OA=Dt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new wt({key:RA,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),DA=Dt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:f,doc:h}=c,{empty:m,$anchor:g}=f,{pos:y,parent:x}=g,v=g.parent.isTextblock&&y>0?c.doc.resolve(y-1):g,w=v.parent.type.spec.isolating,N=g.pos-g.parentOffset,j=w&&v.parent.childCount===1?N===g.pos:Re.atStart(h).from===y;return!m||!x.type.isTextblock||x.textContent.length||!j||j&&g.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Av()||hA()?o:s},addProseMirrorPlugins(){return[new wt({key:new qt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),s=t.some(w=>w.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:l,to:c}=e.selection,f=Re.atStart(e.doc).from,h=Re.atEnd(e.doc).to;if(o||!(l===f&&c===h)||!Em(n.doc))return;const y=n.tr,x=Cm({state:n,transaction:y}),{commands:v}=new jm({editor:this.editor,state:x});if(v.clearNodes(),!!y.steps.length)return y}})]}}),IA=Dt.create({name:"paste",addProseMirrorPlugins(){return[new wt({key:new qt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),PA=Dt.create({name:"tabindex",addProseMirrorPlugins(){return[new wt({key:new qt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Gq=class Qa{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Qa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Qa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Qa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,l=this.pos+r+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!s&&c.depth<=this.depth)return;const f=new Qa(c,this.editor,s,s?n:null);s&&(f.actualDepth=this.depth+1),e.push(new Qa(c,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const f=l[c];if(o[f]!==n[f])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(l=>{r&&s.length>0||(l.node.type.name===e&&o.every(f=>n[f]===l.node.attrs[f])&&s.push(l),!(r&&s.length>0)&&(s=s.concat(l.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Wq=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Yq(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var Xq=class extends Lq{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=dA(e,this.options.autofocus);this.editorState=Ya.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Yq(Wq,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=gA(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(l=>!l.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[AA,TA.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),EA,OA,DA,PA,MA,IA,_A].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Mm(r,this)}createCommandManager(){this.commandManager=new jm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=ib(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=ib(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new oA(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),c=l?.getMeta("focus"),f=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),f&&this.emit("blur",{editor:this,event:f.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return SA(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return mq(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ov(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return cq(this.state.doc,{blockSeparator:e,textSerializers:{...vA(this.schema),...n}})}get isEmpty(){return Em(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Gq(e,this)}get $doc(){return this.$pos(0)}};function xl(t){return new _m({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Xe(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];if(l){const f=c.search(/\S/),h=n.from+c.indexOf(l),m=h+l.length;if(Iv(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(w=>w===t.type&&w!==x.mark.type)).filter(x=>x.to>h).length)return null;m<n.to&&o.delete(m,n.to),h>n.from&&o.delete(n.from+f,h);const y=n.from+f+l.length;o.addMark(n.from+f,y,t.type.create(s||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function Jq(t){return new _m({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Xe(t.getAttributes,void 0,r)||{},{tr:o}=e,l=n.from;let c=n.to;const f=t.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=l+h;m>c?m=c:c=m+r[1].length;const g=r[0][r[0].length-1];o.insertText(g,l+r[0].length-1),o.replaceWith(m,c,f)}else if(r[0]){const h=t.type.isInline?l:l-1;o.insert(h,t.type.create(s)).delete(o.mapping.map(l),o.mapping.map(c))}o.scrollIntoView()},undoable:t.undoable})}function ab(t){return new _m({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),o=Xe(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function bl(t){return new _m({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const o=Xe(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),h=f&&fv(f,t.type,o);if(!h)return null;if(l.wrap(f,h),t.keepMarks&&t.editor){const{selection:g,storedMarks:y}=e,{splittableMarks:x}=t.editor.extensionManager,v=y||g.$to.parentOffset&&g.$from.marks();if(v){const w=v.filter(N=>x.includes(N.type.name));l.ensureMarks(w)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,o).run()}const m=l.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&Yi(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,m))&&l.join(n.from-1)},undoable:t.undoable})}function Zq(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ne){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var eK={};Ev(eK,{createAtomBlockMarkdownSpec:()=>tK,createBlockMarkdownSpec:()=>nK,createInlineMarkdownSpec:()=>iK,parseAttributes:()=>Lv,parseIndentedBlocks:()=>lb,renderNestedMarkdownContent:()=>Bv,serializeAttributes:()=>zv});function Lv(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(m=>m.trim().slice(1));e.class=h.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,h,m])=>{var g;const y=parseInt(((g=m.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),x=n[y];x&&(e[h]=x.slice(1,-1))});const f=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function zv(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function tK(t){const{nodeName:e,name:n,parseAttributes:r=Lv,serializeAttributes:s=zv,defaultAttributes:o={},requiredAttributes:l=[],allowedAttributes:c}=t,f=n||e,h=m=>{if(!c)return m;const g={};return c.forEach(y=>{y in m&&(g[y]=m[y])}),g};return{parseMarkdown:(m,g)=>{const y={...o,...m.attributes};return g.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(m){var g;const y=new RegExp(`^:::${f}(?:\\s|$)`,"m"),x=(g=m.match(y))==null?void 0:g.index;return x!==void 0?x:-1},tokenize(m,g,y){const x=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=m.match(x);if(!v)return;const w=v[1]||"",N=r(w);if(!l.find(A=>!(A in N)))return{type:e,raw:v[0],attributes:N}}},renderMarkdown:m=>{const g=h(m.attrs||{}),y=s(g),x=y?` {${y}}`:"";return`:::${f}${x} :::`}}}function nK(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=Lv,serializeAttributes:o=zv,defaultAttributes:l={},content:c="block",allowedAttributes:f}=t,h=n||e,m=g=>{if(!f)return g;const y={};return f.forEach(x=>{x in g&&(y[x]=g[x])}),y};return{parseMarkdown:(g,y)=>{let x;if(r){const w=r(g);x=typeof w=="string"?[{type:"text",text:w}]:w}else c==="block"?x=y.parseChildren(g.tokens||[]):x=y.parseInline(g.tokens||[]);const v={...l,...g.attributes};return y.createNode(e,v,x)},markdownTokenizer:{name:e,level:"block",start(g){var y;const x=new RegExp(`^:::${h}`,"m"),v=(y=g.match(x))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(g,y,x){var v;const w=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),N=g.match(w);if(!N)return;const[j,A=""]=N,E=s(A);let _=1;const T=j.length;let O="";const M=/^:::([\w-]*)(\s.*)?/gm,R=g.slice(T);for(M.lastIndex=0;;){const I=M.exec(R);if(I===null)break;const L=I.index,P=I[1];if(!((v=I[2])!=null&&v.endsWith(":::"))){if(P)_+=1;else if(_-=1,_===0){const V=R.slice(0,L);O=V.trim();const H=g.slice(0,T+L+I[0].length);let B=[];if(O)if(c==="block")for(B=x.blockTokens(V),B.forEach(K=>{K.text&&(!K.tokens||K.tokens.length===0)&&(K.tokens=x.inlineTokens(K.text))});B.length>0;){const K=B[B.length-1];if(K.type==="paragraph"&&(!K.text||K.text.trim()===""))B.pop();else break}else B=x.inlineTokens(O);return{type:e,raw:H,attributes:E,content:O,tokens:B}}}}}},renderMarkdown:(g,y)=>{const x=m(g.attrs||{}),v=o(x),w=v?` {${v}}`:"",N=y.renderChildren(g.content||[],`

`);return`:::${h}${w}

${N}

:::`}}}function rK(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,o,l]=r;e[s]=o||l,r=n.exec(t)}return e}function sK(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function iK(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=rK,serializeAttributes:o=sK,defaultAttributes:l={},selfClosing:c=!1,allowedAttributes:f}=t,h=n||e,m=y=>{if(!f)return y;const x={};return f.forEach(v=>{v in y&&(x[v]=y[v])}),x},g=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,x)=>{const v={...l,...y.attributes};if(c)return x.createNode(e,v);const w=r?r(y):y.content||"";return w?x.createNode(e,v,[x.createTextNode(w)]):x.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(y){const x=c?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),v=y.match(x),w=v?.index;return w!==void 0?w:-1},tokenize(y,x,v){const w=c?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),N=y.match(w);if(!N)return;let j="",A="";if(c){const[,_]=N;A=_}else{const[,_,T]=N;A=_,j=T||""}const E=s(A.trim());return{type:e,raw:N[0],content:j.trim(),attributes:E}}},renderMarkdown:y=>{let x="";r?x=r(y):y.content&&y.content.length>0&&(x=y.content.filter(j=>j.type==="text").map(j=>j.text).join(""));const v=m(y.attrs||{}),w=o(v),N=w?` ${w}`:"";return c?`[${h}${N}]`:`[${h}${N}]${x}[/${h}]`}}}function lb(t,e,n){var r,s,o,l;const c=t.split(`
`),f=[];let h="",m=0;const g=e.baseIndentSize||2;for(;m<c.length;){const y=c[m],x=y.match(e.itemPattern);if(!x){if(f.length>0)break;if(y.trim()===""){m+=1;continue}else return}const v=e.extractItemData(x),{indentLevel:w,mainContent:N}=v;h=`${h}${y}
`;const j=[N];for(m+=1;m<c.length;){const T=c[m];if(T.trim()===""){const M=c.slice(m+1).findIndex(L=>L.trim()!=="");if(M===-1)break;if((((s=(r=c[m+1+M].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>w){j.push(T),h=`${h}${T}
`,m+=1;continue}else break}if((((l=(o=T.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:l.length)||0)>w)j.push(T),h=`${h}${T}
`,m+=1;else break}let A;const E=j.slice(1);if(E.length>0){const T=E.map(O=>O.slice(w+g)).join(`
`);T.trim()&&(e.customNestedParser?A=e.customNestedParser(T):A=n.blockTokens(T))}const _=e.createToken(v,A);f.push(_)}if(f.length!==0)return{items:f,raw:h.trim()}}function Bv(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[o,...l]=t.content,c=e.renderChildren([o]),f=[`${s}${c}`];return l&&l.length>0&&l.forEach(h=>{const m=e.renderChildren([h]);if(m){const g=m.split(`
`).map(y=>y?e.indent(y):"").join(`
`);f.push(g)}}),f.join(`
`)}function oK(t,e,n={}){const{state:r}=e,{doc:s,tr:o}=r,l=t;s.descendants((c,f)=>{const h=o.mapping.map(f),m=o.mapping.map(f)+c.nodeSize;let g=null;if(c.marks.forEach(x=>{if(x!==l)return!1;g=x}),!g)return;let y=!1;if(Object.keys(n).forEach(x=>{n[x]!==g.attrs[x]&&(y=!0)}),y){const x=t.type.create({...t.attrs,...n});o.removeMark(h,m,t.type),o.addMark(h,m,x)}}),o.docChanged&&e.view.dispatch(o)}var Xn=class LA extends Pv{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new LA(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Wo(t){return new Hq({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const o=Xe(t.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:l}=e,c=r[r.length-1],f=r[0];let h=n.to;if(c){const m=f.search(/\S/),g=n.from+f.indexOf(c),y=g+c.length;if(Iv(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(N=>N===t.type&&N!==v.mark.type)).filter(v=>v.to>g).length)return null;y<n.to&&l.delete(y,n.to),g>n.from&&l.delete(n.from+m,g),h=n.from+m+c.length,l.addMark(n.from+m,h,t.type.create(o||{})),l.removeStoredMark(t.type)}}})}var Y0,ak;function aK(){return ak||(ak=1,Y0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var l=o[s];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Y0}var lK=aK();const cK=Ip(lK);var uK=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},dK=({contentComponent:t})=>{const e=D_.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return u.jsx(u.Fragment,{children:Object.values(e)})};function fK(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Gk.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var hK=class extends rt.Component{constructor(t){var e;super(t),this.editorContentRef=rt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=fK(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:uK(e,this.editorContentRef),...n}),t?.contentComponent&&u.jsx(dK,{contentComponent:t.contentComponent})]})}},pK=C.forwardRef((t,e)=>{const n=rt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return rt.createElement(hK,{key:n,innerRef:e,...t})}),mK=rt.memo(pK),gK=typeof window<"u"?C.useLayoutEffect:C.useEffect,yK=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function xK(t){var e;const[n]=C.useState(()=>new yK(t.editor)),r=Kk.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:cK);return gK(()=>n.watch(t.editor),[t.editor,n]),C.useDebugValue(r),r}var bK=!1,cb=typeof window>"u",vK=cb||!!(typeof window<"u"&&window.next),SK=class zA{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?cb||vK?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new Xq(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var l;return s===((l=n.extensions)==null?void 0:l[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?zA.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function wK(t={},e=[]){const n=C.useRef(t);n.current=t;const[r]=C.useState(()=>new SK(n)),s=D_.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return C.useDebugValue(s),C.useEffect(r.onRender(e)),xK({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var NK=C.createContext({editor:null});NK.Consumer;var CK=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),jK=()=>C.useContext(CK);rt.forwardRef((t,e)=>{const{onDragStart:n}=jK(),r=t.as||"div";return u.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});rt.createContext({markViewContentRef:()=>{}});var op=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},kK=/^\s*>\s$/,TK=Xn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return op("blockquote",{...Ot(this.options.HTMLAttributes,t),children:op("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const c=e.renderChildren([s]).split(`
`).map(f=>f.trim()===""?n:`${n} ${f}`);r.push(c.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[bl({find:kK,type:this.type})]}}),EK=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,_K=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,MK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,AK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,RK=Zo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return op("strong",{...Ot(this.options.HTMLAttributes,t),children:op("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xl({find:EK,type:this.type}),xl({find:MK,type:this.type})]},addPasteRules(){return[Wo({find:_K,type:this.type}),Wo({find:AK,type:this.type})]}}),OK=/(^|[^`])`([^`]+)`(?!`)$/,DK=/(^|[^`])`([^`]+)`(?!`)/g,IK=Zo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xl({find:OK,type:this.type})]},addPasteRules(){return[Wo({find:DK,type:this.type})]}}),X0=4,PK=/^```([a-z]+)?[\s\n]$/,LK=/^~~~([a-z]+)?[\s\n]$/,zK=Xn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:X0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ot(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:X0,{state:r}=t,{selection:s}=r,{$from:o,empty:l}=s;if(o.parent.type!==this.type)return!1;const c=" ".repeat(n);return l?t.commands.insertContent(c):t.commands.command(({tr:f})=>{const{from:h,to:m}=s,x=r.doc.textBetween(h,m,`
`,`
`).split(`
`).map(v=>c+v).join(`
`);return f.replaceWith(h,m,r.schema.text(x)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:X0,{state:r}=t,{selection:s}=r,{$from:o,empty:l}=s;return o.parent.type!==this.type?!1:l?t.commands.command(({tr:c})=>{var f;const{pos:h}=o,m=o.start(),g=o.end(),x=r.doc.textBetween(m,g,`
`,`
`).split(`
`);let v=0,w=0;const N=h-m;for(let O=0;O<x.length;O+=1){if(w+x[O].length>=N){v=O;break}w+=x[O].length+1}const A=((f=x[v].match(/^ */))==null?void 0:f[0])||"",E=Math.min(A.length,n);if(E===0)return!0;let _=m;for(let O=0;O<v;O+=1)_+=x[O].length+1;return c.delete(_,_+E),h-_<=E&&c.setSelection(ke.create(c.doc,_)),!0}):t.commands.command(({tr:c})=>{const{from:f,to:h}=s,y=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(x=>{var v;const w=((v=x.match(/^ */))==null?void 0:v[0])||"",N=Math.min(w.length,n);return x.slice(N)}).join(`
`);return c.replaceWith(f,h,r.schema.text(y)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:h})=>(h.setSelection(Re.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[ab({find:PK,type:this.type,getAttributes:t=>({language:t[1]})}),ab({find:LK,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new wt({key:new qt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!n||!o)return!1;const{tr:l,schema:c}=t.state,f=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(ke.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),BK=Xn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),VK=Xn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ot(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,f=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&f&&l){const g=f.filter(y=>c.includes(y.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),$K=Xn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ot(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ab({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),HK=Xn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ot(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Zq(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return NA(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:o,tr:l,dispatch:c})=>{if(c){const{$to:f}=l.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?l.setSelection(ke.create(l.doc,f.pos+1)):f.nodeAfter.isBlock?l.setSelection(Ne.create(l.doc,f.pos)):l.setSelection(ke.create(l.doc,f.pos));else{const m=o.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,g=m?.create();g&&(l.insert(h,g),l.setSelection(ke.create(l.doc,h+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Jq({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),UK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,FK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,qK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,KK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,QK=Zo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ot(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xl({find:UK,type:this.type}),xl({find:qK,type:this.type})]},addPasteRules(){return[Wo({find:FK,type:this.type}),Wo({find:KK,type:this.type})]}});const GK="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",WK="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ub="numeric",db="ascii",fb="alpha",ou="asciinumeric",Wc="alphanumeric",hb="domain",BA="emoji",YK="scheme",XK="slashscheme",J0="whitespace";function JK(t,e){return t in e||(e[t]=[]),e[t]}function Eo(t,e,n){e[ub]&&(e[ou]=!0,e[Wc]=!0),e[db]&&(e[ou]=!0,e[fb]=!0),e[ou]&&(e[Wc]=!0),e[fb]&&(e[Wc]=!0),e[Wc]&&(e[hb]=!0),e[BA]&&(e[hb]=!0);for(const r in e){const s=JK(r,n);s.indexOf(t)<0&&s.push(t)}}function ZK(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function jn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}jn.groups={};jn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||jn.groups;let s;return e&&e.j?s=e:(s=new jn(e),n&&r&&Eo(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const o=t.length;if(!o)return s;for(let l=0;l<o-1;l++)s=s.tt(t[l]);return s.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||jn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let l,c=s.go(t);if(c?(l=new jn,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new jn,o){if(r)if(l.t&&typeof l.t=="string"){const f=Object.assign(ZK(l.t,r),n);Eo(o,f,r)}else n&&Eo(o,n,r);l.t=o}return s.j[t]=l,l}};const Ae=(t,e,n,r,s)=>t.ta(e,n,r,s),xt=(t,e,n,r,s)=>t.tr(e,n,r,s),lk=(t,e,n,r,s)=>t.ts(e,n,r,s),le=(t,e,n,r,s)=>t.tt(e,n,r,s),Ts="WORD",pb="UWORD",VA="ASCIINUMERICAL",$A="ALPHANUMERICAL",Ou="LOCALHOST",mb="TLD",gb="UTLD",vh="SCHEME",Ga="SLASH_SCHEME",Vv="NUM",yb="WS",$v="NL",au="OPENBRACE",lu="CLOSEBRACE",ap="OPENBRACKET",lp="CLOSEBRACKET",cp="OPENPAREN",up="CLOSEPAREN",dp="OPENANGLEBRACKET",fp="CLOSEANGLEBRACKET",hp="FULLWIDTHLEFTPAREN",pp="FULLWIDTHRIGHTPAREN",mp="LEFTCORNERBRACKET",gp="RIGHTCORNERBRACKET",yp="LEFTWHITECORNERBRACKET",xp="RIGHTWHITECORNERBRACKET",bp="FULLWIDTHLESSTHAN",vp="FULLWIDTHGREATERTHAN",Sp="AMPERSAND",wp="APOSTROPHE",Np="ASTERISK",Si="AT",Cp="BACKSLASH",jp="BACKTICK",kp="CARET",ji="COLON",Hv="COMMA",Tp="DOLLAR",$r="DOT",Ep="EQUALS",Uv="EXCLAMATION",ur="HYPHEN",cu="PERCENT",_p="PIPE",Mp="PLUS",Ap="POUND",uu="QUERY",Fv="QUOTE",HA="FULLWIDTHMIDDLEDOT",qv="SEMI",Hr="SLASH",du="TILDE",Rp="UNDERSCORE",UA="EMOJI",Op="SYM";var FA=Object.freeze({__proto__:null,ALPHANUMERICAL:$A,AMPERSAND:Sp,APOSTROPHE:wp,ASCIINUMERICAL:VA,ASTERISK:Np,AT:Si,BACKSLASH:Cp,BACKTICK:jp,CARET:kp,CLOSEANGLEBRACKET:fp,CLOSEBRACE:lu,CLOSEBRACKET:lp,CLOSEPAREN:up,COLON:ji,COMMA:Hv,DOLLAR:Tp,DOT:$r,EMOJI:UA,EQUALS:Ep,EXCLAMATION:Uv,FULLWIDTHGREATERTHAN:vp,FULLWIDTHLEFTPAREN:hp,FULLWIDTHLESSTHAN:bp,FULLWIDTHMIDDLEDOT:HA,FULLWIDTHRIGHTPAREN:pp,HYPHEN:ur,LEFTCORNERBRACKET:mp,LEFTWHITECORNERBRACKET:yp,LOCALHOST:Ou,NL:$v,NUM:Vv,OPENANGLEBRACKET:dp,OPENBRACE:au,OPENBRACKET:ap,OPENPAREN:cp,PERCENT:cu,PIPE:_p,PLUS:Mp,POUND:Ap,QUERY:uu,QUOTE:Fv,RIGHTCORNERBRACKET:gp,RIGHTWHITECORNERBRACKET:xp,SCHEME:vh,SEMI:qv,SLASH:Hr,SLASH_SCHEME:Ga,SYM:Op,TILDE:du,TLD:mb,UNDERSCORE:Rp,UTLD:gb,UWORD:pb,WORD:Ts,WS:yb});const Cs=/[a-z]/,Bc=new RegExp("\\p{L}","u"),Z0=new RegExp("\\p{Emoji}","u"),js=/\d/,ex=/\s/,ck="\r",tx=`
`,eQ="",tQ="",nx="";let th=null,nh=null;function nQ(t=[]){const e={};jn.groups=e;const n=new jn;th==null&&(th=uk(GK)),nh==null&&(nh=uk(WK)),le(n,"'",wp),le(n,"{",au),le(n,"}",lu),le(n,"[",ap),le(n,"]",lp),le(n,"(",cp),le(n,")",up),le(n,"<",dp),le(n,">",fp),le(n,"",hp),le(n,"",pp),le(n,"",mp),le(n,"",gp),le(n,"",yp),le(n,"",xp),le(n,"",bp),le(n,"",vp),le(n,"&",Sp),le(n,"*",Np),le(n,"@",Si),le(n,"`",jp),le(n,"^",kp),le(n,":",ji),le(n,",",Hv),le(n,"$",Tp),le(n,".",$r),le(n,"=",Ep),le(n,"!",Uv),le(n,"-",ur),le(n,"%",cu),le(n,"|",_p),le(n,"+",Mp),le(n,"#",Ap),le(n,"?",uu),le(n,'"',Fv),le(n,"/",Hr),le(n,";",qv),le(n,"~",du),le(n,"_",Rp),le(n,"\\",Cp),le(n,"",HA);const r=xt(n,js,Vv,{[ub]:!0});xt(r,js,r);const s=xt(r,Cs,VA,{[ou]:!0}),o=xt(r,Bc,$A,{[Wc]:!0}),l=xt(n,Cs,Ts,{[db]:!0});xt(l,js,s),xt(l,Cs,l),xt(s,js,s),xt(s,Cs,s);const c=xt(n,Bc,pb,{[fb]:!0});xt(c,Cs),xt(c,js,o),xt(c,Bc,c),xt(o,js,o),xt(o,Cs),xt(o,Bc,o);const f=le(n,tx,$v,{[J0]:!0}),h=le(n,ck,yb,{[J0]:!0}),m=xt(n,ex,yb,{[J0]:!0});le(n,nx,m),le(h,tx,f),le(h,nx,m),xt(h,ex,m),le(m,ck),le(m,tx),xt(m,ex,m),le(m,nx,m);const g=xt(n,Z0,UA,{[BA]:!0});le(g,"#"),xt(g,Z0,g),le(g,eQ,g);const y=le(g,tQ);le(y,"#"),xt(y,Z0,g);const x=[[Cs,l],[js,s]],v=[[Cs,null],[Bc,c],[js,o]];for(let w=0;w<th.length;w++)yi(n,th[w],mb,Ts,x);for(let w=0;w<nh.length;w++)yi(n,nh[w],gb,pb,v);Eo(mb,{tld:!0,ascii:!0},e),Eo(gb,{utld:!0,alpha:!0},e),yi(n,"file",vh,Ts,x),yi(n,"mailto",vh,Ts,x),yi(n,"http",Ga,Ts,x),yi(n,"https",Ga,Ts,x),yi(n,"ftp",Ga,Ts,x),yi(n,"ftps",Ga,Ts,x),Eo(vh,{scheme:!0,ascii:!0},e),Eo(Ga,{slashscheme:!0,ascii:!0},e),t=t.sort((w,N)=>w[0]>N[0]?1:-1);for(let w=0;w<t.length;w++){const N=t[w][0],A=t[w][1]?{[YK]:!0}:{[XK]:!0};N.indexOf("-")>=0?A[hb]=!0:Cs.test(N)?js.test(N)?A[ou]=!0:A[db]=!0:A[ub]=!0,lk(n,N,N,A)}return lk(n,"localhost",Ou,{ascii:!0}),n.jd=new jn(Op),{start:n,tokens:Object.assign({groups:e},FA)}}function qA(t,e){const n=rQ(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,s=[];let o=0,l=0;for(;l<r;){let c=t,f=null,h=0,m=null,g=-1,y=-1;for(;l<r&&(f=c.go(n[l]));)c=f,c.accepts()?(g=0,y=0,m=c):g>=0&&(g+=n[l].length,y++),h+=n[l].length,o+=n[l].length,l++;o-=g,l-=y,h-=g,s.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function rQ(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),o,l=s<55296||s>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function yi(t,e,n,r,s){let o;const l=e.length;for(let c=0;c<l-1;c++){const f=e[c];t.j[f]?o=t.j[f]:(o=new jn(r),o.jr=s.slice(),t.j[f]=o),t=o}return o=new jn(n),o.jr=s.slice(),t.j[e[l-1]]=o,o}function uk(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let o=0;for(;s.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+o),10);l>0;l--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Du={defaultProtocol:"http",events:null,format:dk,formatHref:dk,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Kv(t,e=null){let n=Object.assign({},Du);t&&(n=Object.assign(n,t instanceof Kv?t.o:t));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Kv.prototype={o:Du,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Du[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function dk(t){return t}function KA(t,e){this.t="token",this.v=t,this.tk=e}KA.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Du.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),l={},c=t.get("className",n,e),f=t.get("target",n,e),h=t.get("rel",n,e),m=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return l.href=r,c&&(l.class=c),f&&(l.target=f),h&&(l.rel=h),m&&Object.assign(l,m),{tagName:s,attributes:l,content:o,eventListeners:g}}};function Am(t,e){class n extends KA{constructor(s,o){super(s,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const fk=Am("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),hk=Am("text"),sQ=Am("nl"),rh=Am("url",{isLink:!0,toHref(t=Du.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ou&&t[1].t===ji}}),lr=t=>new jn(t);function iQ({groups:t}){const e=t.domain.concat([Sp,Np,Si,Cp,jp,kp,Tp,Ep,ur,Vv,cu,_p,Mp,Ap,Hr,Op,du,Rp]),n=[wp,ji,Hv,$r,Uv,cu,uu,Fv,qv,dp,fp,au,lu,lp,ap,cp,up,hp,pp,mp,gp,yp,xp,bp,vp],r=[Sp,wp,Np,Cp,jp,kp,Tp,Ep,ur,au,lu,cu,_p,Mp,Ap,uu,Hr,Op,du,Rp],s=lr(),o=le(s,du);Ae(o,r,o),Ae(o,t.domain,o);const l=lr(),c=lr(),f=lr();Ae(s,t.domain,l),Ae(s,t.scheme,c),Ae(s,t.slashscheme,f),Ae(l,r,o),Ae(l,t.domain,l);const h=le(l,Si);le(o,Si,h),le(c,Si,h),le(f,Si,h);const m=le(o,$r);Ae(m,r,o),Ae(m,t.domain,o);const g=lr();Ae(h,t.domain,g),Ae(g,t.domain,g);const y=le(g,$r);Ae(y,t.domain,g);const x=lr(fk);Ae(y,t.tld,x),Ae(y,t.utld,x),le(h,Ou,x);const v=le(g,ur);le(v,ur,v),Ae(v,t.domain,g),Ae(x,t.domain,g),le(x,$r,y),le(x,ur,v);const w=le(x,ji);Ae(w,t.numeric,fk);const N=le(l,ur),j=le(l,$r);le(N,ur,N),Ae(N,t.domain,l),Ae(j,r,o),Ae(j,t.domain,l);const A=lr(rh);Ae(j,t.tld,A),Ae(j,t.utld,A),Ae(A,t.domain,l),Ae(A,r,o),le(A,$r,j),le(A,ur,N),le(A,Si,h);const E=le(A,ji),_=lr(rh);Ae(E,t.numeric,_);const T=lr(rh),O=lr();Ae(T,e,T),Ae(T,n,O),Ae(O,e,T),Ae(O,n,O),le(A,Hr,T),le(_,Hr,T);const M=le(c,ji),R=le(f,ji),I=le(R,Hr),L=le(I,Hr);Ae(c,t.domain,l),le(c,$r,j),le(c,ur,N),Ae(f,t.domain,l),le(f,$r,j),le(f,ur,N),Ae(M,t.domain,T),le(M,Hr,T),le(M,uu,T),Ae(L,t.domain,T),Ae(L,e,T),le(L,Hr,T);const P=[[au,lu],[ap,lp],[cp,up],[dp,fp],[hp,pp],[mp,gp],[yp,xp],[bp,vp]];for(let V=0;V<P.length;V++){const[H,B]=P[V],K=le(T,H);le(O,H,K),le(K,B,T);const z=lr(rh);Ae(K,e,z);const Q=lr();Ae(K,n),Ae(z,e,z),Ae(z,n,Q),Ae(Q,e,z),Ae(Q,n,Q),le(z,B,T),le(Q,B,T)}return le(s,Ou,A),le(s,$v,sQ),{start:s,tokens:FA}}function oQ(t,e,n){let r=n.length,s=0,o=[],l=[];for(;s<r;){let c=t,f=null,h=null,m=0,g=null,y=-1;for(;s<r&&!(f=c.go(n[s].t));)l.push(n[s++]);for(;s<r&&(h=f||c.go(n[s].t));)f=null,c=h,c.accepts()?(y=0,g=c):y>=0&&y++,s++,m++;if(y<0)s-=m,s<r&&(l.push(n[s]),s++);else{l.length>0&&(o.push(rx(hk,e,l)),l=[]),s-=y,m-=y;const x=g.t,v=n.slice(s-m,s);o.push(rx(x,e,v))}}return l.length>0&&o.push(rx(hk,e,l)),o}function rx(t,e,n){const r=n[0].s,s=n[n.length-1].e,o=e.slice(r,s);return new t(o,n)}const aQ=typeof console<"u"&&console&&console.warn||(()=>{}),lQ="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",lt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cQ(){return jn.groups={},lt.scanner=null,lt.parser=null,lt.tokenQueue=[],lt.pluginQueue=[],lt.customSchemes=[],lt.initialized=!1,lt}function pk(t,e=!1){if(lt.initialized&&aQ(`linkifyjs: already initialized - will not register custom scheme "${t}" ${lQ}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);lt.customSchemes.push([t,e])}function uQ(){lt.scanner=nQ(lt.customSchemes);for(let t=0;t<lt.tokenQueue.length;t++)lt.tokenQueue[t][1]({scanner:lt.scanner});lt.parser=iQ(lt.scanner.tokens);for(let t=0;t<lt.pluginQueue.length;t++)lt.pluginQueue[t][1]({scanner:lt.scanner,parser:lt.parser});return lt.initialized=!0,lt}function Qv(t){return lt.initialized||uQ(),oQ(lt.parser.start,t,qA(lt.scanner.start,t))}Qv.scan=qA;function QA(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Kv(n),s=Qv(t),o=[];for(let l=0;l<s.length;l++){const c=s[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var Gv="[\0- -\u2029]",dQ=new RegExp(Gv),fQ=new RegExp(`${Gv}$`),hQ=new RegExp(Gv,"g");function pQ(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function mQ(t){return new wt({key:new qt("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:l}=r,c=mA(n.doc,[...e]);if(wA(c).forEach(({newRange:h})=>{const m=rq(r.doc,h,x=>x.isTextblock);let g,y;if(m.length>1)g=m[0],y=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(m.length){const x=r.doc.textBetween(h.from,h.to," "," ");if(!fQ.test(x))return;g=m[0],y=r.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&y){const x=y.split(dQ).filter(Boolean);if(x.length<=0)return!1;const v=x[x.length-1],w=g.pos+y.lastIndexOf(v);if(!v)return!1;const N=Qv(v).map(j=>j.toObject(t.defaultProtocol));if(!pQ(N))return!1;N.filter(j=>j.isLink).map(j=>({...j,from:w+j.start+1,to:w+j.end+1})).filter(j=>r.schema.marks.code?!r.doc.rangeHasMark(j.from,j.to,r.schema.marks.code):!0).filter(j=>t.validate(j.value)).filter(j=>t.shouldAutoLink(j.value)).forEach(j=>{Iv(j.from,j.to,r.doc).some(A=>A.mark.type===t.type)||l.addMark(j.from,j.to,t.type.create({href:j.href}))})}}),!!l.steps.length)return l}})}function gQ(t){return new wt({key:new qt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let m=r.target;const g=[];for(;m.nodeName!=="DIV";)g.push(m),m=m.parentNode;l=g.find(y=>y.nodeName==="A")}if(!l)return!1;const c=SA(e.state,t.type.name),f=(s=l?.href)!=null?s:c.href,h=(o=l?.target)!=null?o:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&f?(window.open(f,h),!0):!1}}})}function yQ(t){return new wt({key:new qt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:o}=e,{selection:l}=o,{empty:c}=l;if(c)return!1;let f="";r.content.forEach(m=>{f+=m.textContent});const h=QA(f,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===f);return!f||!h||s!==void 0&&!s(h.href)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function wo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(hQ,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var xQ=Zo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){pk(t);return}pk(t.scheme,t.optionalSlashes)})},onDestroy(){cQ()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!wo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!wo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!wo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ot(this.options.HTMLAttributes,t),0]:["a",Ot(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!wo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!wo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Wo({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=QA(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!wo(l,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(mQ({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!wo(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(gQ({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(yQ({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),bQ=Object.defineProperty,vQ=(t,e)=>{for(var n in e)bQ(t,n,{get:e[n],enumerable:!0})},SQ="listItem",mk="textStyle",gk=/^\s*([-+*])\s$/,GA=Xn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(SQ,this.editor.getAttributes(mk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=bl({find:gk,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=bl({find:gk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(mk),editor:this.editor})),[t]}}),WA=Xn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),c=e.parseChildren(l);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Bv(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wQ={};vQ(wQ,{findListItemPos:()=>td,getNextListDepth:()=>Wv,handleBackspace:()=>xb,handleDelete:()=>bb,hasListBefore:()=>YA,hasListItemAfter:()=>NQ,hasListItemBefore:()=>XA,listItemHasSubList:()=>JA,nextListIsDeeper:()=>ZA,nextListIsHigher:()=>eR});var td=(t,e)=>{const{$from:n}=e.selection,r=Rt(t,e.schema);let s=null,o=n.depth,l=n.pos,c=null;for(;o>0&&c===null;)s=n.node(o),s.type===r?c=o:(o-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},Wv=(t,e)=>{const n=td(t,e);if(!n)return!1;const[,r]=hq(e,t,n.$pos.pos+4);return r},YA=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},XA=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},JA=(t,e,n)=>{if(!n)return!1;const r=Rt(t,e.schema);let s=!1;return n.descendants(o=>{o.type===r&&(s=!0)}),s},xb=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Ki(t.state,e)&&YA(t.state,e,n)){const{$anchor:c}=t.state.selection,f=t.state.doc.resolve(c.before()-1),h=[];f.node().descendants((y,x)=>{y.type.name===e&&h.push({node:y,pos:x})});const m=h.at(-1);if(!m)return!1;const g=t.state.doc.resolve(f.start()+m.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},g.end()).joinForward().run()}if(!Ki(t.state,e)||!yq(t.state))return!1;const r=td(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=JA(e,t.state,o);return XA(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},ZA=(t,e)=>{const n=Wv(t,e),r=td(t,e);return!r||!n?!1:n>r.depth},eR=(t,e)=>{const n=Wv(t,e),r=td(t,e);return!r||!n?!1:n<r.depth},bb=(t,e)=>{if(!Ki(t.state,e)||!gq(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:ZA(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():eR(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},NQ=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},tR=Dt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&bb(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&bb(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&xb(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&xb(t,n,r)&&(e=!0)}),e}}}}),yk=/^(\s*)(\d+)\.\s+(.*)$/,CQ=/^\s/;function jQ(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],o=s.match(yk);if(!o)break;const[,l,c,f]=o,h=l.length;let m=f,g=n+1;const y=[s];for(;g<t.length;){const x=t[g];if(x.match(yk))break;if(x.trim()==="")y.push(x),m+=`
`,g+=1;else if(x.match(CQ))y.push(x),m+=`
${x.slice(h+2)}`,g+=1;else break}e.push({indent:h,number:parseInt(c,10),content:m.trim(),raw:y.join(`
`)}),r=g,n=g}return[e,r]}function nR(t,e,n){var r;const s=[];let o=0;for(;o<t.length;){const l=t[o];if(l.indent===e){const c=l.content.split(`
`),f=((r=c[0])==null?void 0:r.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:n.inlineTokens(f)});const m=c.slice(1).join(`
`).trim();if(m){const x=n.blockTokens(m);h.push(...x)}let g=o+1;const y=[];for(;g<t.length&&t[g].indent>e;)y.push(t[g]),g+=1;if(y.length>0){const x=Math.min(...y.map(w=>w.indent)),v=nR(y,x,n);h.push({type:"list",ordered:!0,start:y[0].number,items:v,raw:y.map(w=>w.raw).join(`
`)})}s.push({type:"list_item",raw:l.raw,tokens:h}),o=g}else o+=1}return s}function kQ(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const o=e.parseChildren([s]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([s]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var TQ="listItem",xk="textStyle",bk=/^(\d+)\.\s$/,rR=Xn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ot(this.options.HTMLAttributes,n),0]:["ol",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?kQ(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[o,l]=jQ(s);if(o.length===0)return;const c=nR(o,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:c,raw:s.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(TQ,this.editor.getAttributes(xk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=bl({find:bk,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=bl({find:bk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(xk)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),EQ=/^\s*(\[([( |x])?\])\s$/,_Q=Xn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ot(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Bv(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),f=document.createElement("div"),h=m=>{var g,y;c.ariaLabel=((y=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:y.call(g,m,c.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return h(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",m=>m.preventDefault()),c.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:g}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const x=n();if(typeof x!="number")return!1;const v=y.doc.nodeAt(x);return y.setNodeMarkup(x,void 0,{...v?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{s.setAttribute(m,g)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,l),s.append(o,f),Object.entries(e).forEach(([m,g])=>{s.setAttribute(m,g)}),{dom:s,contentDOM:f,update:m=>m.type!==this.type?!1:(s.dataset.checked=m.attrs.checked,c.checked=m.attrs.checked,h(m),!0)}}},addInputRules(){return[bl({find:EQ,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),MQ=Xn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ot(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const l=lb(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,f)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:f}),customNestedParser:r},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(o)},s=lb(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Dt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(GA.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(WA.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(tR.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(rR.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(_Q.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(MQ.configure(this.options.taskList)),t}});var AQ=Xn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ot(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),RQ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,OQ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,DQ=Zo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xl({find:RQ,type:this.type})]},addPasteRules(){return[Wo({find:OQ,type:this.type})]}}),IQ=Xn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),PQ=Zo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ot(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const o=s[2].trim();return{type:"underline",raw:s[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function LQ(t={}){return new wt({view(e){return new zQ(e,t)}})}class zQ{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=l=>{this[s](l)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),l=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(n){let g=e.nodeBefore,y=e.nodeAfter;if(g||y){let x=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(x){let v=x.getBoundingClientRect(),w=g?v.bottom:v.top;g&&y&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let N=this.width/2*c;r={left:v.left,right:v.right,top:w-N,bottom:w+N}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*l;r={left:g.left-y,right:g.left+y,top:g.top,bottom:g.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,m;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,m=-pageYOffset;else{let g=f.getBoundingClientRect(),y=g.width/f.offsetWidth,x=g.height/f.offsetHeight;h=g.left-f.scrollLeft*y,m=g.top-f.scrollTop*x}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=aM(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class bt extends Re{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return bt.valid(r)?new bt(r):Re.near(r)}content(){return me.empty}eq(e){return e instanceof bt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new bt(e.resolve(n.pos))}getBookmark(){return new Yv(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!BQ(e)||!VQ(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&bt.valid(e))return e;let s=e.pos,o=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){o=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;s+=n;let f=e.doc.resolve(s);if(bt.valid(f))return f}for(;;){let l=n>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!Ne.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=l,s+=n;let c=e.doc.resolve(s);if(bt.valid(c))return c}return null}}}bt.prototype.visible=!1;bt.findFrom=bt.findGapCursorFrom;Re.jsonID("gapcursor",bt);class Yv{constructor(e){this.pos=e}map(e){return new Yv(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return bt.valid(n)?new bt(n):Re.near(n)}}function sR(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function BQ(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||sR(s.type))return!0;if(s.inlineContent)return!1}}return!0}function VQ(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||sR(s.type))return!0;if(s.inlineContent)return!1}}return!0}function $Q(){return new wt({props:{decorations:qQ,createSelectionBetween(t,e,n){return e.pos==n.pos&&bt.valid(n)?new bt(n):null},handleClick:UQ,handleKeyDown:HQ,handleDOMEvents:{beforeinput:FQ}}})}const HQ=aA({ArrowLeft:sh("horiz",-1),ArrowRight:sh("horiz",1),ArrowUp:sh("vert",-1),ArrowDown:sh("vert",1)});function sh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let l=r.selection,c=e>0?l.$to:l.$from,f=l.empty;if(l instanceof ke){if(!o.endOfTextblock(n)||c.depth==0)return!1;f=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=bt.findGapCursorFrom(c,e,f);return h?(s&&s(r.tr.setSelection(new bt(h))),!0):!1}}function UQ(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!bt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ne.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new bt(r))),!0)}function FQ(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof bt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=ae.empty;for(let l=r.length-1;l>=0;l--)s=ae.from(r[l].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new me(s,0,0));return o.setSelection(ke.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function qQ(t){if(!(t.selection instanceof bt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ft.create(t.doc,[hn.widget(t.selection.head,e,{key:"gapcursor"})])}var Dp=200,Ft=function(){};Ft.prototype.append=function(e){return e.length?(e=Ft.from(e),!this.length&&e||e.length<Dp&&this.leafAppend(e)||this.length<Dp&&e.leafPrepend(this)||this.appendInner(e)):this};Ft.prototype.prepend=function(e){return e.length?Ft.from(e).append(this):this};Ft.prototype.appendInner=function(e){return new KQ(this,e)};Ft.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ft.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ft.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ft.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ft.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,l){return s.push(e(o,l))},n,r),s};Ft.from=function(e){return e instanceof Ft?e:e&&e.length?new iR(e):Ft.empty};var iR=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,l,c){for(var f=o;f<l;f++)if(s(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,l,c){for(var f=o-1;f>=l;f--)if(s(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Dp)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Dp)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Ft);Ft.empty=new iR([]);var KQ=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,l){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),l)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,l){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,l+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,l)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Ft);const QQ=500;class Cr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let l=e.tr,c,f,h=[],m=[];return this.items.forEach((g,y)=>{if(!g.step){s||(s=this.remapping(r,y+1),o=s.maps.length),o--,m.push(g);return}if(s){m.push(new Ur(g.map));let x=g.step.map(s.slice(o)),v;x&&l.maybeStep(x).doc&&(v=l.mapping.maps[l.mapping.maps.length-1],h.push(new Ur(v,void 0,void 0,h.length+m.length))),o--,v&&s.appendMap(v,o)}else l.maybeStep(g.step);if(g.selection)return c=s?g.selection.map(s.slice(o)):g.selection,f=new Cr(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:c}}addTransform(e,n,r,s){let o=[],l=this.eventCount,c=this.items,f=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let g=e.steps[m].invert(e.docs[m]),y=new Ur(e.mapping.maps[m],g,n),x;(x=f&&f.merge(y))&&(y=x,m?o.pop():c=c.slice(0,c.length-1)),o.push(y),n&&(l++,n=void 0),s||(f=y)}let h=l-r.depth;return h>WQ&&(c=GQ(c,h),l-=h),new Cr(c.append(o),l)}remapping(e,n){let r=new ku;return this.items.forEach((s,o)=>{let l=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new Cr(this.items.append(e.map(n=>new Ur(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},s);let f=n;this.items.forEach(y=>{let x=o.getMirror(--f);if(x==null)return;l=Math.min(l,x);let v=o.maps[x];if(y.step){let w=e.steps[x].invert(e.docs[x]),N=y.selection&&y.selection.map(o.slice(f+1,x));N&&c++,r.push(new Ur(v,w,N))}else r.push(new Ur(v))},s);let h=[];for(let y=n;y<l;y++)h.push(new Ur(o.maps[y]));let m=this.items.slice(0,s).append(h).append(r),g=new Cr(m,c);return g.emptyItemCount()>QQ&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],o=0;return this.items.forEach((l,c)=>{if(c>=e)s.push(l),l.selection&&o++;else if(l.step){let f=l.step.map(n.slice(r)),h=f&&f.getMap();if(r--,h&&n.appendMap(h,r),f){let m=l.selection&&l.selection.map(n.slice(r));m&&o++;let g=new Ur(h.invert(),f,m),y,x=s.length-1;(y=s.length&&s[x].merge(g))?s[x]=y:s.push(g)}}else l.map&&r--},this.items.length,0),new Cr(Ft.from(s.reverse()),o)}}Cr.empty=new Cr(Ft.empty,0);function GQ(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Ur{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ur(n.getMap().invert(),n,this.selection)}}}class wi{constructor(e,n,r,s,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const WQ=20;function YQ(t,e,n,r){let s=n.getMeta(Po),o;if(s)return s.historyState;n.getMeta(ZQ)&&(t=new wi(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Po))return l.getMeta(Po).redo?new wi(t.done.addTransform(n,void 0,r,Sh(e)),t.undone,vk(n.mapping.maps),t.prevTime,t.prevComposition):new wi(t.done,t.undone.addTransform(n,void 0,r,Sh(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!XQ(n,t.prevRanges)),h=l?sx(t.prevRanges,n.mapping):vk(n.mapping.maps);return new wi(t.done.addTransform(n,f?e.selection.getBookmark():void 0,r,Sh(e)),Cr.empty,h,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new wi(t.done.rebased(n,o),t.undone.rebased(n,o),sx(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new wi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),sx(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function XQ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function vk(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,o,l)=>e.push(o,l));return e}function sx(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}function JQ(t,e,n){let r=Sh(e),s=Po.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),f=new wi(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(l).setMeta(Po,{redo:n,historyState:f})}let ix=!1,Sk=null;function Sh(t){let e=t.plugins;if(Sk!=e){ix=!1,Sk=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ix=!0;break}}return ix}const Po=new qt("history"),ZQ=new qt("closeHistory");function eG(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new wt({key:Po,state:{init(){return new wi(Cr.empty,Cr.empty,null,0,-1)},apply(e,n,r){return YQ(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?aR:r=="historyRedo"?lR:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function oR(t,e){return(n,r)=>{let s=Po.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let o=JQ(s,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const aR=oR(!1,!0),lR=oR(!0,!0);Dt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new wt({key:new qt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const l=o-s,c=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(c,f);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,f=o-r,h=c-f,m=c;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>r)}})]}});var tG=Dt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[LQ(this.options)]}});Dt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new wt({key:new qt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!n||!r)return ft.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,h)=>{if(f.isText)return;if(!(s>=h&&s<=h+f.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((f,h)=>{if(f.isText||!(s>=h&&s<=h+f.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(hn.node(h,h+f.nodeSize,{class:this.options.className}))}),ft.create(t,o)}}})]}});var nG=Dt.create({name:"gapCursor",addProseMirrorPlugins(){return[$Q()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Xe(we(t,"allowGapCursor",n)))!=null?e:null}}});Dt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new wt({key:new qt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((l,c)=>{const f=r>=c&&r<=c+l.nodeSize,h=!l.isLeaf&&Em(l);if((f||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const g=hn.node(c,c+l.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:f}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),ft.create(t,s)}}})]}});Dt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new wt({key:new qt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||NA(n.selection)||t.view.dragging?null:ft.create(n.doc,[hn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function wk({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var rG=Dt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new qt(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new wt({key:e,appendTransaction:(s,o,l)=>{const{doc:c,tr:f,schema:h}=l,m=e.getState(l),g=c.content.size,y=h.nodes[n];if(m)return f.insert(g,y.create())},state:{init:(s,o)=>{const l=o.tr.doc.lastChild;return!wk({node:l,types:r})},apply:(s,o)=>{if(!s.docChanged)return o;const l=s.doc.lastChild;return!wk({node:l,types:r})}}})]}}),sG=Dt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>aR(t,e),redo:()=>({state:t,dispatch:e})=>lR(t,e)}},addProseMirrorPlugins(){return[eG(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),iG=Dt.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(RK.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(TK.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(GA.configure(this.options.bulletList)),this.options.code!==!1&&s.push(IK.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(zK.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(BK.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(tG.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(nG.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(VK.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push($K.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(sG.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(HK.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(QK.configure(this.options.italic)),this.options.listItem!==!1&&s.push(WA.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(tR.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(xQ.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(rR.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(AQ.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(DQ.configure(this.options.strike)),this.options.text!==!1&&s.push(IQ.configure(this.options.text)),this.options.underline!==!1&&s.push(PQ.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(rG.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),oG=iG;const nd=({label:t="",name:e="content",value:n="",onChange:r,placeholder:s="Nhp ni dung...",height:o="200px",required:l=!1,error:c="",disabled:f=!1,className:h=""})=>{const m=wK({extensions:[oG.configure({heading:{levels:[1,2,3]}})],content:n,editable:!f,onUpdate:({editor:y})=>{const x=y.getHTML();r&&r({target:{name:e,value:x}})},editorProps:{attributes:{class:`prose max-w-none focus:outline-none ${f?"opacity-60 cursor-not-allowed":""}`,placeholder:s}}});C.useEffect(()=>{m&&n!==void 0&&n!==null&&m.getHTML()!==n&&m.commands.setContent(n)},[m,n]);const g=({icon:y,onClick:x,isActive:v=!1})=>u.jsx("button",{type:"button",onClick:x,disabled:f,className:`p-2 rounded-md transition-colors ${v?"bg-gray-200 text-gray-900":"text-gray-600 hover:bg-gray-100"} ${f?"opacity-50 cursor-not-allowed":""}`,children:y});return u.jsxs("div",{className:`mb-6 ${h}`,children:[t&&u.jsxs("label",{className:"block mb-2 text-sm font-semibold text-gray-700",children:[t," ",l&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:`border ${c?"border-red-500":"border-gray-300"} rounded-lg overflow-hidden`,children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 bg-gray-50 border-b border-gray-300",children:[u.jsx(g,{icon:u.jsx(SI,{size:18}),onClick:()=>m?.chain().focus().toggleBold().run(),isActive:m?.isActive("bold")||!1}),u.jsx(g,{icon:u.jsx(a4,{size:18}),onClick:()=>m?.chain().focus().toggleItalic().run(),isActive:m?.isActive("italic")||!1}),u.jsx("div",{className:"w-px h-6 mx-1 bg-gray-300"}),u.jsx(g,{icon:u.jsx(JI,{size:18}),onClick:()=>m?.chain().focus().toggleHeading({level:1}).run(),isActive:m?.isActive("heading",{level:1})||!1}),u.jsx(g,{icon:u.jsx(e4,{size:18}),onClick:()=>m?.chain().focus().toggleHeading({level:2}).run(),isActive:m?.isActive("heading",{level:2})||!1}),u.jsx(g,{icon:u.jsx(n4,{size:18}),onClick:()=>m?.chain().focus().toggleHeading({level:3}).run(),isActive:m?.isActive("heading",{level:3})||!1}),u.jsx("div",{className:"w-px h-6 mx-1 bg-gray-300"}),u.jsx(g,{icon:u.jsx(on,{size:18}),onClick:()=>m?.chain().focus().toggleBulletList().run(),isActive:m?.isActive("bulletList")||!1}),u.jsx(g,{icon:u.jsx(iT,{size:18}),onClick:()=>m?.chain().focus().toggleOrderedList().run(),isActive:m?.isActive("orderedList")||!1}),u.jsx("div",{className:"w-px h-6 mx-1 bg-gray-300"}),u.jsx(g,{icon:u.jsx(I4,{size:18}),onClick:()=>m?.chain().focus().toggleBlockquote().run(),isActive:m?.isActive("blockquote")||!1}),u.jsx(g,{icon:u.jsx($I,{size:18}),onClick:()=>m?.chain().focus().toggleCodeBlock().run(),isActive:m?.isActive("codeBlock")||!1}),u.jsxs("div",{className:"ml-auto flex gap-1",children:[u.jsx(g,{icon:u.jsx(cP,{size:18}),onClick:()=>m?.chain().focus().undo().run()}),u.jsx(g,{icon:u.jsx(L4,{size:18}),onClick:()=>m?.chain().focus().redo().run()})]})]}),u.jsx("div",{className:"bg-white",style:{minHeight:o},children:u.jsx(mK,{editor:m,className:`h-full p-4 prose max-w-none focus:outline-none ${f?"opacity-60 cursor-not-allowed":""}`})}),u.jsx("style",{children:`
          .ProseMirror p.is-editor-empty:first-child::before {
            content: attr(data-placeholder);
            float: left;
            color: #adb5bd;
            pointer-events: none;
            height: 0;
          }
          .ProseMirror:focus {
            outline: none;
          }
        `})]}),c&&u.jsx("div",{className:"text-red-500 text-xs font-medium mt-2",children:c})]})},aG=[{value:"active",label:"Hot ng"},{value:"inactive",label:"Khng hot ng"}],lG=t=>{const e={};t.subcategoryNameVn?.trim()||(e.subcategoryNameVn="Tn danh mc con l bt buc"),t.status||(e.status="Vui lng chn trng thi");const n=(t.descriptionVn||"").trim();return(!n||n==="<p><br></p>"||n==="<p></p>")&&(e.descriptionVn="M t danh mc l bt buc"),t.subcategoryImage||(e.subcategoryImage="Vui lng chn hnh nh"),t.categoryId||(e.categoryId="Vui lng chn danh mc cha"),e},cG=t=>Object.keys(t).length>0,uG=()=>{const[t,e]=C.useState(Yj),[n,r]=C.useState({}),[s,{isLoading:o}]=G7(),l=C.useRef(null),c=g=>{const y=g.target,x=y.name;let v=y.value;x&&(typeof v!="string"&&(Array.isArray(v)?v=v.join(","):v=v!=null?String(v):""),e(w=>({...w,[x]:v})),n[x]&&r(w=>({...w,[x]:""})))},f=g=>{const{value:y,files:x}=g.target,v=Array.isArray(y)?y.length>0?y[0]:null:y;console.log("Selected files:",x),e(w=>({...w,subcategoryImage:v})),n.subcategoryImage&&r(w=>({...w,subcategoryImage:""}))},h=()=>{e(Yj),r({}),l.current?.clearAll()};return{formData:t,errors:n,isLoading:o,imageUploadRef:l,handleInputChange:c,handleImageChange:f,handleSubmit:async g=>{g.preventDefault();try{const y=lG(t);if(cG(y)){r(y),At({message:"Vui lng kim tra li thng tin form",type:"error"});return}r({});const x=new FormData;x.append("categoryId",String(t.categoryId)),x.append("subcategoryNameVn",t.subcategoryNameVn),x.append("descriptionVn",t.descriptionVn),x.append("status",t.status),t.subcategoryImage&&x.append("subcategoryImage",t.subcategoryImage),console.log("Form data to submit:",{categoryId:t.categoryId,subcategoryNameVn:t.subcategoryNameVn,descriptionVn:t.descriptionVn,status:t.status,subcategoryImage:t.subcategoryImage?.name}),await s(x).unwrap(),At({message:"To danh mc con thnh cng",type:"success"}),h()}catch(y){console.error("Error creating subcategory:",y),At({message:"C li xy ra khi to danh mc con",type:"error"})}},resetForm:h}},dG=()=>{const{data:t,error:e,isLoading:n}=qu({}),r=t?.data?.categories,{formData:s,errors:o,isLoading:l,imageUploadRef:c,handleInputChange:f,handleImageChange:h,handleSubmit:m,resetForm:g}=uG(),y=r?.map(x=>({value:x.category_id.toString(),label:x.category_name_vn}))||[];return console.log("Categories Data:",r),n?u.jsx(pt,{type:"div",text:"ang ti danh mc..."}):e?u.jsx("div",{className:"bg-white p-4 rounded-md border shadow-md max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col items-center justify-center p-6 min-h-[400px]",children:[u.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"C li xy ra"}),u.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Khng th ti danh mc. Vui lng th li sau."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition",children:"Th li"})]})}):u.jsxs(u.Fragment,{children:[u.jsx(Dr,{}),u.jsxs("div",{className:"p-2 max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"To danh mc con"}),u.jsxs("form",{onSubmit:m,children:[u.jsx(En,{label:"Chn danh mc cp cha",name:"categoryId",value:s.categoryId.toString(),onChange:f,options:y,placeholder:"Chn danh mc cp cha...",required:!0,clearable:!0,error:o.categoryId,disabled:l||n}),u.jsx($e,{label:"Tn danh mc con",type:"text",name:"subcategoryNameVn",placeholder:"Nhp tn danh mc con...",value:s.subcategoryNameVn,onChange:f,required:!0,error:o.subcategoryNameVn,disabled:l}),u.jsx(nd,{label:"M t danh mc con",name:"descriptionVn",value:s.descriptionVn,onChange:f,placeholder:"Nhp m t chi tit v danh mc con...",height:"250px",required:!0,error:o.descriptionVn,disabled:l}),u.jsx(En,{label:"Trng thi",name:"status",value:s.status,onChange:f,options:aG,placeholder:"Chn trng thi...",required:!0,clearable:!0,error:o.status,disabled:l}),u.jsx(Or,{ref:c,label:"nh danh mc con",name:"subcategoryImage",onChange:h,required:!0,maxSize:5,error:o.subcategoryImage,disabled:l}),u.jsxs("div",{className:"mt-6 flex gap-4 justify-end",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"large",onClick:g,disabled:l,children:"Lm mi"}),u.jsx(Qe,{variant:"primary",size:"large",type:"submit",disabled:l,children:l?u.jsx(pt,{type:"inline",text:"ang to..."}):"To danh mc con"})]})]})]})]})},fG=Ge("/admin/subcategories/create")({component:dG}),wh=Fu({reducerPath:"productTypeApi",baseQuery:Wp,tagTypes:["ProductTypes"],endpoints:t=>({createProductType:t.mutation({query:e=>({url:"/productTypes/create",method:"POST",body:e}),invalidatesTags:[{type:"ProductTypes",id:"LIST"}]}),getProductTypes:t.query({query:e=>({url:`/productTypes${e?"?"+new URLSearchParams(e).toString():""}`,method:"GET"}),providesTags:()=>[{type:"ProductTypes",id:"LIST"}]}),getProductTypeById:t.query({query:e=>({url:`/productTypes/${e}`,method:"GET"})}),deleteProductTypeById:t.mutation({query:e=>({url:`/productTypes/${e}`,method:"DELETE"}),invalidatesTags:[{type:"ProductTypes",id:"LIST"}]}),updateProductTypeById:t.mutation({query:({id:e,formData:n})=>({url:`/productTypes/${e}`,method:"PUT",body:n})})})}),{useCreateProductTypeMutation:hG,useGetProductTypesQuery:Rm,useDeleteProductTypeByIdMutation:pG,useUpdateProductTypeByIdMutation:mG,useGetProductTypeByIdQuery:gG}=wh,yG=[{value:"all",label:"Tt c"},{value:"active",label:"Hot ng"},{value:"inactive",label:"V hiu ha"}],xG=[{value:"created_at|ASC",label:"C nht"},{value:"created_at|DESC",label:"Mi nht"},{value:"product_name_vn|ASC",label:"Tn A-Z"},{value:"product_name_vn|DESC",label:"Tn Z-A"},{value:"price|ASC",label:"Gi thp n cao"},{value:"price|DESC",label:"Gi cao n thp"}],bG=({onSearchChange:t,onStatusChange:e,onSortChange:n,onProductTypeChange:r,onPriceRangeChange:s,onClearFilters:o,currentStatus:l,currentSort:c,currentProductTypeId:f,currentMinPrice:h,currentMaxPrice:m})=>{const[g,y]=C.useState(""),[x,v]=C.useState(h?.toString()||""),[w,N]=C.useState(m?.toString()||""),{data:j}=Rm({status:"active",limit:100}),A=j?.data?.product_types||[];C.useEffect(()=>{const M=setTimeout(()=>{t(g)},500);return()=>clearTimeout(M)},[g,t]),C.useEffect(()=>{const M=setTimeout(()=>{const R=x?parseFloat(x):void 0,I=w?parseFloat(w):void 0;s(R,I)},800);return()=>clearTimeout(M)},[x,w,s]);const E=M=>{n(M)},_=M=>{r(M==="all"?void 0:parseInt(M))},T=()=>{y(""),v(""),N(""),o()},O=g||f||h||m||l!=="all";return u.jsx("div",{className:"bg-white p-4 rounded-md shadow-sm",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-3 items-end",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),u.jsx(Ja,{placeholder:"Tm theo tn sn phm...",className:"pl-10",value:g,onChange:M=>y(M.target.value)})]})}),u.jsx("div",{className:"w-48",children:u.jsxs(Fn,{value:l,onValueChange:M=>e(M),children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Chn trng thi"})}),u.jsx(Qn,{children:yG.map(M=>u.jsx(fn,{value:M.value,children:M.label},M.value))})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:c,onValueChange:E,children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Sp xp"})}),u.jsx(Qn,{children:xG.map(M=>u.jsx(fn,{value:M.value,children:M.label},M.value))})]})})]}),u.jsxs("div",{className:"flex gap-3 items-end",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Loi sn phm"}),u.jsxs(Fn,{value:f?.toString()||"all",onValueChange:_,children:[u.jsx(Kn,{children:u.jsx(qn,{placeholder:"Tt c loi sn phm"})}),u.jsxs(Qn,{children:[u.jsx(fn,{value:"all",children:"Tt c loi sn phm"}),A.map(M=>u.jsx(fn,{value:M.product_type_id.toString(),children:M.product_type_name_vn},M.product_type_id))]})]})]}),u.jsxs("div",{className:"w-48",children:[u.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Gi t (VN)"}),u.jsx(Ja,{type:"number",placeholder:"0",value:x,onChange:M=>v(M.target.value),min:"0"})]}),u.jsxs("div",{className:"w-48",children:[u.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Gi n (VN)"}),u.jsx(Ja,{type:"number",placeholder:"Khng gii hn",value:w,onChange:M=>N(M.target.value),min:"0"})]}),O&&u.jsxs(Gn,{variant:"outline",onClick:T,className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300",children:[u.jsx(ht,{className:"h-4 w-4 mr-1"}),"Xa b lc"]})]})]})})},vG=({setOpenDeleteModal:t,product:e,onSuccess:n})=>{const[r,{isLoading:s}]=E6(),o=async()=>{if(e)try{await r(e.product_id).unwrap(),At({message:"Xa sn phm thnh cng!",type:"success"}),t(!1),n&&n()}catch(c){const f=c&&typeof c=="object"&&"data"in c?c.data?.message??"Khng th xa sn phm":"Khng th xa sn phm";At({message:f,type:"error"})}},l=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c);return e?u.jsxs("div",{children:[u.jsx(mm,{}),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-red-50 px-6 py-4 border-b border-red-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:u.jsx(pr,{className:"w-5 h-5 text-red-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Xc nhn xa sn phm"}),u.jsx("p",{className:"text-sm text-red-600",children:"Hnh ng ny khng th hon tc"})]})]}),u.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-lg hover:bg-red-100 text-gray-600 transition-colors flex items-center justify-center",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:u.jsxs("div",{className:"flex gap-4",children:[e.main_image?u.jsx("img",{src:e.main_image,alt:e.product_name_vn,className:"w-24 h-24 object-cover rounded-lg border border-gray-300 shrink-0"}):u.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg border border-gray-300 flex items-center justify-center shrink-0",children:u.jsx(Ti,{className:"w-8 h-8 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1 truncate",children:e.product_name_vn}),u.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["M: ",u.jsx("span",{className:"font-medium",children:e.product_code})]}),u.jsx("p",{className:"text-base font-semibold text-green-700",children:l(e.price)})]})]})}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{className:"text-gray-700 mb-4 text-base leading-relaxed",children:["Bn c chc chn mun xa sn phm"," ",u.jsx("span",{className:"font-bold text-gray-900",children:e.product_name_vn})," khng?"]})}),u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx(pr,{className:"w-4 h-4 text-amber-600"}),"Tc ng ca hnh ng ny:"]}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{children:"Xa vnh vin sn phm ny khi h thng"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(ll,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa sn phm ny khi gi hng ca tt c khch hng"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(C4,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa tt c cc nh gi lin quan n sn phm ny"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{className:"font-semibold text-red-700",children:"Khng th hon tc hnh ng ny"})]})]})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold mt-0.5",children:""}),u.jsxs("span",{children:[u.jsx("strong",{children:"Lu :"})," Nu sn phm ny ang c s dng trong n hng, bn s khng th xa n. H thng s thng bo li khi thc hin xa."]})]})}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx(Qe,{variant:"secondary",onClick:()=>t(!1),disabled:s,className:"px-6",children:"Hy b"}),u.jsx(Qe,{variant:"danger",onClick:o,disabled:s,className:"px-6 flex items-center gap-2",children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang xa..."]}):u.jsxs(u.Fragment,{children:[u.jsx(pr,{className:"w-4 h-4"}),"Xa sn phm"]})})]})]})]})})]}):null};function SG({data:t,isLoading:e,onDeleteSuccess:n}){const r=zt(),[s,o]=C.useState(!1),[l,c]=C.useState(null),f=x=>{r({to:`/admin/products/edit/${x}`})},h=x=>{r({to:`/admin/products/detail/${x}`})},m=x=>{c(x),o(!0)};if(e)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsxs("div",{className:"flex justify-center items-center h-32",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),u.jsx("span",{className:"ml-2",children:"ang ti sn phm..."})]})});if(!t||t.length===0)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsx("div",{className:"flex justify-center items-center h-32",children:u.jsx("p",{className:"text-gray-500",children:"Khng tm thy sn phm no"})})});const g=x=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(x),y=x=>{if(!x)return"-";const v=new Date(x);return`${v.getDate()}/${v.getMonth()+1}/${v.getFullYear()}`};return u.jsxs("div",{className:"rounded-md border",children:[u.jsxs(um,{children:[u.jsx(dm,{children:u.jsxs(Fi,{children:[u.jsx(He,{className:"w-20",children:"ID"}),u.jsx(He,{className:"w-24",children:"Hnh nh"}),u.jsx(He,{children:"Tn sn phm"}),u.jsx(He,{children:"Loi sn phm"}),u.jsx(He,{className:"w-32",children:"Gi"}),u.jsx(He,{className:"w-24",children:"Cht liu"}),u.jsx(He,{className:"w-24",children:"Mu sc"}),u.jsx(He,{className:"w-28",children:"Trng thi"}),u.jsx(He,{className:"w-28",children:"Ngy to"}),u.jsx(He,{className:"w-36 text-center",children:"Thao tc"})]})}),u.jsx(fm,{children:t.map(x=>u.jsxs(Fi,{children:[u.jsx(Ue,{children:x.product_id}),u.jsx(Ue,{children:x.main_image?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:x.main_image,alt:x.product_name_vn,className:"w-12 h-12 object-cover rounded cursor-pointer border"}),u.jsx("div",{className:"hidden group-hover:block absolute left-0 top-0 z-10",children:u.jsx("img",{src:x.main_image,alt:x.product_name_vn,className:"w-64 h-64 object-cover rounded shadow-lg border"})})]}):u.jsx("span",{className:"text-gray-400 text-sm",children:"Khng c hnh"})}),u.jsx(Ue,{className:"font-medium",children:x.product_name_vn}),u.jsx(Ue,{children:x.product_type_name_vn||"-"}),u.jsx(Ue,{className:"font-semibold text-green-700",children:g(x.price)}),u.jsx(Ue,{children:x.material_vn||"-"}),u.jsx(Ue,{children:x.color_vn||"-"}),u.jsx(Ue,{children:u.jsx(wu,{variant:x.status==="active"?"default":"secondary",className:x.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200",children:x.status==="active"?"Hot ng":"V hiu ha"})}),u.jsx(Ue,{className:"text-sm",children:y(x.created_at)}),u.jsx(Ue,{children:u.jsxs("div",{className:"flex gap-1 justify-center",children:[u.jsx(Gn,{variant:"ghost",size:"sm",onClick:()=>h(x.product_id),className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Xem chi tit",children:u.jsx(fr,{className:"h-4 w-4"})}),u.jsx(Gn,{variant:"ghost",size:"sm",onClick:()=>f(x.product_id),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",title:"Chnh sa",children:u.jsx(_4,{className:"h-4 w-4"})}),u.jsx(Gn,{variant:"ghost",size:"sm",onClick:()=>m(x),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Xa",children:u.jsx(jl,{className:"h-4 w-4"})})]})})]},x.product_id))})]}),s&&u.jsx(vG,{setOpenDeleteModal:o,product:l,onSuccess:n})]})}const wG=()=>{const[t,e]=C.useState({status:"active",sort_by:"created_at",sort_order:"DESC",page:1,limit:10}),[n,r]=C.useState({page:1,limit:10,total:0,totalPages:0}),s=(T,O)=>!(T==="status"&&O==="all"||O==null||O===""||typeof O=="number"&&(O===0||isNaN(O))),o=Object.fromEntries(Object.entries(t).filter(([T,O])=>s(T,O)));console.log("Query before filter:",t),console.log("Query after filter:",o);const{data:l,isLoading:c,error:f,isFetching:h,refetch:m}=Yp(o,{refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,skip:!1});C.useEffect(()=>{l?.data?.pagination&&r(l.data.pagination),f&&console.error("Error fetching products:",f)},[l]);const g=C.useCallback(T=>{e(O=>({...O,page:T}))},[]),y=C.useCallback(T=>{e(O=>({...O,limit:T,page:1}))},[]),x=C.useCallback(T=>{e(O=>({...O,status:T,page:1}))},[]),v=C.useCallback(T=>{const[O,M]=T.split("|");e(R=>({...R,sort_by:O,sort_order:M,page:1}))},[]),w=C.useCallback(T=>{e(O=>({...O,product_name_vn:T,page:1}))},[]),N=C.useCallback(T=>{e(O=>({...O,category_id:T,subcategory_id:void 0,product_type_id:void 0,page:1}))},[]),j=C.useCallback(T=>{e(O=>({...O,subcategory_id:T,product_type_id:void 0,page:1}))},[]),A=C.useCallback(T=>{e(O=>({...O,product_type_id:T,page:1}))},[]),E=C.useCallback((T,O)=>{e(M=>({...M,min_price:T,max_price:O,page:1}))},[]),_=C.useCallback(()=>{e({status:"active",sort_by:"created_at",sort_order:"DESC",page:1,limit:10})},[]);return{products:l?.data?.products||[],isLoading:c,isFetching:h,error:f,pagination:n,query:t,handlePageChange:g,handleLimitChange:y,handleStatusChange:x,handleSortChange:v,handleSearchChange:w,handleCategoryChange:N,handleSubcategoryChange:j,handleProductTypeChange:A,handlePriceRangeChange:E,handleClearFilters:_,refetch:m}},NG=()=>{const{products:t,isLoading:e,error:n,pagination:r,query:s,handlePageChange:o,handleLimitChange:l,handleStatusChange:c,handleSortChange:f,handleSearchChange:h,handleProductTypeChange:m,handlePriceRangeChange:g,handleClearFilters:y,refetch:x}=wG(),v=`${s.sort_by||"created_at"}|${s.sort_order||"DESC"}`,w=()=>{x()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Dr,{}),u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qun l sn phm"}),u.jsx(bG,{onSearchChange:h,onStatusChange:c,onSortChange:f,onProductTypeChange:m,onPriceRangeChange:g,onClearFilters:y,currentStatus:s.status||"all",currentSort:v,currentProductTypeId:s.product_type_id,currentMinPrice:s.min_price,currentMaxPrice:s.max_price}),n&&u.jsx("div",{className:"text-red-500 text-center py-4",children:"Li khi ti sn phm"}),u.jsx(SG,{data:t,isLoading:e,onDeleteSuccess:w}),u.jsx(Dl,{pagination:r,onPageChange:o,onLimitChange:l,showInfo:!0,limitOptions:[10,20,50,100]})]})},CG=Ge("/admin/products/list")({component:NG}),cR=[{value:"all",label:"Tt c trng thi"},{value:"active",label:"Hot ng"},{value:"inactive",label:"Khng hot ng"}],jG=t=>{const e={};return t.productCode.trim()||(e.productCode="M sn phm khng c  trng"),t.productNameVn.trim()||(e.productNameVn="Tn sn phm khng c  trng"),t.mainImage||(e.mainImage="Vui lng ti ln nh chnh"),(!t.price||parseFloat(t.price)<=0)&&(e.price="Gi sn phm phi ln hn 0"),(!t.warrantyPeriod||parseInt(t.warrantyPeriod)<0)&&(e.warrantyPeriod="Thi gian bo hnh khng hp l"),t.length&&parseFloat(t.length)<=0&&(e.length="Chiu di phi ln hn 0"),t.width&&parseFloat(t.width)<=0&&(e.width="Chiu rng phi ln hn 0"),t.height&&parseFloat(t.height)<=0&&(e.height="Chiu cao phi ln hn 0"),e},kG=t=>Object.keys(t).length>0,TG=t=>typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string",EG=t=>{const e="C li xy ra khi to sn phm";if(!t)return e;if(typeof t=="object"){const n=t;if(n.data?.message)return n.data.message;if(TG(t))return t.message}return e},Nk={productCode:"",productNameVn:"",mainImage:null,subImages:[],length:"",width:"",height:"",materialVn:"",descriptionVn:"",originVn:"",colorVn:"",productTypeId:"",status:"active",warrantyPeriod:"",price:""},_G=()=>{const[t,e]=C.useState(Nk),[n,r]=C.useState({}),[s,{isLoading:o}]=k6(),l=C.useRef(null),c=C.useRef(null),f=x=>{const v=x.target,w=v.name;let N=v.value;w&&(typeof N!="string"&&(Array.isArray(N)?N=N.join(","):N=N!=null?String(N):""),e(j=>({...j,[w]:N})),n[w]&&r(j=>({...j,[w]:""})))},h=x=>{const{value:v}=x.target,w=Array.isArray(v)?v.length>0?v[0]:null:v;e(N=>({...N,mainImage:w})),n.mainImage&&r(N=>({...N,mainImage:""}))},m=x=>{const{files:v}=x.target;e(w=>({...w,subImages:v})),n.subImages&&r(w=>({...w,subImages:""}))},g=()=>{e(Nk),r({}),l.current?.clearAll(),c.current?.clearAll()};return{formData:t,errors:n,isLoading:o,mainImageUploadRef:l,subImagesUploadRef:c,handleInputChange:f,handleMainImageChange:h,handleSubImagesChange:m,handleSubmit:async x=>{x.preventDefault();const v=jG(t);if(kG(v)){r(v),At({message:"Vui lng kim tra li thng tin form",type:"error"});return}r({});try{const w=new FormData;if(w.append("productCode",t.productCode),w.append("productNameVn",t.productNameVn),w.append("length",t.length),w.append("width",t.width),w.append("height",t.height),w.append("materialVn",t.materialVn),w.append("descriptionVn",t.descriptionVn),w.append("originVn",t.originVn),w.append("colorVn",t.colorVn),w.append("productTypeId",t.productTypeId),w.append("status",t.status),w.append("warrantyPeriod",t.warrantyPeriod),w.append("price",t.price),t.mainImage&&w.append("mainImage",t.mainImage),t.subImages&&t.subImages.length>0)for(const N of t.subImages)w.append("subImage",N);await s(w).unwrap(),At({message:"To sn phm thnh cng",type:"success"}),g()}catch(w){console.error("Error creating product:",w);const N=EG(w);At({message:N,type:"error"})}},resetForm:g}},MG=()=>{const{formData:t,errors:e,isLoading:n,mainImageUploadRef:r,subImagesUploadRef:s,handleInputChange:o,handleMainImageChange:l,handleSubImagesChange:c,handleSubmit:f,resetForm:h}=_G(),{data:m,isLoading:g}=Rm({status:"active",limit:100}),y=(m?.data?.product_types||[]).map(x=>({value:x.product_type_id.toString(),label:x.product_type_name_vn}));return u.jsxs("div",{className:"bg-gray-50 py-4 px-6",children:[u.jsx(Dr,{}),u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"To sn phm mi"}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"in y  thng tin bn di  to sn phm mi"})]}),u.jsx("form",{onSubmit:f,children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"1. Thng tin c bn"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx($e,{label:"M sn phm",type:"text",name:"productCode",placeholder:"VD: SP001",value:t.productCode,onChange:o,required:!0,error:e.productCode,disabled:n}),u.jsx(En,{label:"Trng thi",name:"status",value:t.status,onChange:o,options:cR,placeholder:"Chn trng thi...",required:!0,clearable:!0,error:e.status,disabled:n})]}),u.jsx($e,{label:"Tn sn phm",type:"text",name:"productNameVn",placeholder:"Nhp tn sn phm...",value:t.productNameVn,onChange:o,required:!0,error:e.productNameVn,disabled:n}),u.jsx(En,{label:"Loi sn phm",name:"productTypeId",value:t.productTypeId,onChange:o,options:y,placeholder:g?"ang ti...":"Chn loi sn phm...",required:!0,clearable:!0,error:e.productTypeId,disabled:n||g})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"2. M t sn phm"}),u.jsx(nd,{label:"",name:"descriptionVn",value:t.descriptionVn,onChange:o,placeholder:"Nhp m t chi tit v sn phm...",height:"220px",error:e.descriptionVn,disabled:n})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"3. Hnh nh sn phm"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:u.jsx(Or,{ref:r,label:"Hnh nh chnh",name:"mainImage",onChange:l,required:!0,maxSize:5,error:e.mainImage,disabled:n})}),u.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:u.jsx(Or,{ref:s,label:"Hnh nh ph",name:"subImages",onChange:c,multiple:!0,maxSize:5,error:e.subImages,disabled:n})})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"4. Chi tit sn phm"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx($e,{label:"Di (cm)",type:"number",name:"length",placeholder:"0",value:t.length,onChange:o,error:e.length,disabled:n}),u.jsx($e,{label:"Rng (cm)",type:"number",name:"width",placeholder:"0",value:t.width,onChange:o,error:e.width,disabled:n}),u.jsx($e,{label:"Cao (cm)",type:"number",name:"height",placeholder:"0",value:t.height,onChange:o,error:e.height,disabled:n})]}),u.jsx($e,{label:"Cht liu",type:"text",name:"materialVn",placeholder:"VD: G t nhin",value:t.materialVn,onChange:o,error:e.materialVn,disabled:n}),u.jsx($e,{label:"Xut x",type:"text",name:"originVn",placeholder:"VD: Vit Nam",value:t.originVn,onChange:o,error:e.originVn,disabled:n}),u.jsx($e,{label:"Mu sc",type:"text",name:"colorVn",placeholder:"VD: Nu g",value:t.colorVn,onChange:o,error:e.colorVn,disabled:n})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"5. Gi v bo hnh"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx($e,{label:"Gi (VN)",type:"number",name:"price",placeholder:"0",value:t.price,onChange:o,required:!0,error:e.price,disabled:n}),u.jsx($e,{label:"Thi gian bo hnh (thng)",type:"number",name:"warrantyPeriod",placeholder:"12",value:t.warrantyPeriod,onChange:o,required:!0,error:e.warrantyPeriod,disabled:n})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"medium",onClick:h,disabled:n,className:"flex-1",children:"Lm mi"}),u.jsx(Qe,{variant:"primary",size:"medium",type:"submit",disabled:n,className:"flex-1",children:n?u.jsx(pt,{type:"inline",text:"ang to..."}):"To sn phm"})]})})]})]})})]})]})},AG=Ge("/admin/products/create")({component:MG}),RG=[{value:"all",label:"Tt c trng thi"},{value:"active",label:"Hot ng"},{value:"inactive",label:"V hiu"}],OG=[{value:"product_type_name_vn|ASC",label:"Tn A-Z"},{value:"product_type_name_vn|DESC",label:"Tn Z-A"},{value:"created_at|DESC",label:"Mi nht"},{value:"created_at|ASC",label:"C nht"}],DG=({query:t,onSearchChange:e,onSubcategoryChange:n,onStatusChange:r,onSortChange:s,onRefreshFilters:o})=>{const{data:l}=gm(""),c=l?.data?.subcategories||[],[f,h]=C.useState(t.product_type_name_vn||"");C.useEffect(()=>{const g=setTimeout(()=>{e(f)},500);return()=>clearTimeout(g)},[f,e]),C.useEffect(()=>{h(t.product_type_name_vn||"")},[t.product_type_name_vn]);const m=`${t.sort_by}|${t.sort_order}`;return u.jsx("div",{className:"bg-white p-4 rounded-md shadow-sm overflow-auto",children:u.jsxs("div",{className:"flex gap-4 items-end",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),u.jsx(Ja,{id:"filter-search",placeholder:"Tm theo tn loi sn phm...",className:"pl-10",value:f,onChange:g=>h(g.target.value)})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:t.subcategory_id?.toString()||"all",onValueChange:n,children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Lc theo danh mc con"})}),u.jsxs(Qn,{className:"max-h-60",children:[u.jsx(fn,{value:"all",children:"Tt c danh mc con"}),c.map(g=>u.jsx(fn,{value:g.subcategory_id.toString(),children:g.subcategory_name_vn},g.subcategory_id))]})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:t.status||"all",onValueChange:g=>r(g),children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Lc theo trng thi"})}),u.jsx(Qn,{children:RG.map(g=>u.jsx(fn,{value:g.value,children:g.label},g.value))})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:m,onValueChange:s,children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Sp xp theo"})}),u.jsx(Qn,{children:OG.map(g=>u.jsx(fn,{value:g.value,children:g.label},g.value))})]})}),u.jsx("button",{className:"p-2 bg-gray-200 rounded-md hover:bg-gray-300 cursor-pointer",onClick:o,title:"Lm mi b lc",children:u.jsx(cT,{className:"h-5 w-5 text-gray-600"})})]})})};function IG(t){const e=PG(t),n=C.forwardRef((r,s)=>{const{children:o,...l}=r,c=C.Children.toArray(o),f=c.find(zG);if(f){const h=f.props.children,m=c.map(g=>g===f?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...l,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,m):null})}return u.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function PG(t){const e=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const l=VG(s),c=BG(o,s.props);return s.type!==C.Fragment&&(c.ref=r?_l(r,l):l),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var LG=Symbol("radix.slottable");function zG(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===LG}function BG(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function VG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Om="Popover",[uR]=Qu(Om,[Rl]),rd=Rl(),[$G,Ji]=uR(Om),dR=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!1}=t,c=rd(e),f=C.useRef(null),[h,m]=C.useState(!1),[g,y]=Fh({prop:r,defaultProp:s??!1,onChange:o,caller:Om});return u.jsx(tv,{...c,children:u.jsx($G,{scope:e,contentId:Gu(),triggerRef:f,open:g,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(x=>!x),[y]),hasCustomAnchor:h,onCustomAnchorAdd:C.useCallback(()=>m(!0),[]),onCustomAnchorRemove:C.useCallback(()=>m(!1),[]),modal:l,children:n})})};dR.displayName=Om;var fR="PopoverAnchor",HG=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ji(fR,n),o=rd(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return C.useEffect(()=>(l(),()=>c()),[l,c]),u.jsx(sm,{...o,...r,ref:e})});HG.displayName=fR;var hR="PopoverTrigger",pR=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ji(hR,n),o=rd(n),l=St(e,s.triggerRef),c=u.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bR(s.open),...r,ref:l,onClick:Ke(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:u.jsx(sm,{asChild:!0,...o,children:c})});pR.displayName=hR;var Xv="PopoverPortal",[UG,FG]=uR(Xv,{forceMount:void 0}),mR=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Ji(Xv,e);return u.jsx(UG,{scope:e,forceMount:n,children:u.jsx(Yu,{present:n||o.open,children:u.jsx(im,{asChild:!0,container:s,children:r})})})};mR.displayName=Xv;var vl="PopoverContent",gR=C.forwardRef((t,e)=>{const n=FG(vl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Ji(vl,t.__scopePopover);return u.jsx(Yu,{present:r||o.open,children:o.modal?u.jsx(KG,{...s,ref:e}):u.jsx(QG,{...s,ref:e})})});gR.displayName=vl;var qG=IG("PopoverContent.RemoveScroll"),KG=C.forwardRef((t,e)=>{const n=Ji(vl,t.__scopePopover),r=C.useRef(null),s=St(e,r),o=C.useRef(!1);return C.useEffect(()=>{const l=r.current;if(l)return VE(l)},[]),u.jsx(sv,{as:qG,allowPinchZoom:!0,children:u.jsx(yR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(t.onCloseAutoFocus,l=>{l.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ke(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),QG=C.forwardRef((t,e)=>{const n=Ji(vl,t.__scopePopover),r=C.useRef(!1),s=C.useRef(!1);return u.jsx(yR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),yR=C.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...g}=t,y=Ji(vl,n),x=rd(n);return pE(),u.jsx(Kb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:u.jsx(nv,{"data-state":bR(y.open),role:"dialog",id:y.contentId,...x,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xR="PopoverClose",GG=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ji(xR,n);return u.jsx(dt.button,{type:"button",...r,ref:e,onClick:Ke(t.onClick,()=>s.onOpenChange(!1))})});GG.displayName=xR;var WG="PopoverArrow",YG=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=rd(n);return u.jsx(rv,{...s,...r,ref:e})});YG.displayName=WG;function bR(t){return t?"open":"closed"}var XG=dR,JG=pR,ZG=mR,eW=gR;function tW({...t}){return u.jsx(XG,{"data-slot":"popover",...t})}function nW({...t}){return u.jsx(JG,{"data-slot":"popover-trigger",...t})}function rW({className:t,align:e="center",sideOffset:n=4,...r}){return u.jsx(ZG,{children:u.jsx(eW,{"data-slot":"popover-content",align:e,sideOffset:n,className:mt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}const sW=({setOpenDeleteModal:t,productType:e,onSuccess:n})=>{const[r,{isLoading:s}]=pG(),o=async()=>{if(e)try{await r(e.product_type_id).unwrap(),At({message:"Xa loi sn phm thnh cng!",type:"success"}),t(!1),n&&n()}catch(l){const c=l&&typeof l=="object"&&"data"in l?l.data?.message??"Khng th xa loi sn phm":"Khng th xa loi sn phm";At({message:c,type:"error"})}};return e?u.jsxs("div",{children:[u.jsx(mm,{}),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-yellow-50 px-6 py-4 border-b border-yellow-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-yellow-200 rounded-lg flex items-center justify-center",children:u.jsx(pr,{className:"w-6 h-6 text-yellow-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-yellow-900",children:"Cnh bo xa loi sn phm"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"Hnh ng ny s xa vnh vin loi sn phm v khng th hon tc."})]})]}),u.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-lg hover:bg-yellow-100 text-gray-600 transition-colors flex items-center justify-center","aria-label":"ng cnh bo",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:u.jsxs("div",{className:"flex gap-4 items-center",children:[e.image_url?u.jsx("img",{src:e.image_url,alt:e.product_type_name_vn,className:"w-20 h-20 object-cover rounded-lg border border-gray-300 shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg border border-gray-300 flex items-center justify-center shrink-0",children:u.jsx(Eb,{className:"w-8 h-8 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1 truncate",children:e.product_type_name_vn}),u.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["M ID: ",u.jsx("span",{className:"font-medium",children:e.product_type_id})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Trng thi:"," ",u.jsx("span",{className:e.status==="active"?"text-green-600":"text-red-600",children:e.status==="active"?"Hot ng":"V hiu ha"})]})]})]})}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{className:"text-gray-700 mb-4 text-base leading-relaxed",children:["Bn c chc chn mun xa loi sn phm"," ",u.jsx("span",{className:"font-bold text-gray-900",children:e.product_type_name_vn})," ","khng?"]})}),u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx(pr,{className:"w-4 h-4 text-amber-600"}),"Tc ng ca hnh ng ny:"]}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{children:"Xa vnh vin loi sn phm ny khi h thng"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(on,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa tt c cc sn phm lin quan"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(zu,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa cc lin kt vi cc bng khc (nu c)"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{className:"font-semibold text-red-700",children:"Khng th hon tc hnh ng ny"})]})]})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold mt-0.5",children:""}),u.jsxs("span",{children:[u.jsx("strong",{children:"Lu :"})," Nu loi sn phm ny ang c s dng trong sn phm hoc cc bng lin quan, bn s khng th xa n. H thng s thng bo li khi thc hin xa."]})]})}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx(Qe,{variant:"secondary",onClick:()=>t(!1),disabled:s,className:"px-6",children:"Hy b"}),u.jsx(Qe,{variant:"danger",onClick:o,disabled:s,className:"px-6 flex items-center gap-2",children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang xa..."]}):u.jsxs(u.Fragment,{children:[u.jsx(pr,{className:"w-4 h-4"}),"Xa loi sn phm"]})})]})]})]})})]}):null};function iW({data:t,isLoading:e,onViewDetails:n,onEdit:r,onViewProduct:s,onDeleteSuccess:o}){const[l,c]=C.useState(!1),[f,h]=C.useState(null),m=x=>{h(x),c(!0)};if(e)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsxs("div",{className:"flex justify-center items-center h-32",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),u.jsx("span",{className:"ml-2",children:"ang ti loi sn phm..."})]})});if(!t||t.length===0)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsx("div",{className:"flex justify-center items-center h-32",children:u.jsx("p",{className:"text-gray-500",children:"Khng tm thy loi sn phm no"})})});const g=x=>{if(!x)return"-";const v=new Date(x);return`${v.getDate()}/${v.getMonth()+1}/${v.getFullYear()}`},y=x=>{if(!x)return"";const v=x.replace(/<[^>]*>/g,"");return v.length>100?v.substring(0,100)+"...":v};return u.jsxs("div",{className:"rounded-md border",children:[u.jsxs(um,{children:[u.jsx(dm,{children:u.jsxs(Fi,{className:"bg-gray-50",children:[u.jsx(He,{className:"w-[250px]",children:"THNG TIN LOI SN PHM"}),u.jsx(He,{className:"w-[180px]",children:"DANH MC CON"}),u.jsx(He,{className:"w-[300px]",children:"M T"}),u.jsx(He,{className:"w-[100px] text-center",children:"SN PHM"}),u.jsx(He,{className:"w-[100px] text-center",children:"THI GIAN TO"}),u.jsx(He,{className:"w-[100px] text-center",children:"TRNG THI"}),u.jsx(He,{className:"w-[100px] text-center",children:"THAO TC"})]})}),u.jsx(fm,{children:t.map(x=>u.jsxs(Fi,{className:"hover:bg-gray-50",children:[u.jsx(Ue,{children:u.jsxs("div",{className:"flex items-center space-x-3",children:[x.image_url&&u.jsx("img",{src:x.image_url,alt:x.product_type_name_vn,className:"w-12 h-12 object-cover rounded-md"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:x.product_type_name_vn}),u.jsx("div",{className:"text-sm text-gray-500",children:x.product_type_id})]})]})}),u.jsx(Ue,{children:x.subcategory&&x.subcategory.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:x.subcategory[0].subcategory_name_vn}),u.jsx("div",{className:"text-sm text-gray-500",children:x.subcategory[0].category_name_vn})]})}),u.jsx(Ue,{children:u.jsx("div",{className:"text-sm text-gray-600 line-clamp-2",children:y(x.description_vn)})}),u.jsx(Ue,{className:"text-center",children:u.jsxs(tW,{children:[u.jsx(nW,{asChild:!0,children:u.jsxs("div",{className:"inline-flex items-center justify-center cursor-pointer text-blue-600 hover:text-blue-800",children:[u.jsx("span",{className:"font-medium",children:x.product_count||0}),u.jsx("span",{className:"ml-1 text-gray-500 text-sm",children:"sn phm"})]})}),u.jsxs(rW,{className:"w-80 p-0",align:"start",children:[u.jsxs("div",{className:"p-2 bg-gray-50 font-semibold border-b",children:["Danh sch sn phm (",x.product_count||0,")"]}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:x.products&&x.products.length>0?u.jsx("div",{className:"divide-y",children:x.products.map(v=>u.jsxs("div",{className:"p-2 flex items-center hover:bg-gray-50 cursor-pointer",onClick:()=>s&&s(v.product_id),children:[v.main_image&&u.jsx("img",{src:v.main_image,alt:v.product_name_vn,className:"w-10 h-10 object-cover rounded-md mr-2"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:v.product_name_vn}),u.jsxs("div",{className:"text-xs text-gray-500",children:["M: ",v.product_code]})]}),u.jsx(wu,{variant:"outline",className:v.status==="visible"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:v.status==="visible"?"Hin th":"n"})]},v.product_id))}):u.jsx("div",{className:"p-4 text-center text-gray-500",children:"Khng c sn phm no"})})]})]})}),u.jsx(Ue,{className:"text-center",children:g(x.created_at)}),u.jsx(Ue,{className:"text-center",children:u.jsx(wu,{variant:"outline",className:x.status==="active"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:x.status==="active"?"Hot ng":"V hiu"})}),u.jsx(Ue,{children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n&&u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-100 hover:text-blue-700",onClick:()=>n(x.product_type_id),children:u.jsx(fr,{className:"h-4 w-4"})}),r&&u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-amber-100 hover:text-amber-700",onClick:()=>r(x.product_type_id),children:u.jsx($p,{className:"h-4 w-4"})}),u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-700",onClick:()=>m(x),children:u.jsx(jl,{className:"h-4 w-4"})})]})})]},x.product_type_id))})]}),l&&f&&u.jsx(sW,{productType:f,setOpenDeleteModal:c,onSuccess:o})]})}const Ck={status:"all",subcategory_id:"",product_type_name_vn:"",page:1,limit:10,sort_by:"created_at",sort_order:"ASC"},oW=()=>{const[t,e]=C.useState(Ck),[n,r]=C.useState({page:1,limit:10,total:0,totalPages:0}),s=Object.fromEntries(Object.entries(t).filter(([N,j])=>N==="status"&&j==="all"?!1:j!==""&&j!==null&&j!==void 0)),{data:o,isLoading:l,error:c,refetch:f}=Rm(s);C.useEffect(()=>{console.log("Product Type API response:",o),console.log("Current query:",t),console.log("Filtered query sent to API:",s),o?.data?.pagination&&r(o.data.pagination),c&&console.error("Error fetching product types:",c)},[o,c]);const h=C.useCallback(N=>{e(j=>({...j,page:N}))},[]),m=C.useCallback(N=>{e(j=>({...j,limit:N,page:1}))},[]),g=C.useCallback(N=>{const[j,A]=N.split("|");e(E=>({...E,sort_by:j,sort_order:A,page:1}))},[]),y=C.useCallback(N=>{e(j=>({...j,product_type_name:N,page:1}))},[]),x=C.useCallback(N=>{e(j=>({...j,status:N,page:1}))},[]),v=N=>{e(j=>({...j,subcategory_id:N==="all"?void 0:parseInt(N),page:1}))},w=C.useCallback(()=>{e(Ck),r({page:1,limit:10,total:0,totalPages:0})},[]);return{query:t,pagination:n,productTypes:o?.data?.product_types||[],isLoading:l,error:c,refetch:f,handlePageChange:h,handleLimitChange:m,handleSortChange:g,handleSearchChange:y,handleStatusChange:x,handleSubcategoryChange:v,handleRefreshQuery:w}},aW=()=>{const t=zt(),{query:e,pagination:n,productTypes:r,isLoading:s,error:o,handlePageChange:l,handleLimitChange:c,handleSearchChange:f,handleStatusChange:h,handleSortChange:m,handleSubcategoryChange:g,handleRefreshQuery:y,refetch:x}=oW();C.useEffect(()=>{console.log("Product Types Data:",r)},[r]);const v=j=>{console.log("View details for product type:",j)},w=j=>{console.log("Edit product type:",j),t({to:"/admin/product-types/edit/$productTypeId",params:{productTypeId:j.toString()}})},N=()=>{x()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Dr,{}),u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qun l loi sn phm"}),u.jsx(DG,{query:e,onSearchChange:f,onSubcategoryChange:g,onStatusChange:h,onSortChange:m,onRefreshFilters:y}),o&&u.jsx("div",{className:"text-red-500 text-center py-4",children:"Li khi ti loi sn phm"}),u.jsx(iW,{data:r,isLoading:s,onViewDetails:v,onEdit:w,onDeleteSuccess:N}),u.jsx(Dl,{pagination:n,onPageChange:l,onLimitChange:c,showInfo:!0,limitOptions:[5,10,20,50,100]})]})},lW=Ge("/admin/product-types/list")({component:aW}),jk={subcategoryId:0,productTypeNameVn:"",descriptionVn:"",status:"",productTypeImage:null},cW=[{value:"active",label:"Hot ng"},{value:"inactive",label:"Khng hot ng"}],uW=t=>{const e={};t.productTypeNameVn?.trim()||(e.productTypeNameVn="Tn loi sn phm l bt buc"),t.status||(e.status="Vui lng chn trng thi");const n=(t.descriptionVn||"").trim();return(!n||n==="<p><br></p>"||n==="<p></p>")&&(e.descriptionVn="M t loi sn phm l bt buc"),t.productTypeImage||(e.productTypeImage="Vui lng chn hnh nh"),t.subcategoryId||(e.subcategoryId="Vui lng chn danh mc con"),e},dW=t=>Object.keys(t).length>0,fW=()=>{const[t,e]=C.useState(jk),[n,r]=C.useState({}),[s,{isLoading:o}]=hG(),l=C.useRef(null),c=g=>{const y=g.target,x=y.name;let v=y.value;x&&(typeof v!="string"&&(Array.isArray(v)?v=v.join(","):v=v!=null?String(v):""),e(w=>({...w,[x]:v})),n[x]&&r(w=>({...w,[x]:""})))},f=g=>{const{value:y,files:x}=g.target,v=Array.isArray(y)?y.length>0?y[0]:null:y;console.log("Selected files:",x),e(w=>({...w,productTypeImage:v})),n.productTypeImage&&r(w=>({...w,productTypeImage:""}))},h=()=>{e(jk),r({}),l.current?.clearAll()};return{formData:t,errors:n,isLoading:o,imageUploadRef:l,handleInputChange:c,handleImageChange:f,handleSubmit:async g=>{g.preventDefault();try{const y=uW(t);if(dW(y)){r(y),At({message:"Vui lng kim tra li thng tin form",type:"error"});return}r({});const x=new FormData;x.append("subcategoryId",String(t.subcategoryId)),x.append("productTypeNameVn",t.productTypeNameVn),x.append("descriptionVn",t.descriptionVn),x.append("status",t.status),t.productTypeImage&&x.append("productTypeImage",t.productTypeImage),console.log("Form data to submit:",{subcategoryId:t.subcategoryId,productTypeNameVn:t.productTypeNameVn,descriptionVn:t.descriptionVn,status:t.status,productTypeImage:t.productTypeImage?.name}),await s(x).unwrap(),At({message:"To loi sn phm thnh cng",type:"success"}),h()}catch(y){console.error("Error creating product type:",y),At({message:"C li xy ra khi to loi sn phm",type:"error"})}},resetForm:h}},hW=()=>{const{data:t,error:e,isLoading:n}=gm({}),r=t?.data?.subcategories,{formData:s,errors:o,isLoading:l,imageUploadRef:c,handleInputChange:f,handleImageChange:h,handleSubmit:m,resetForm:g}=fW(),y=r?.map(x=>({value:x.subcategory_id.toString(),label:x.subcategory_name_vn}))||[];return n?u.jsx(pt,{type:"div",text:"ang ti loi sn phm..."}):e?u.jsx("div",{className:"bg-white p-4 rounded-md border shadow-md max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col items-center justify-center p-6 min-h-[400px]",children:[u.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"C li xy ra"}),u.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Khng th ti loi sn phm. Vui lng th li sau."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition",children:"Th li"})]})}):u.jsxs(u.Fragment,{children:[u.jsx(Dr,{}),u.jsxs("div",{className:"p-2 max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"To loi sn phm mi"}),u.jsxs("form",{onSubmit:m,children:[u.jsx(En,{label:"Danh mc con",name:"subcategoryId",value:s.subcategoryId.toString(),onChange:f,options:y,placeholder:"Chn danh mc con...",required:!0,clearable:!0,error:o.subcategoryId,disabled:l||n}),u.jsx($e,{label:"Tn loi sn phm",type:"text",name:"productTypeNameVn",placeholder:"Nhp tn loi sn phm...",value:s.productTypeNameVn,onChange:f,required:!0,error:o.productTypeNameVn,disabled:l}),u.jsx(nd,{label:"M t loi sn phm",name:"descriptionVn",value:s.descriptionVn,onChange:f,placeholder:"Nhp m t chi tit v loi sn phm...",height:"250px",required:!0,error:o.descriptionVn,disabled:l}),u.jsx(En,{label:"Trng thi",name:"status",value:s.status,onChange:f,options:cW,placeholder:"Chn trng thi...",required:!0,clearable:!0,error:o.status,disabled:l}),u.jsx(Or,{ref:c,label:"Hnh nh loi sn phm",name:"productTypeImage",onChange:h,required:!0,maxSize:5,error:o.productTypeImage,disabled:l}),u.jsxs("div",{className:"mt-6 flex gap-4 justify-end",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"large",onClick:g,disabled:l,children:"Lm mi"}),u.jsx(Qe,{variant:"primary",size:"large",type:"submit",disabled:l,children:l?u.jsx(pt,{type:"inline",text:"ang to..."}):"To loi sn phm"})]})]})]})]})},pW=Ge("/admin/product-types/create")({component:hW}),sd=[{value:"all",label:"Tt c trng thi"},{value:"active",label:"Hot ng"},{value:"inactive",label:"Khng hot ng"}],kk={categoryNameVn:"",descriptionVn:"",status:"",categoryImage:null},mW=[{value:"created_at|DESC",label:"Mi nht"},{value:"created_at|ASC",label:"C nht"},{value:"category_name_vn|ASC",label:"Tn A-Z"},{value:"category_name_vn|DESC",label:"Tn Z-A"}],vR=({query:t,onSearchChange:e,onStatusChange:n,onSortChange:r})=>{const[s,o]=C.useState(t.category_name_vn||"");C.useEffect(()=>{const c=setTimeout(()=>{e(s)},500);return()=>clearTimeout(c)},[s,e]),C.useEffect(()=>{o(t.category_name_vn||"")},[t.category_name_vn]);const l=`${t.sort_by}|${t.sort_order}`;return u.jsx("div",{className:"bg-white p-4 rounded-md shadow-sm",children:u.jsxs("div",{className:"flex gap-4 items-end",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),u.jsx(Ja,{id:"filter-search",placeholder:"Tm theo tn danh mc...",className:"pl-10",value:s,onChange:c=>o(c.target.value)})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:t.status||"all",onValueChange:c=>n(c),children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Chn trng thi"})}),u.jsx(Qn,{children:sd.map(c=>u.jsx(fn,{value:c.value,children:c.label},c.value))})]})}),u.jsx("div",{className:"w-56",children:u.jsxs(Fn,{value:l,onValueChange:r,children:[u.jsx(Kn,{className:"w-full",children:u.jsx(qn,{placeholder:"Chn ty chn sp xp"})}),u.jsx(Qn,{children:mW.map(c=>u.jsx(fn,{value:c.value,children:c.label},c.value))})]})})]})})},SR=()=>{const[t,e]=C.useState({status:"all",category_name_vn:"",page:1,limit:10,sort_by:"created_at",sort_order:"ASC"}),[n,r]=C.useState({page:1,limit:10,total:0,totalPages:0}),s=Object.fromEntries(Object.entries(t).filter(([v,w])=>v==="status"&&w==="all"?!1:w!=null&&w!=="")),{data:o,isLoading:l,error:c,refetch:f}=qu(s);C.useEffect(()=>{console.log("Category API response:",o),console.log("Current query:",t),console.log("Filtered query sent to API:",s),o?.data?.pagination&&r(o.data.pagination),c&&console.error("Error fetching categories:",c)},[o,c]);const h=C.useCallback(v=>{e(w=>({...w,page:v}))},[]),m=C.useCallback(v=>{e(w=>({...w,limit:v,page:1}))},[]),g=C.useCallback(v=>{e(w=>({...w,category_name_vn:v,page:1}))},[]),y=C.useCallback(v=>{e(w=>({...w,status:v,page:1}))},[]),x=C.useCallback(v=>{const[w,N]=v.split("|");e(j=>({...j,sort_by:w,sort_order:N,page:1}))},[]);return{query:t,pagination:n,data:o?o?.data?.categories||[]:[],isLoading:l,error:c,refetch:f,handlePageChange:h,handleLimitChange:m,handleSearchChange:g,handleStatusChange:y,handleSortChange:x}},gW=({setOpenDeleteModal:t,category:e,onSuccess:n})=>{const[r,{isLoading:s}]=m6(),o=async()=>{if(e)try{await r(e.category_id).unwrap(),At({message:"Xa danh mc thnh cng!",type:"success"}),t(!1),n&&n()}catch(l){const c=l&&typeof l=="object"&&"data"in l?l.data?.message??"Khng th xa danh mc":"Khng th xa danh mc";At({message:c,type:"error"})}};return e?u.jsxs("div",{children:[u.jsx(mm,{}),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"bg-yellow-50 px-6 py-4 border-b border-yellow-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-yellow-200 rounded-lg flex items-center justify-center",children:u.jsx(pr,{className:"w-6 h-6 text-yellow-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-yellow-900",children:"Cnh bo xa danh mc"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"Hnh ng ny s xa vnh vin danh mc v khng th hon tc."})]})]}),u.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-lg hover:bg-yellow-100 text-gray-600 transition-colors flex items-center justify-center","aria-label":"ng cnh bo",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:u.jsxs("div",{className:"flex gap-4 items-center",children:[e.image_url?u.jsx("img",{src:e.image_url,alt:e.category_name_vn,className:"w-20 h-20 object-cover rounded-lg border border-gray-300 shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg border border-gray-300 flex items-center justify-center shrink-0",children:u.jsx(Eb,{className:"w-8 h-8 text-gray-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1 truncate",children:e.category_name_vn}),u.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["M ID: ",u.jsx("span",{className:"font-medium",children:e.category_id})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Trng thi:"," ",u.jsx("span",{className:e.status==="active"?"text-green-600":"text-red-600",children:e.status==="active"?"Hot ng":"V hiu ha"})]})]})]})}),u.jsx("div",{className:"mb-6",children:u.jsxs("p",{className:"text-gray-700 mb-4 text-base leading-relaxed",children:["Bn c chc chn mun xa danh mc"," ",u.jsx("span",{className:"font-bold text-gray-900",children:e.category_name_vn})," khng?"]})}),u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[u.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx(pr,{className:"w-4 h-4 text-amber-600"}),"Tc ng ca hnh ng ny:"]}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{children:"Xa vnh vin danh mc ny khi h thng"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(on,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa tt c cc sn phm, loi sn phm, danh mc con lin quan"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx(zu,{className:"w-4 h-4 text-gray-500 mt-0.5 shrink-0"}),u.jsx("span",{children:"Xa cc lin kt vi cc bng khc (nu c)"})]}),u.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[u.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),u.jsx("span",{className:"font-semibold text-red-700",children:"Khng th hon tc hnh ng ny"})]})]})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-600 font-bold mt-0.5",children:""}),u.jsxs("span",{children:[u.jsx("strong",{children:"Lu :"})," Nu danh mc ny ang c s dng trong sn phm hoc cc bng lin quan, bn s khng th xa n. H thng s thng bo li khi thc hin xa."]})]})}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx(Qe,{variant:"secondary",onClick:()=>t(!1),disabled:s,className:"px-6",children:"Hy b"}),u.jsx(Qe,{variant:"danger",onClick:o,disabled:s,className:"px-6 flex items-center gap-2",children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang xa..."]}):u.jsxs(u.Fragment,{children:[u.jsx(pr,{className:"w-4 h-4"}),"Xa danh mc"]})})]})]})]})})]}):null};function wR({data:t,isLoading:e,onViewDetails:n,handleDeleteSuccess:r}){const s=zt(),[o,l]=C.useState(!1),[c,f]=C.useState(null),h=y=>{s({to:"/admin/categories/edit/$categoryId",params:{categoryId:y}})},m=y=>{f(y),l(!0)};if(e)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsx("div",{className:"flex justify-center items-center h-32",children:u.jsx(pt,{type:"div"})})});if(!t||t.length===0)return u.jsx("div",{className:"w-full border rounded-md p-8",children:u.jsx("div",{className:"flex justify-center items-center h-32",children:u.jsx("p",{className:"text-gray-500",children:"Khng tm thy danh mc no"})})});const g=y=>{if(!y)return"-";const x=new Date(y);return`${x.getDate()}/${x.getMonth()+1}/${x.getFullYear()}`};return u.jsxs("div",{className:"rounded-md border",children:[u.jsxs(um,{children:[u.jsx(dm,{children:u.jsxs(Fi,{children:[u.jsx(He,{className:"w-20",children:"ID"}),u.jsx(He,{className:"w-[150px]",children:"Tn danh mc"}),u.jsx(He,{children:"M t"}),u.jsx(He,{className:"w-[100px]",children:"Hnh nh"}),u.jsx(He,{className:"w-[120px]",children:"Trng thi"}),u.jsx(He,{className:"w-[100px]",children:"Ngy to"}),u.jsx(He,{className:"text-center w-[150px]",children:"Thao tc"})]})}),u.jsx(fm,{children:t.map(y=>u.jsxs(Fi,{children:[u.jsx(Ue,{children:y.category_id}),u.jsx(Ue,{className:"font-medium",children:y.category_name_vn}),u.jsx(Ue,{className:"max-w-[200px] truncate",children:y.description_vn||"-"}),u.jsx(Ue,{children:y.image_url?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:y.image_url,alt:y.category_name_vn,className:"w-10 h-10 object-cover rounded cursor-pointer border"}),u.jsx("div",{className:"hidden group-hover:block absolute -left-24 top-0 z-10",children:u.jsx("img",{src:y.image_url,alt:y.category_name_vn,className:"w-48 h-48 object-cover rounded shadow-lg border"})})]}):u.jsx("span",{className:"text-gray-400 text-sm",children:"Khng c hnh"})}),u.jsx(Ue,{children:u.jsx(wu,{variant:y.status==="active"?"default":"secondary",className:y.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200",children:y.status==="active"?"Hot ng":"V hiu ha"})}),u.jsx(Ue,{className:"text-sm",children:g(y.created_at)}),u.jsx(Ue,{children:u.jsx(lv,{children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n&&u.jsxs(hh,{children:[u.jsx(ph,{asChild:!0,children:u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-100 hover:text-blue-700",onClick:()=>n(y.category_id,y.category_name_vn),children:u.jsx(fr,{className:"h-4 w-4"})})}),u.jsx(mh,{children:u.jsx("p",{children:"Xem chi tit"})})]}),u.jsxs(hh,{children:[u.jsx(ph,{asChild:!0,children:u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-orange-100 hover:text-orange-700",onClick:()=>h(y.category_id),children:u.jsx($p,{className:"h-4 w-4"})})}),u.jsx(mh,{children:u.jsx("p",{children:"Chnh sa"})})]})," (",u.jsxs(hh,{children:[u.jsx(ph,{asChild:!0,children:u.jsx(Gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-700",onClick:()=>m(y),children:u.jsx(jl,{className:"h-4 w-4"})})}),u.jsx(mh,{children:u.jsx("p",{children:"Xa"})})]})]})})})]},y.category_id))})]}),o&&c&&u.jsx(gW,{setOpenDeleteModal:l,category:c,onSuccess:r})]})}function yW(){const{query:t,pagination:e,data:n,isLoading:r,error:s,handlePageChange:o,handleLimitChange:l,handleSearchChange:c,handleStatusChange:f,handleSortChange:h}=SR();C.useEffect(()=>{console.log("Data",n),n&&n.length>0&&(console.log("Categories loaded:",n.length),console.log("First category:",n[0]))},[n]);const m=()=>{},g=()=>{},y=()=>{};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qun l danh mc"}),u.jsx(vR,{query:t,onSearchChange:c,onStatusChange:f,onSortChange:h}),s&&u.jsx("div",{className:"text-red-500 text-center py-4",children:"Li khi ti danh mc"}),u.jsx(wR,{data:n,isLoading:r,onViewDetails:m,onEdit:g,onDelete:y}),u.jsx(Dl,{pagination:e,onPageChange:o,onLimitChange:l,showInfo:!0,limitOptions:[5,10,20,50,100]})]})}const xW=Ge("/admin/categories/test")({component:yW});function bW(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function vW(){const{query:t,pagination:e,data:n,isLoading:r,error:s,handlePageChange:o,handleLimitChange:l,handleSearchChange:c,handleStatusChange:f,handleSortChange:h,refetch:m}=SR();C.useEffect(()=>{console.log("Data",n),n&&n.length>0&&(console.log("Categories loaded:",n.length),console.log("First category:",n[0]))},[n]);const g=(w,N)=>{const j=bW(N);window.location.href=`/admin/categories/detail/${w}/${j}`},y=()=>{},x=()=>{},v=()=>{m()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Dr,{}),u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qun l danh mc"}),u.jsx(vR,{query:t,onSearchChange:c,onStatusChange:f,onSortChange:h}),s&&u.jsx("div",{className:"text-red-500 text-center py-4",children:"Li khi ti danh mc"}),u.jsx(wR,{data:n,isLoading:r,onViewDetails:g,onEdit:y,onDelete:x,onDeleteSuccess:v}),u.jsx(Dl,{pagination:e,onPageChange:o,onLimitChange:l,showInfo:!0,limitOptions:[5,10,20,50,100]})]})}const SW=Ge("/admin/categories/list")({component:vW}),wW=t=>{const e={};t.categoryNameVn?.trim()||(e.categoryNameVn="Tn danh mc l bt buc"),t.status||(e.status="Vui lng chn trng thi");const n=(t.descriptionVn||"").trim();return(!n||n==="<p><br></p>"||n==="<p></p>")&&(e.descriptionVn="M t danh mc l bt buc"),t.categoryImage||(e.categoryImage="Vui lng chn hnh nh"),e},NW=t=>Object.keys(t).length>0,CW=()=>{const[t,e]=C.useState(kk),[n,r]=C.useState({}),[s,{isLoading:o}]=h6(),l=C.useRef(null),c=g=>{const y=g.target,x=y.name;let v=y.value;x&&(typeof v!="string"&&(Array.isArray(v)?v=v.join(","):v=v!=null?String(v):""),e(w=>({...w,[x]:v})),n[x]&&r(w=>({...w,[x]:""})))},f=g=>{const{value:y,files:x}=g.target,v=Array.isArray(y)?y.length>0?y[0]:null:y;console.log("Selected files:",x),e(w=>({...w,categoryImage:v})),n.categoryImage&&r(w=>({...w,categoryImage:""}))},h=()=>{e(kk),r({}),l.current?.clearAll()};return{formData:t,errors:n,isLoading:o,imageUploadRef:l,handleInputChange:c,handleImageChange:f,handleSubmit:async g=>{g.preventDefault();try{const y=wW(t);if(NW(y)){r(y),At({message:"Vui lng kim tra li thng tin form",type:"error"});return}r({});const x=new FormData;x.append("categoryNameVn",t.categoryNameVn),x.append("descriptionVn",t.descriptionVn),x.append("status",t.status),t.categoryImage&&x.append("categoryImage",t.categoryImage),console.log("Form data to submit:",{categoryNameVn:t.categoryNameVn,descriptionVn:t.descriptionVn,status:t.status,categoryImage:t.categoryImage?.name}),await s(x).unwrap(),At({message:"To danh mc thnh cng",type:"success"}),h()}catch(y){console.error("Error creating category:",y),At({message:"C li xy ra khi to danh mc",type:"error"})}},resetForm:h}},Jv=({label:t,name:e="textarea",value:n,onChange:r,placeholder:s,required:o=!1,disabled:l=!1,error:c="",className:f="",height:h="200px",id:m,...g})=>{const y=m||e,x=v=>{r&&r(v)};return u.jsxs("div",{className:`relative mb-4 ${f}`,children:[t&&u.jsxs("label",{htmlFor:y,className:"block text-sm font-medium text-gray-700 mb-2",children:[t,o&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsx("textarea",{id:y,name:e,value:n,onChange:x,placeholder:s,required:o,disabled:l,style:{minHeight:h},className:`w-full px-4 py-3 border-2 rounded-xl text-sm bg-gray-50 transition-all duration-300 outline-none resize-y
          ${c?"border-red-500 bg-red-50":"border-gray-200"}
          ${l?"bg-gray-100 text-gray-400 cursor-not-allowed opacity-70":"hover:border-gray-400"}
          ${c?"focus:border-red-500 focus:shadow-[0_0_0_3px_rgba(239,68,68,0.1)]":"focus:border-green-500 focus:bg-white focus:shadow-[0_0_0_3px_rgba(16,185,129,0.1)]"}
          placeholder:text-gray-400`.replace(/\s+/g," ").trim(),...g}),c&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:c})]})},jW=()=>{const{formData:t,errors:e,isLoading:n,imageUploadRef:r,handleInputChange:s,handleImageChange:o,handleSubmit:l,resetForm:c}=CW();return u.jsx(u.Fragment,{children:u.jsx("div",{className:"p-2 max-w-4xl mx-auto bg-white",children:u.jsxs("form",{onSubmit:l,children:[u.jsx($e,{label:"Tn danh mc",type:"text",name:"categoryNameVn",placeholder:"Nhp tn danh mc...",value:t.categoryNameVn,onChange:s,required:!0,error:e.categoryNameVn,disabled:n}),u.jsx(Jv,{label:"M t danh mc",name:"descriptionVn",value:t.descriptionVn,onChange:s,placeholder:"Nhp m t chi tit v danh mc...",height:"250px",required:!0,error:e.descriptionVn,disabled:n}),u.jsx(En,{label:"Trng thi",name:"status",value:t.status,onChange:s,options:sd,placeholder:"Chn trng thi...",required:!0,clearable:!0,error:e.status,disabled:n}),u.jsx(Or,{ref:r,label:"Hnh nh danh mc",name:"categoryImage",onChange:o,required:!0,maxSize:5,error:e.categoryImage,disabled:n}),u.jsxs("div",{className:"mt-6 flex gap-4 justify-end",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"large",onClick:c,disabled:n,children:"Lm mi"}),u.jsx(Qe,{variant:"primary",size:"large",type:"submit",disabled:n,children:n?u.jsx(pt,{type:"inline",text:"ang to..."}):"To danh mc"})]})]})})})},kW=Ge("/admin/categories/create")({component:jW,beforeLoad:()=>{document.title="To danh mc | Admin DDStore"}}),TW=t=>{if(!t)return{slug:"",product_id:""};const e=t.split("-"),n=e[e.length-1];return{slug:e.slice(0,-1).join("-"),product_id:n}},EW=()=>{const r=Vp().pathname.split("/")[2];return{product:TW(r)}},_W=({mainImage:t,subImages:e,productName:n})=>{const s=e.slice(0,9),o=[t,...s],[l,c]=C.useState(0);e.length>9&&console.warn(`Product has ${e.length+1} images. Only showing first 10.`);const f=()=>{c(g=>g===0?o.length-1:g-1)},h=()=>{c(g=>g===o.length-1?0:g+1)},m=g=>{c(g)};return u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"relative bg-gray-50 rounded-lg overflow-hidden group",children:[u.jsx("img",{src:o[l],alt:`${n} - ${l+1}`,className:"w-full h-[450px] object-contain"}),o.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:f,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Previous image",children:u.jsx(Nl,{className:"w-6 h-6 text-gray-800"})}),u.jsx("button",{onClick:h,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Next image",children:u.jsx(Xo,{className:"w-6 h-6 text-gray-800"})})]}),u.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/60 text-white px-2.5 py-1 rounded-full text-xs",children:[l+1," / ",o.length]})]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:o.map((g,y)=>u.jsx("button",{onClick:()=>m(y),className:`shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${l===y?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:u.jsx("img",{src:g,alt:`Thumbnail ${y+1}`,className:"w-full h-full object-cover"})},y))})]})},MW=({product:t})=>{const e=r=>r.toLocaleString("vi-VN")+" VN",n=(r,s,o)=>`${r}  ${s}  ${o} cm`;return u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx("div",{className:"inline-flex items-center gap-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-50 text-green-700 rounded-md text-xs font-medium",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),t.product_type_name_vn]})}),u.jsx("h1",{className:"text-lg font-bold text-gray-900 leading-tight",children:t.product_name_vn}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs text-gray-500",children:["M sn phm: ",u.jsx("span",{className:"font-medium text-gray-700",children:t.product_code})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"p-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors","aria-label":"Add to favorites",children:u.jsx(al,{className:"w-4 h-4 text-gray-600"})}),u.jsx("button",{className:"p-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors","aria-label":"Share product",children:u.jsx(K4,{className:"w-4 h-4 text-gray-600"})})]})]}),u.jsx("div",{className:"bg-linear-to-r from-orange-50 to-orange-100 rounded-lg p-3",children:u.jsx("div",{className:"text-xl font-bold text-orange-600",children:e(t.price)})}),u.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:u.jsxs("div",{className:"grid grid-cols-2 divide-y divide-gray-200",children:[u.jsx("div",{className:"px-3 py-1.5 bg-gray-50",children:u.jsx("span",{className:"text-xs text-gray-600",children:"Kch thc"})}),u.jsx("div",{className:"px-3 py-1.5",children:u.jsx("span",{className:"text-xs font-medium text-gray-900",children:n(t.length,t.width,t.height)})}),u.jsx("div",{className:"px-3 py-1.5 bg-gray-50",children:u.jsx("span",{className:"text-xs text-gray-600",children:"Xut x"})}),u.jsx("div",{className:"px-3 py-1.5",children:u.jsx("span",{className:"text-xs font-medium text-gray-900",children:t.origin_vn})}),u.jsx("div",{className:"px-3 py-1.5 bg-gray-50",children:u.jsx("span",{className:"text-xs text-gray-600",children:"Mu sc"})}),u.jsx("div",{className:"px-3 py-1.5",children:u.jsx("span",{className:"text-xs font-medium text-gray-900",children:t.color_vn})}),u.jsx("div",{className:"px-3 py-1.5 bg-gray-50",children:u.jsx("span",{className:"text-xs text-gray-600",children:"Cht liu"})}),u.jsx("div",{className:"px-3 py-1.5",children:u.jsx("span",{className:"text-xs font-medium text-gray-900",children:t.material_vn})}),u.jsx("div",{className:"px-3 py-1.5 bg-gray-50",children:u.jsx("span",{className:"text-xs text-gray-600",children:"Tnh trng"})}),u.jsx("div",{className:"px-3 py-1.5",children:u.jsx("span",{className:"text-xs font-medium text-green-600",children:"Cn hng"})})]})}),u.jsxs("div",{className:"border border-gray-200 rounded-lg p-2.5",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1.5",children:"M t sn phm"}),u.jsx("p",{className:"text-xs text-gray-600 leading-relaxed line-clamp-5",children:t.description_vn})]}),u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2.5",children:[u.jsx("h3",{className:"text-sm font-semibold text-green-800 mb-1",children:"Bo hnh"}),u.jsxs("p",{className:"text-xs text-green-700",children:["Thi gian bo hnh: ",u.jsxs("span",{className:"font-medium",children:[t.warranty_period," thng"]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs("button",{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[u.jsx(ll,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"i n gi hng"})]}),u.jsxs("button",{className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[u.jsx(ll,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:" thm vo gi (1)"})]})]})]})},NR=({product:t})=>{const e=Pu(),n=Yo(S6(t.product_id)),r=o=>{const c=`/product/${bu(o.product_name_vn)}-${o.product_id}`;window.open(c,"_blank","noopener,noreferrer")},s=o=>{o.stopPropagation(),e(b6({product_id:t.product_id,product_name_vn:t.product_name_vn,price:t.price,main_image:t.main_image,product_type_name_vn:t.product_type_name_vn,material_vn:t.material_vn,color_vn:t.color_vn,addedAt:new Date().toISOString()})),n?vt.success(" xa khi danh sch yu thch"):vt.success(" thm vo danh sch yu thch")};return u.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden w-full group",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:t.main_image,alt:t.product_name_vn,className:"w-full h-[150px] sm:h-[180px] md:h-[200px] object-cover group-hover:scale-110 transition-transform duration-500 cursor-pointer",onClick:()=>r(t)}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),u.jsx("button",{onClick:s,className:`absolute top-2 sm:top-3 right-2 sm:right-3 w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 ${n?"bg-red-500 hover:bg-red-600":"bg-white hover:bg-gray-100"}`,children:u.jsx(al,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all ${n?"text-white fill-white":"text-gray-600"}`})}),u.jsx("span",{className:"absolute top-2 sm:top-3 left-2 sm:left-3 bg-gradient-to-r from-green-500 to-green-600 text-white text-[10px] sm:text-xs font-semibold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md",children:t.product_type_name_vn})]}),u.jsxs("div",{className:"p-2 sm:p-3 md:p-4",children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-xs sm:text-sm leading-tight mb-1 sm:mb-2 line-clamp-2 cursor-pointer hover:text-green-600 transition-colors min-h-[32px] sm:min-h-[40px]",onClick:()=>r(t),children:t.product_name_vn}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[u.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full border-2 border-gray-300 shadow-sm",style:{backgroundColor:t.color_vn},title:t.color_vn}),u.jsx("span",{className:"text-[10px] sm:text-xs text-gray-600 truncate flex-1",children:t.material_vn})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2 sm:pt-3 border-t border-gray-100",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 mb-0.5",children:"Gi"}),u.jsxs("span",{className:"text-sm sm:text-base md:text-lg font-bold text-red-600",children:[t.price.toLocaleString("vi-VN"),""]})]}),u.jsx("button",{onClick:()=>r(t),className:"px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white text-[10px] sm:text-xs md:text-sm font-medium rounded-md sm:rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:"Chi tit"})]})]})]})},AW=({productTypeId:t,currentProductId:e})=>{const n=C.useRef(null),{data:r,isLoading:s,error:o}=Yp({product_type_id:t,status:"active",limit:12}),l=f=>{if(n.current){const m=n.current.scrollLeft+(f==="left"?-300:300);n.current.scrollTo({left:m,behavior:"smooth"})}};if(s)return u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(pt,{type:"div",text:"ang ti sn phm tng t..."})});if(o||!r?.data?.products)return u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Khng th ti sn phm tng t"});const c=r.data.products.filter(f=>f.product_id!==e);return c.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Khng c sn phm tng t"}):u.jsxs("div",{className:"relative group",children:[u.jsx("div",{ref:n,className:"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:c.map(f=>u.jsx("div",{className:"shrink-0",children:u.jsx(NR,{product:f})},f.product_id))}),c.length>4&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>l("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white hover:bg-gray-50 rounded-full p-3 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-10 border border-gray-200","aria-label":"Scroll left",children:u.jsx(Nl,{className:"w-5 h-5 text-gray-800"})}),u.jsx("button",{onClick:()=>l("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white hover:bg-gray-50 rounded-full p-3 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-10 border border-gray-200","aria-label":"Scroll right",children:u.jsx(Xo,{className:"w-5 h-5 text-gray-800"})})]})]})},RW=()=>{const{product:t}=EW(),e=t.product_id,{data:n,isLoading:r,error:s}=Ub(e,{skip:!e});if(r)return u.jsx(pt,{type:"hscreen"});if(s)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Khng tm thy sn phm"}),u.jsx("p",{className:"text-gray-600",children:"Sn phm bn tm kim khng tn ti hoc  b xa."})]})});const o=n?.data;return o?(console.log("Product images:",{main_image:o.main_image,sub_image_count:o.sub_image?.length||0,total_images:(o.sub_image?.length||0)+1}),u.jsx("div",{className:"min-h-screen bg-gray-50",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto px-4 py-4",children:[u.jsxs("nav",{className:"text-sm text-gray-500 mb-6",children:[u.jsx("span",{className:"hover:text-gray-700 cursor-pointer",children:"Trang ch"}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"hover:text-gray-700 cursor-pointer",children:o.category_name_vn}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"hover:text-gray-700 cursor-pointer",children:o.subcategory_name_vn}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"text-gray-900 font-medium",children:o.product_name_vn})]}),u.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[u.jsx("div",{children:u.jsx(_W,{mainImage:o.main_image,subImages:o.sub_image||[],productName:o.product_name_vn})}),u.jsx("div",{children:u.jsx(MW,{product:o})})]})}),u.jsxs("div",{className:"mt-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Sn phm tng t"}),u.jsx("div",{className:"bg-white rounded-xl p-6",children:u.jsx(AW,{productTypeId:o.product_type_id,currentProductId:o.product_id})})]})]})})):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Khng c d liu"}),u.jsx("p",{className:"text-gray-600",children:"Khng th ti thng tin sn phm."})]})})},OW=Ge("/__public/product/$productSlug-$productId")({component:RW}),Tk={subcategoryNameVn:"",descriptionVn:"",status:"active",categoryId:"",subcategoryImage:"",replaceSubcategoryImage:!1},DW=t=>{console.log("useSubcategoryEdit called with subcategoryId:",t);const e=zt(),[n,r]=C.useState(Tk),[s,o]=C.useState(Tk),[l,c]=C.useState({}),[f,h]=C.useState(!1),m=C.useRef(null),{data:g,isFetching:y}=O_(t,{skip:!t}),[x]=Y7();C.useEffect(()=>{if(g?.data){const _=g.data;console.log("Loading subcategory data:",_);const T=_.category?.category_id||"";console.log("Extracted category_id:",T);const O={subcategoryNameVn:_.subcategory_name_vn||"",descriptionVn:_.description_vn||"",status:_.status||"active",categoryId:String(T),subcategoryImage:_.image_url||"",replaceSubcategoryImage:!1};console.log("Loaded form data:",O),console.log("categoryId type:",typeof O.categoryId,"value:",O.categoryId),r(O),o(O)}},[g]);const v=C.useCallback(_=>{const T=_.target,O=T.name;let M=T.value;O&&(typeof M!="string"&&(Array.isArray(M)?M=M.join(","):M=M!=null?String(M):""),r(R=>({...R,[O]:M})),l[O]&&c(R=>({...R,[O]:void 0})))},[l]),w=C.useCallback(_=>{const{value:T}=_.target,O=Array.isArray(T)?T.length>0?T[0]:null:T;r(M=>({...M,subcategoryImageFile:O,replaceSubcategoryImage:!0})),l.subcategoryImage&&c(M=>({...M,subcategoryImage:void 0}))},[l.subcategoryImage]),N=C.useCallback(()=>{n.subcategoryImageFile?(r(_=>({..._,subcategoryImageFile:null,replaceSubcategoryImage:!1})),m.current?.clearAll()):(r(_=>({..._,subcategoryImage:"",subcategoryImageFile:null,replaceSubcategoryImage:!0})),m.current?.clearAll())},[n.subcategoryImageFile]),j=()=>{const _={};return n.subcategoryNameVn.trim()||(_.subcategoryNameVn="Tn danh mc con khng c  trng"),n.descriptionVn.trim()||(_.descriptionVn="M t khng c  trng"),n.status||(_.status="Vui lng chn trng thi"),n.categoryId||(_.categoryId="Vui lng chn danh mc cha"),c(_),Object.keys(_).length===0},A=async _=>{if(_.preventDefault(),!j()){vt.error("Vui lng kim tra li thng tin");return}h(!0);try{const T=new FormData;T.append("subcategory_name_vn",n.subcategoryNameVn),T.append("description_vn",n.descriptionVn),T.append("status",n.status),T.append("category_id",n.categoryId),n.replaceSubcategoryImage&&(n.subcategoryImageFile?T.append("subcategoryImage",n.subcategoryImageFile):T.append("remove_subcategory_image","true")),await x({id:t,formData:T}).unwrap(),vt.success("Cp nht danh mc con thnh cng!"),setTimeout(()=>{e({to:"/admin/subcategories/list"})},1e3)}catch(T){console.error("Error updating subcategory:",T),vt.error("C li xy ra khi cp nht danh mc con")}finally{h(!1)}},E=C.useCallback(()=>{r(s),c({}),m.current?.clearAll(),vt.success(" khi phc d liu gc")},[s]);return{formData:n,errors:l,isLoading:f,isFetching:y,imageUploadRef:m,handleInputChange:v,handleImageChange:w,handleRemoveImage:N,handleSubmit:A,resetForm:E}},IW=()=>{const{subcategoryId:t}=$s({strict:!1});console.log("Editing subcategory ID:",t);const e=zt(),[n,r]=rt.useState({isOpen:!1,imageUrl:"",imageName:""}),{data:s,isLoading:o}=qu({}),l=s?.data?.categories?.map(_=>({value:_.category_id.toString(),label:_.category_name_vn}))||[];console.log("Fetched categories for select:",l);const{formData:c,errors:f,isLoading:h,isFetching:m,imageUploadRef:g,handleInputChange:y,handleImageChange:x,handleRemoveImage:v,handleSubmit:w,resetForm:N}=DW(t?parseInt(t):0);console.log("Category options:",l),console.log("Current categoryId from formData:",c.categoryId);const j=()=>{e({to:"/admin/subcategories/list"})},A=(_,T)=>{r({isOpen:!0,imageUrl:_,imageName:T})},E=()=>{r({isOpen:!1,imageUrl:"",imageName:""})};return m||o?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx(pt,{text:"ang ti thng tin danh mc con..."})}):!c.subcategoryNameVn&&t?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx(pt,{text:"ang ti d liu..."})}):u.jsxs("div",{className:"bg-gray-50 py-4 px-6",children:[u.jsx(Dr,{}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[u.jsxs(Qe,{variant:"secondary",size:"small",onClick:j,className:"flex items-center gap-2",children:[u.jsx(Lu,{className:"h-4 w-4"}),"Quay li"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa danh mc con"}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Cp nht thng tin danh mc con #",t]})]})]}),u.jsx("form",{onSubmit:w,children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"1. Thng tin c bn"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(En,{label:"Danh mc cha",name:"categoryId",value:c.categoryId,onChange:y,options:l,placeholder:"Chn danh mc cha...",required:!0,error:f.categoryId,disabled:h||o}),u.jsx($e,{label:"Tn danh mc con",type:"text",name:"subcategoryNameVn",placeholder:"Nhp tn danh mc con...",value:c.subcategoryNameVn,onChange:y,required:!0,error:f.subcategoryNameVn,disabled:h}),u.jsx(En,{label:"Trng thi",name:"status",value:c.status,onChange:y,options:sd,placeholder:"Chn trng thi...",required:!0,error:f.status,disabled:h})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"2. M t danh mc con"}),u.jsx(Jv,{label:"",name:"descriptionVn",value:c.descriptionVn,onChange:y,placeholder:"Nhp m t chi tit v danh mc con...",height:"200px",required:!0,error:f.descriptionVn,disabled:h})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"3. Hnh nh danh mc con"}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[u.jsx(Or,{ref:g,label:"Hnh nh danh mc con",name:"subcategoryImage",onChange:x,required:!0,maxSize:5,error:f.subcategoryImage,disabled:h,preview:!1}),c.subcategoryImage&&!c.subcategoryImageFile&&!c.replaceSubcategoryImage&&u.jsxs("div",{className:"mt-2 relative",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Hnh nh hin ti:"}),u.jsxs("div",{className:"relative inline-block group",children:[u.jsx("img",{src:c.subcategoryImage,alt:"Current subcategory",className:"w-32 h-32 object-cover rounded border cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>A(c.subcategoryImage,"Hnh nh danh mc con")}),u.jsx("button",{type:"button",onClick:v,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Xa hnh nh",children:u.jsx(ht,{className:"h-4 w-4"})})]})]}),c.subcategoryImageFile&&u.jsxs("div",{className:"mt-2 relative",children:[u.jsx("p",{className:"text-xs text-green-700 font-semibold mb-1",children:"Hnh nh mi:"}),u.jsxs("div",{className:"relative inline-block group",children:[u.jsx("img",{src:URL.createObjectURL(c.subcategoryImageFile),alt:"New subcategory",className:"w-32 h-32 object-cover rounded border-2 border-green-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>A(URL.createObjectURL(c.subcategoryImageFile),c.subcategoryImageFile.name)}),u.jsx("button",{type:"button",onClick:v,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Xa hnh nh",children:u.jsx(ht,{className:"h-4 w-4"})}),u.jsx("span",{className:"absolute bottom-1 left-1 bg-green-600 text-white text-[10px] px-1 rounded",children:"Mi"})]})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"medium",onClick:N,disabled:h,className:"flex-1",children:"Khi phc"}),u.jsx(Qe,{variant:"primary",size:"medium",type:"submit",disabled:h,className:"flex-1",children:h?u.jsx(pt,{type:"inline",text:"ang cp nht..."}):"Cp nht danh mc con"})]})})]})})]}),n.isOpen&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:E,children:u.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] bg-white rounded-lg overflow-hidden shadow-xl",onClick:_=>_.stopPropagation(),children:[u.jsxs("div",{className:"px-5 py-3 bg-gray-50 flex items-center justify-between border-b border-gray-200",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:n.imageName}),u.jsx("button",{onClick:E,className:"w-8 h-8 rounded-lg hover:bg-gray-200 text-gray-600 transition-colors flex items-center justify-center",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4 flex items-center justify-center bg-gray-100",children:u.jsx("img",{src:n.imageUrl,alt:n.imageName,className:"max-w-full max-h-[82vh] object-contain"})})]})})]})},PW=Ge("/admin/subcategories/edit/$subcategoryId")({component:IW}),Ek={productCode:"",productNameVn:"",descriptionVn:"",productTypeId:"",price:"",warrantyPeriod:"",length:"",width:"",height:"",materialVn:"",originVn:"",colorVn:"",status:"active",mainImage:"",subImages:[],deletedSubImages:[],replaceMainImage:!1},LW=t=>{const e=zt(),[n,r]=C.useState(Ek),[s,o]=C.useState(Ek),[l,c]=C.useState({}),[f,h]=C.useState(!1),m=C.useRef(null),g=C.useRef(null),{data:y,isFetching:x}=Ub(t,{skip:!t}),[v]=T6();C.useEffect(()=>{if(y?.data){const R=y.data,I={productCode:R.product_code||"",productNameVn:R.product_name_vn||"",descriptionVn:R.description_vn||"",productTypeId:R.product_type_id?.toString()||"",price:R.price?.toString()||"",warrantyPeriod:R.warranty_period?.toString()||"",length:R.length?.toString()||"",width:R.width?.toString()||"",height:R.height?.toString()||"",materialVn:R.material_vn||"",originVn:R.origin_vn||"",colorVn:R.color_vn||"",status:R.status||"active",mainImage:R.main_image||"",subImages:Array.isArray(R.sub_image)?R.sub_image:[]};r(I),o(I)}},[y]);const w=C.useCallback(R=>{const I=R.target,L=I.name;let P=I.value;L&&(typeof P!="string"&&(Array.isArray(P)?P=P.join(","):P=P!=null?String(P):""),r(V=>({...V,[L]:P})),l[L]&&c(V=>({...V,[L]:void 0})))},[l]),N=C.useCallback(R=>{const{value:I}=R.target,L=Array.isArray(I)?I.length>0?I[0]:null:I;r(P=>({...P,mainImageFile:L,replaceMainImage:!0})),l.mainImage&&c(P=>({...P,mainImage:void 0}))},[l.mainImage]),j=C.useCallback(()=>{r(R=>({...R,mainImage:"",mainImageFile:null,replaceMainImage:!0})),m.current?.clearAll()},[]),A=C.useCallback(R=>{const{files:I}=R.target;r(L=>({...L,subImagesFiles:L.subImagesFiles?[...L.subImagesFiles,...I]:I})),l.subImages&&c(L=>({...L,subImages:void 0}))},[l.subImages]),E=C.useCallback(R=>{r(I=>({...I,subImagesFiles:I.subImagesFiles?.filter((L,P)=>P!==R)}))},[]),_=C.useCallback(R=>{r(I=>({...I,subImages:I.subImages.filter(L=>L!==R),deletedSubImages:[...I.deletedSubImages||[],R]}))},[]),T=()=>{const R={};return n.productCode.trim()||(R.productCode="M sn phm khng c  trng"),n.productNameVn.trim()||(R.productNameVn="Tn sn phm khng c  trng"),n.productTypeId||(R.productTypeId="Vui lng chn loi sn phm"),(!n.price||parseFloat(n.price)<=0)&&(R.price="Gi phi ln hn 0"),(!n.warrantyPeriod||parseInt(n.warrantyPeriod)<0)&&(R.warrantyPeriod="Thi gian bo hnh khng hp l"),n.status||(R.status="Vui lng chn trng thi"),c(R),Object.keys(R).length===0},O=async R=>{if(R.preventDefault(),!T()){vt.error("Vui lng kim tra li thng tin");return}h(!0);try{const I=new FormData;I.append("product_code",n.productCode),I.append("product_name_vn",n.productNameVn),I.append("description_vn",n.descriptionVn),I.append("product_type_id",n.productTypeId),I.append("price",n.price),I.append("warranty_period",n.warrantyPeriod),I.append("status",n.status),n.length&&I.append("length",n.length),n.width&&I.append("width",n.width),n.height&&I.append("height",n.height),n.materialVn&&I.append("material_vn",n.materialVn),n.originVn&&I.append("origin_vn",n.originVn),n.colorVn&&I.append("color_vn",n.colorVn),n.replaceMainImage&&(n.mainImageFile?I.append("main_image",n.mainImageFile):I.append("remove_main_image","true")),n.deletedSubImages&&n.deletedSubImages.length>0&&I.append("deleted_sub_images",JSON.stringify(n.deletedSubImages)),n.subImagesFiles&&n.subImagesFiles.length>0&&n.subImagesFiles.forEach(L=>{I.append("sub_images",L)}),await v({productId:t,formData:I}).unwrap(),vt.success("Cp nht sn phm thnh cng!"),setTimeout(()=>{e({to:"/admin/products/list"})},1e3)}catch(I){console.error("Error updating product:",I),vt.error("C li xy ra khi cp nht sn phm")}finally{h(!1)}},M=C.useCallback(()=>{r(s),c({}),m.current?.clearAll(),g.current?.clearAll(),vt.success(" khi phc d liu gc")},[s]);return{formData:n,errors:l,isLoading:f,isFetching:x,mainImageUploadRef:m,subImagesUploadRef:g,handleInputChange:w,handleMainImageChange:N,handleRemoveMainImage:j,handleSubImagesChange:A,handleRemoveSubImage:_,handleRemoveNewSubImage:E,handleSubmit:O,resetForm:M}},zW=()=>{const{productId:t}=$s({strict:!1}),e=zt(),[n,r]=rt.useState({isOpen:!1,imageUrl:"",imageName:""}),{formData:s,errors:o,isLoading:l,isFetching:c,mainImageUploadRef:f,subImagesUploadRef:h,handleInputChange:m,handleMainImageChange:g,handleRemoveMainImage:y,handleSubImagesChange:x,handleRemoveSubImage:v,handleRemoveNewSubImage:w,handleSubmit:N,resetForm:j}=LW(t?parseInt(t):0),{data:A,isLoading:E}=Rm({status:"active",limit:100}),_=(A?.data?.product_types||[]).map(R=>({value:R.product_type_id.toString(),label:R.product_type_name_vn})),T=()=>{e({to:"/admin/products"})},O=(R,I)=>{r({isOpen:!0,imageUrl:R,imageName:I})},M=()=>{r({isOpen:!1,imageUrl:"",imageName:""})};return c?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx(pt,{text:"ang ti thng tin sn phm..."})}):u.jsxs("div",{className:"bg-gray-50 py-4 px-6",children:[u.jsx(Dr,{}),u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[u.jsxs(Qe,{variant:"secondary",size:"small",onClick:T,className:"flex items-center gap-2",children:[u.jsx(Lu,{className:"h-4 w-4"}),"Quay li"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa sn phm"}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Cp nht thng tin sn phm #",t]})]})]}),u.jsx("form",{onSubmit:N,children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"1. Thng tin c bn"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx($e,{label:"M sn phm",type:"text",name:"productCode",placeholder:"VD: SP001",value:s.productCode,onChange:m,required:!0,error:o.productCode,disabled:l}),u.jsx(En,{label:"Trng thi",name:"status",value:s.status,onChange:m,options:cR,placeholder:"Chn trng thi...",required:!0,clearable:!0,error:o.status,disabled:l})]}),u.jsx($e,{label:"Tn sn phm",type:"text",name:"productNameVn",placeholder:"Nhp tn sn phm...",value:s.productNameVn,onChange:m,required:!0,error:o.productNameVn,disabled:l}),u.jsx(En,{label:"Loi sn phm",name:"productTypeId",value:s.productTypeId,onChange:m,options:_,placeholder:E?"ang ti...":"Chn loi sn phm...",required:!0,clearable:!0,error:o.productTypeId,disabled:l||E})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"2. M t sn phm"}),u.jsx(nd,{label:"",name:"descriptionVn",value:s.descriptionVn,onChange:m,placeholder:"Nhp m t chi tit v sn phm...",height:"220px",error:o.descriptionVn,disabled:l})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"3. Hnh nh sn phm"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[u.jsx(Or,{ref:f,label:"Hnh nh chnh",name:"mainImage",onChange:g,required:!0,maxSize:5,error:o.mainImage,disabled:l,preview:!1}),s.mainImage&&!s.mainImageFile&&!s.replaceMainImage&&u.jsxs("div",{className:"mt-2 relative",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Hnh nh hin ti:"}),u.jsxs("div",{className:"relative inline-block group",children:[u.jsx("img",{src:s.mainImage,alt:"Current main",className:"w-32 h-32 object-cover rounded border cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>O(s.mainImage,"Hnh nh chnh")}),u.jsx("button",{type:"button",onClick:y,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Xa hnh nh",children:u.jsx(ht,{className:"h-4 w-4"})})]})]})]}),u.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[u.jsx(Or,{ref:h,label:"Hnh nh ph",name:"subImages",onChange:x,multiple:!0,maxSize:5,error:o.subImages,disabled:l,preview:!1}),s.subImages&&s.subImages.length>0&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:["Hnh nh hin c (",s.subImages.length,"):"]}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.subImages.map((R,I)=>u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:R,alt:`Existing ${I+1}`,className:"w-full h-20 object-cover rounded border border-gray-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>O(R,`Hnh nh ph ${I+1}`)}),u.jsx("button",{type:"button",onClick:L=>{L.stopPropagation(),v(R)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100 shadow-md z-10",title:"Xa hnh nh ny",children:u.jsx(ht,{className:"h-3 w-3"})}),u.jsx("span",{className:"absolute bottom-1 left-1 bg-black bg-opacity-60 text-white text-[10px] px-1 rounded",children:"C"})]},`old-${I}`))})]}),s.subImagesFiles&&s.subImagesFiles.length>0&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("p",{className:"text-xs font-semibold text-green-700 mb-2",children:["Hnh nh mi thm (",s.subImagesFiles.length,"):"]}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.subImagesFiles.map((R,I)=>{const L=URL.createObjectURL(R);return u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:L,alt:`New ${I+1}`,className:"w-full h-20 object-cover rounded border-2 border-green-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>O(L,R.name)}),u.jsx("button",{type:"button",onClick:P=>{P.stopPropagation(),w(I)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100 shadow-md z-10",title:"Xa hnh nh mi ny",children:u.jsx(ht,{className:"h-3 w-3"})}),u.jsx("span",{className:"absolute bottom-1 left-1 bg-green-600 text-white text-[10px] px-1 rounded",children:"Mi"})]},`new-${I}`)})})]}),(s.subImages&&s.subImages.length>0||s.subImagesFiles&&s.subImagesFiles.length>0||s.deletedSubImages&&s.deletedSubImages.length>0)&&u.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs space-y-1",children:[u.jsx("p",{className:"font-semibold text-blue-800",children:"Tm tt thay i:"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-gray-700",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Gi li:"})," ",u.jsx("span",{className:"text-green-600 font-semibold",children:s.subImages?.length||0})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Xa:"})," ",u.jsx("span",{className:"text-red-600 font-semibold",children:s.deletedSubImages?.length||0})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Thm mi:"})," ",u.jsx("span",{className:"text-blue-600 font-semibold",children:s.subImagesFiles?.length||0})]})]})]})]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"4. Chi tit sn phm"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx($e,{label:"Di (cm)",type:"number",name:"length",placeholder:"0",value:s.length,onChange:m,error:o.length,disabled:l}),u.jsx($e,{label:"Rng (cm)",type:"number",name:"width",placeholder:"0",value:s.width,onChange:m,error:o.width,disabled:l}),u.jsx($e,{label:"Cao (cm)",type:"number",name:"height",placeholder:"0",value:s.height,onChange:m,error:o.height,disabled:l})]}),u.jsx($e,{label:"Cht liu",type:"text",name:"materialVn",placeholder:"VD: G t nhin",value:s.materialVn,onChange:m,error:o.materialVn,disabled:l}),u.jsx($e,{label:"Xut x",type:"text",name:"originVn",placeholder:"VD: Vit Nam",value:s.originVn,onChange:m,error:o.originVn,disabled:l}),u.jsx($e,{label:"Mu sc",type:"text",name:"colorVn",placeholder:"VD: Nu g",value:s.colorVn,onChange:m,error:o.colorVn,disabled:l})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"5. Gi v bo hnh"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx($e,{label:"Gi (VN)",type:"number",name:"price",placeholder:"0",value:s.price,onChange:m,required:!0,error:o.price,disabled:l}),u.jsx($e,{label:"Thi gian bo hnh (thng)",type:"number",name:"warrantyPeriod",placeholder:"12",value:s.warrantyPeriod,onChange:m,required:!0,error:o.warrantyPeriod,disabled:l})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"medium",onClick:j,disabled:l,className:"flex-1",children:"Khi phc"}),u.jsx(Qe,{variant:"primary",size:"medium",type:"submit",disabled:l,className:"flex-1",children:l?u.jsx(pt,{type:"inline",text:"ang cp nht..."}):"Cp nht sn phm"})]})})]})]})})]}),n.isOpen&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-9999",onClick:M,children:u.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] bg-white rounded-xl overflow-hidden shadow-2xl",onClick:R=>R.stopPropagation(),children:[u.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:n.imageName}),u.jsx("button",{onClick:M,className:"p-1 rounded-md hover:bg-gray-200 text-gray-600 transition-colors",children:u.jsx(ht,{size:20})})]}),u.jsx("div",{className:"p-5 flex items-center justify-center",children:u.jsx("img",{src:n.imageUrl,alt:n.imageName,className:"max-w-full max-h-[70vh] object-contain rounded-lg"})})]})})]})},BW=Ge("/admin/products/edit/$productId")({component:zW}),VW=()=>{const{productId:t}=$s({strict:!1}),e=zt(),[n,r]=rt.useState({isOpen:!1,imageUrl:"",imageName:""}),[s,o]=rt.useState(0),{data:l,isLoading:c,isFetching:f}=Ub(t?parseInt(t):0,{skip:!t}),h=l?.data,m=()=>{e({to:"/admin/products"})},g=()=>{e({to:`/admin/products/edit/${t}`})},y=(T,O)=>{r({isOpen:!0,imageUrl:T,imageName:O})},x=()=>{r({isOpen:!1,imageUrl:"",imageName:""})},v=T=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(T),w=T=>{if(!T)return"-";const O=new Date(T),M=O.getDate().toString().padStart(2,"0"),R=(O.getMonth()+1).toString().padStart(2,"0"),I=O.getFullYear(),L=O.getHours().toString().padStart(2,"0"),P=O.getMinutes().toString().padStart(2,"0");return`${M}/${R}/${I} ${L}:${P}`};if(f||c)return u.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx(pt,{text:"ang ti thng tin sn phm..."}),u.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"Vui lng ch trong giy lt..."})]})});if(!h)return u.jsx("div",{className:"flex flex-col justify-center items-center h-screen gap-6 bg-gray-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center border border-gray-200",children:[u.jsx(Ti,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg font-medium mb-6",children:"Khng tm thy sn phm"}),u.jsx(Qe,{variant:"primary",onClick:m,className:"px-8 py-3",children:"Quay li danh sch"})]})});let N=[];if(h.sub_image)try{typeof h.sub_image=="string"?N=JSON.parse(h.sub_image):Array.isArray(h.sub_image)&&(N=h.sub_image)}catch(T){console.error("Error parsing sub_image:",T),N=[]}const j=h.main_image?[h.main_image,...N]:N,A=()=>{o(T=>(T+1)%j.length)},E=()=>{o(T=>(T-1+j.length)%j.length)},_=T=>{o(T)};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[u.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-5 border border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:m,className:"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:u.jsx(Lu,{className:"w-5 h-5 text-gray-700"})}),h.main_image&&u.jsx("img",{className:"w-16 h-16 object-cover rounded-lg border border-gray-200",src:h.main_image,alt:h.product_name_vn}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:h.product_name_vn}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded font-medium",children:h.product_code}),u.jsx("span",{children:""}),u.jsx("span",{children:h.category_name_vn||"Cha phn loi"})]})]})]}),u.jsxs("button",{onClick:g,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[u.jsx($p,{className:"w-4 h-4"}),"Chnh sa"]})]})}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-5",children:u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Gi bn l"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(h.price)})]}),u.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:u.jsx(UI,{className:"w-5 h-5 text-gray-600"})})]})}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-5",children:u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Bo hnh"}),u.jsxs("div",{className:"flex items-baseline gap-1.5",children:[u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.warranty_period}),u.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"thng"})]})]}),u.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:u.jsx(Y4,{className:"w-5 h-5 text-gray-600"})})]})}),u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-5",children:u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Trng thi"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${h.status==="active"?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"text-lg font-semibold text-gray-900",children:h.status==="active"?"ang bn":"Ngng bn"})]})]}),u.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:u.jsx(Ti,{className:"w-5 h-5 text-gray-600"})})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-5 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(hx,{className:"w-5 h-5 text-gray-600"}),"Th vin hnh nh"]}),j.length>0&&u.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 font-medium rounded-lg text-sm",children:[s+1," / ",j.length]})]}),j.length>0?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 bg-gray-50",children:u.jsxs("div",{className:"aspect-video relative",children:[u.jsx("img",{src:j[s],alt:`Image ${s+1}`,className:"w-full h-full object-contain cursor-pointer",onClick:()=>y(j[s],s===0?"Hnh nh chnh":`Hnh nh ${s+1}`),onError:T=>{T.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="400" viewBox="0 0 400 400"%3E%3Crect fill="%23f3f4f6" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="%239ca3af"%3EKhng c nh%3C/text%3E%3C/svg%3E'}}),s===0&&u.jsx("div",{className:"absolute top-3 left-3 px-3 py-1.5 bg-blue-600 text-white text-xs font-semibold rounded-lg",children:"nh chnh"}),j.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:E,className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-white hover:bg-gray-50 rounded-lg shadow-md flex items-center justify-center transition-colors border border-gray-200",children:u.jsx(Nl,{className:"w-5 h-5 text-gray-700"})}),u.jsx("button",{onClick:A,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-white hover:bg-gray-50 rounded-lg shadow-md flex items-center justify-center transition-colors border border-gray-200",children:u.jsx(Xo,{className:"w-5 h-5 text-gray-700"})})]})]})}),j.length>1&&u.jsx("div",{className:"relative",children:u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map((T,O)=>u.jsxs("button",{onClick:()=>_(O),className:`relative shrink-0 w-20 h-20 rounded-lg overflow-hidden transition-all ${s===O?"ring-2 ring-blue-600 opacity-100":"ring-1 ring-gray-300 opacity-60 hover:opacity-100"}`,children:[u.jsx("img",{src:T,alt:`Thumbnail ${O+1}`,className:"w-full h-full object-cover",onError:M=>{M.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96"%3E%3Crect fill="%23f3f4f6" width="96" height="96"/%3E%3C/svg%3E'}}),O===0&&u.jsx("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs font-semibold rounded",children:"Chnh"})]},O))})})]}):u.jsxs("div",{className:"h-96 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[u.jsx(hx,{className:"w-16 h-16 text-gray-400 mb-3"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Cha c hnh nh sn phm"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-5 border border-gray-200",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-5 flex items-center gap-2 pb-3 border-b border-gray-200",children:[u.jsx(u0,{className:"w-5 h-5 text-gray-600"}),"Thng tin chi tit"]}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{icon:Ti,label:"Loi sn phm",value:h.product_type_name_vn},{icon:u0,label:"Danh mc",value:h.category_name_vn},{icon:u0,label:"Danh mc con",value:h.subcategory_name_vn},{icon:V4,label:"Kch thc (D  R  C)",value:`${h.length||0}  ${h.width||0}  ${h.height||0} cm`},{icon:Ti,label:"Cht liu",value:h.material_vn},{icon:T4,label:"Mu sc",value:h.color_vn},{icon:Ab,label:"Xut x",value:h.origin_vn},{icon:jI,label:"Ngy to",value:w(h.created_at)},...h.updated_at?[{icon:fu,label:"Cp nht ln cui",value:w(h.updated_at)}]:[]].map((T,O)=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-9 h-9 bg-white rounded-lg flex items-center justify-center border border-gray-200 shrink-0",children:u.jsx(T.icon,{className:"w-4 h-4 text-gray-600"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1 font-medium",children:T.label}),u.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:T.value||"-"})]})]})},O))})]}),h.description_vn&&u.jsxs("div",{className:"bg-white rounded-lg shadow p-5 border border-gray-200",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 pb-3 border-b border-gray-200",children:"M t chi tit sn phm"}),u.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed [&>p]:mb-4 [&>h2]:mt-6 [&>h2]:mb-4 [&>h2]:text-xl [&>h2]:font-bold [&>ul]:ml-6 [&>ul]:list-disc",dangerouslySetInnerHTML:{__html:h.description_vn}})]})]}),n.isOpen&&u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",onClick:x,children:u.jsxs("div",{className:"relative max-w-[95vw] max-h-[95vh] bg-white rounded-lg overflow-hidden shadow-xl",onClick:T=>T.stopPropagation(),children:[u.jsxs("div",{className:"px-5 py-3 bg-gray-50 flex items-center justify-between border-b border-gray-200",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:n.imageName}),u.jsx("button",{onClick:x,className:"w-8 h-8 rounded-lg hover:bg-gray-200 text-gray-600 transition-colors flex items-center justify-center",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4 flex items-center justify-center bg-gray-100",children:u.jsx("img",{src:n.imageUrl,alt:n.imageName,className:"max-w-full max-h-[82vh] object-contain"})})]})})]})},$W=Ge("/admin/products/detail/$productId")({component:VW}),_k={productTypeNameVn:"",descriptionVn:"",status:"active",subcategoryId:"",productTypeImage:"",replaceProductTypeImage:!1},HW=t=>{console.log("useProductTypeEdit called with productTypeId:",t);const e=zt(),[n,r]=C.useState(_k),[s,o]=C.useState(_k),[l,c]=C.useState({}),[f,h]=C.useState(!1),m=C.useRef(null),{data:g,isFetching:y}=gG(t,{skip:!t}),[x]=mG();C.useEffect(()=>{if(g?.data){const _=g.data;console.log("Loading product type data:",_);const T=_.subcategory?.subcategory_id||"";console.log("Extracted subcategory_id:",T);const O={productTypeNameVn:_.product_type_name_vn||"",descriptionVn:_.description_vn||"",status:_.status||"active",subcategoryId:String(T),productTypeImage:_.image_url||"",replaceProductTypeImage:!1};console.log("Loaded form data:",O),console.log("subcategoryId type:",typeof O.subcategoryId,"value:",O.subcategoryId),r(O),o(O)}},[g]);const v=C.useCallback(_=>{const T=_.target,O=T.name;let M=T.value;O&&(typeof M!="string"&&(Array.isArray(M)?M=M.join(","):M=M!=null?String(M):""),r(R=>({...R,[O]:M})),l[O]&&c(R=>({...R,[O]:void 0})))},[l]),w=C.useCallback(_=>{const{value:T}=_.target,O=Array.isArray(T)?T.length>0?T[0]:null:T;r(M=>({...M,productTypeImageFile:O,replaceProductTypeImage:!0})),l.productTypeImage&&c(M=>({...M,productTypeImage:void 0}))},[l.productTypeImage]),N=C.useCallback(()=>{n.productTypeImageFile?(r(_=>({..._,productTypeImageFile:null,replaceProductTypeImage:!1})),m.current?.clearAll()):(r(_=>({..._,productTypeImage:"",productTypeImageFile:null,replaceProductTypeImage:!0})),m.current?.clearAll())},[n.productTypeImageFile]),j=()=>{const _={};return n.productTypeNameVn.trim()||(_.productTypeNameVn="Tn loi sn phm khng c  trng"),n.descriptionVn.trim()||(_.descriptionVn="M t khng c  trng"),n.status||(_.status="Vui lng chn trng thi"),n.subcategoryId||(_.subcategoryId="Vui lng chn danh mc con"),c(_),Object.keys(_).length===0},A=async _=>{if(_.preventDefault(),!j()){vt.error("Vui lng kim tra li thng tin");return}h(!0);try{const T=new FormData;T.append("product_type_name_vn",n.productTypeNameVn),T.append("description_vn",n.descriptionVn),T.append("status",n.status),T.append("subcategory_id",n.subcategoryId),n.replaceProductTypeImage&&(n.productTypeImageFile?T.append("productTypeImage",n.productTypeImageFile):T.append("remove_product_type_image","true")),await x({id:t,formData:T}).unwrap(),vt.success("Cp nht loi sn phm thnh cng!"),setTimeout(()=>{e({to:"/admin/product-types/list"})},1e3)}catch(T){console.error("Error updating product type:",T),vt.error("C li xy ra khi cp nht loi sn phm")}finally{h(!1)}},E=C.useCallback(()=>{r(s),c({}),m.current?.clearAll(),vt.success(" khi phc d liu gc")},[s]);return{formData:n,errors:l,isLoading:f,isFetching:y,imageUploadRef:m,handleInputChange:v,handleImageChange:w,handleRemoveImage:N,handleSubmit:A,resetForm:E}},UW=()=>{const{productTypeId:t}=$s({strict:!1});console.log("Editing product type ID:",t);const e=zt(),[n,r]=rt.useState({isOpen:!1,imageUrl:"",imageName:""}),{data:s,isLoading:o}=gm({}),l=s?.data?.subcategories?.map(_=>({value:_.subcategory_id.toString(),label:_.subcategory_name_vn}))||[];console.log("Fetched subcategories for select:",l);const{formData:c,errors:f,isLoading:h,isFetching:m,imageUploadRef:g,handleInputChange:y,handleImageChange:x,handleRemoveImage:v,handleSubmit:w,resetForm:N}=HW(t?parseInt(t):0);console.log("Subcategory options:",l),console.log("Current subcategoryId from formData:",c.subcategoryId);const j=()=>{e({to:"/admin/product-types/list"})},A=(_,T)=>{r({isOpen:!0,imageUrl:_,imageName:T})},E=()=>{r({isOpen:!1,imageUrl:"",imageName:""})};return m||o?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx(pt,{text:"ang ti thng tin loi sn phm..."})}):!c.productTypeNameVn&&t?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx(pt,{text:"ang ti d liu..."})}):u.jsxs("div",{className:"bg-gray-50 py-4 px-6",children:[u.jsx(Dr,{}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[u.jsxs(Qe,{variant:"secondary",size:"small",onClick:j,className:"flex items-center gap-2",children:[u.jsx(Lu,{className:"h-4 w-4"}),"Quay li"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa loi sn phm"}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Cp nht thng tin loi sn phm #",t]})]})]}),u.jsx("form",{onSubmit:w,children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"1. Thng tin c bn"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(En,{label:"Danh mc con",name:"subcategoryId",value:c.subcategoryId,onChange:y,options:l,placeholder:"Chn danh mc con...",required:!0,error:f.subcategoryId,disabled:h||o}),u.jsx($e,{label:"Tn loi sn phm",type:"text",name:"productTypeNameVn",placeholder:"Nhp tn loi sn phm...",value:c.productTypeNameVn,onChange:y,required:!0,error:f.productTypeNameVn,disabled:h}),u.jsx(En,{label:"Trng thi",name:"status",value:c.status,onChange:y,options:sd,placeholder:"Chn trng thi...",required:!0,error:f.status,disabled:h})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"2. M t loi sn phm"}),u.jsx(nd,{label:"",name:"descriptionVn",value:c.descriptionVn,onChange:y,placeholder:"Nhp m t chi tit v loi sn phm...",height:"200px",error:f.descriptionVn,disabled:h})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"3. Hnh nh loi sn phm"}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[u.jsx(Or,{ref:g,label:"Hnh nh loi sn phm",name:"productTypeImage",onChange:x,required:!0,maxSize:5,error:f.productTypeImage,disabled:h,preview:!1}),c.productTypeImage&&!c.productTypeImageFile&&!c.replaceProductTypeImage&&u.jsxs("div",{className:"mt-2 relative",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Hnh nh hin ti:"}),u.jsxs("div",{className:"relative inline-block group",children:[u.jsx("img",{src:c.productTypeImage,alt:"Current product type",className:"w-32 h-32 object-cover rounded border cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>A(c.productTypeImage,"Hnh nh loi sn phm")}),u.jsx("button",{type:"button",onClick:v,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Xa hnh nh",children:u.jsx(ht,{className:"h-4 w-4"})})]})]}),c.productTypeImageFile&&u.jsxs("div",{className:"mt-2 relative",children:[u.jsx("p",{className:"text-xs text-green-700 font-semibold mb-1",children:"Hnh nh mi:"}),u.jsxs("div",{className:"relative inline-block group",children:[u.jsx("img",{src:URL.createObjectURL(c.productTypeImageFile),alt:"New product type",className:"w-32 h-32 object-cover rounded border-2 border-green-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>A(URL.createObjectURL(c.productTypeImageFile),c.productTypeImageFile.name)}),u.jsx("button",{type:"button",onClick:v,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Xa hnh nh",children:u.jsx(ht,{className:"h-4 w-4"})}),u.jsx("span",{className:"absolute bottom-1 left-1 bg-green-600 text-white text-[10px] px-1 rounded",children:"Mi"})]})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"medium",onClick:N,disabled:h,className:"flex-1",children:"Khi phc"}),u.jsx(Qe,{variant:"primary",size:"medium",type:"submit",disabled:h,className:"flex-1",children:h?u.jsx(pt,{type:"inline",text:"ang cp nht..."}):"Cp nht loi sn phm"})]})})]})})]}),n.isOpen&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:E,children:u.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] bg-white rounded-lg overflow-hidden shadow-xl",onClick:_=>_.stopPropagation(),children:[u.jsxs("div",{className:"px-5 py-3 bg-gray-50 flex items-center justify-between border-b border-gray-200",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:n.imageName}),u.jsx("button",{onClick:E,className:"w-8 h-8 rounded-lg hover:bg-gray-200 text-gray-600 transition-colors flex items-center justify-center",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4 flex items-center justify-center bg-gray-100",children:u.jsx("img",{src:n.imageUrl,alt:n.imageName,className:"max-w-full max-h-[82vh] object-contain"})})]})})]})},FW=Ge("/admin/product-types/edit/$productTypeId")({component:UW}),Mk={categoryNameVn:"",descriptionVn:"",status:"active",categoryImage:"",replaceCategoryImage:!1},qW=t=>{console.log("useCategoryEdit called with categoryId:",t);const e=zt(),[n,r]=C.useState(Mk),[s,o]=C.useState(Mk),[l,c]=C.useState({}),[f,h]=C.useState(!1),m=C.useRef(null),{data:g,isFetching:y}=HT(t,{skip:!t}),[x]=p6();C.useEffect(()=>{if(g?.data){const _=g.data,T={categoryNameVn:_.category_name_vn||"",descriptionVn:_.description_vn||"",status:_.status||"active",categoryImage:_.image_url||"",replaceCategoryImage:!1};r(T),o(T)}},[g]);const v=C.useCallback(_=>{const T=_.target,O=T.name;let M=T.value;O&&(typeof M!="string"&&(Array.isArray(M)?M=M.join(","):M=M!=null?String(M):""),r(R=>({...R,[O]:M})),l[O]&&c(R=>({...R,[O]:void 0})))},[l]),w=C.useCallback(_=>{const{value:T}=_.target,O=Array.isArray(T)?T.length>0?T[0]:null:T;r(M=>({...M,categoryImageFile:O,replaceCategoryImage:!0})),l.categoryImage&&c(M=>({...M,categoryImage:void 0}))},[l.categoryImage]),N=C.useCallback(()=>{r(_=>({..._,categoryImage:"",categoryImageFile:null,replaceCategoryImage:!0})),m.current?.clearAll()},[]),j=()=>{const _={};return n.categoryNameVn.trim()||(_.categoryNameVn="Tn danh mc khng c  trng"),n.descriptionVn.trim()||(_.descriptionVn="M t khng c  trng"),n.status||(_.status="Vui lng chn trng thi"),c(_),Object.keys(_).length===0},A=async _=>{if(_.preventDefault(),!j()){vt.error("Vui lng kim tra li thng tin");return}h(!0);try{const T=new FormData;T.append("category_name_vn",n.categoryNameVn),T.append("description_vn",n.descriptionVn),T.append("status",n.status),n.replaceCategoryImage&&(n.categoryImageFile?T.append("categoryImage",n.categoryImageFile):T.append("remove_category_image","true")),await x({id:t,formData:T}).unwrap(),vt.success("Cp nht danh mc thnh cng!"),setTimeout(()=>{e({to:"/admin/categories/list"})},1e3)}catch(T){console.error("Error updating category:",T),vt.error("C li xy ra khi cp nht danh mc")}finally{h(!1)}},E=C.useCallback(()=>{r(s),c({}),m.current?.clearAll(),vt.success(" khi phc d liu gc")},[s]);return{formData:n,errors:l,isLoading:f,isFetching:y,imageUploadRef:m,handleInputChange:v,handleImageChange:w,handleRemoveImage:N,handleSubmit:A,resetForm:E}},KW=()=>{const{categoryId:t}=$s({strict:!1});console.log("Editing category ID:",t);const e=zt(),[n,r]=rt.useState({isOpen:!1,imageUrl:"",imageName:""}),{formData:s,errors:o,isLoading:l,isFetching:c,imageUploadRef:f,handleInputChange:h,handleImageChange:m,handleRemoveImage:g,handleSubmit:y,resetForm:x}=qW(t?parseInt(t):0),v=()=>{e({to:"/admin/categories/list"})},w=(j,A)=>{r({isOpen:!0,imageUrl:j,imageName:A})},N=()=>{r({isOpen:!1,imageUrl:"",imageName:""})};return c?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx(pt,{text:"ang ti thng tin danh mc..."})}):u.jsxs("div",{className:"bg-gray-50 py-4 px-6",children:[u.jsx(Dr,{}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[u.jsxs(Qe,{variant:"secondary",size:"small",onClick:v,className:"flex items-center gap-2",children:[u.jsx(Lu,{className:"h-4 w-4"}),"Quay li"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa danh mc"}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Cp nht thng tin danh mc #",t]})]})]}),u.jsx("form",{onSubmit:y,children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"1. Thng tin c bn"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx($e,{label:"Tn danh mc",type:"text",name:"categoryNameVn",placeholder:"Nhp tn danh mc...",value:s.categoryNameVn,onChange:h,required:!0,error:o.categoryNameVn,disabled:l}),u.jsx(En,{label:"Trng thi",name:"status",value:s.status,onChange:h,options:sd,placeholder:"Chn trng thi...",required:!0,clearable:!0,error:o.status,disabled:l})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"2. M t danh mc"}),u.jsx(Jv,{label:"",name:"descriptionVn",value:s.descriptionVn,onChange:h,placeholder:"Nhp m t chi tit v danh mc...",height:"200px",required:!0,error:o.descriptionVn,disabled:l})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"3. Hnh nh danh mc"}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[u.jsx(Or,{ref:f,label:"Hnh nh danh mc",name:"categoryImage",onChange:m,required:!0,maxSize:5,error:o.categoryImage,disabled:l,preview:!1}),s.categoryImage&&!s.categoryImageFile&&!s.replaceCategoryImage&&u.jsxs("div",{className:"mt-2 relative",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Hnh nh hin ti:"}),u.jsxs("div",{className:"relative inline-block group",children:[u.jsx("img",{src:s.categoryImage,alt:"Current category",className:"w-32 h-32 object-cover rounded border cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>w(s.categoryImage,"Hnh nh danh mc")}),u.jsx("button",{type:"button",onClick:g,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Xa hnh nh",children:u.jsx(ht,{className:"h-4 w-4"})})]})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Qe,{type:"button",variant:"secondary",size:"medium",onClick:x,disabled:l,className:"flex-1",children:"Khi phc"}),u.jsx(Qe,{variant:"primary",size:"medium",type:"submit",disabled:l,className:"flex-1",children:l?u.jsx(pt,{type:"inline",text:"ang cp nht..."}):"Cp nht danh mc"})]})})]})})]}),n.isOpen&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:N,children:u.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] bg-white rounded-lg overflow-hidden shadow-xl",onClick:j=>j.stopPropagation(),children:[u.jsxs("div",{className:"px-5 py-3 bg-gray-50 flex items-center justify-between border-b border-gray-200",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900",children:n.imageName}),u.jsx("button",{onClick:N,className:"w-8 h-8 rounded-lg hover:bg-gray-200 text-gray-600 transition-colors flex items-center justify-center",children:u.jsx(ht,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4 flex items-center justify-center bg-gray-100",children:u.jsx("img",{src:n.imageUrl,alt:n.imageName,className:"max-w-full max-h-[82vh] object-contain"})})]})})]})},QW=Ge("/admin/categories/edit/$categoryId")({component:KW}),Zv=()=>{const t=C.useCallback(n=>{const r=new URL(window.location.href);Object.entries(n).forEach(([s,o])=>{o!=null&&o!==""&&o!==0?r.searchParams.set(s,String(o)):r.searchParams.delete(s)}),window.history.replaceState({},"",r.toString())},[]),e=C.useCallback(n=>{const r=new URL(window.location.href);n.forEach(s=>{r.searchParams.delete(s)}),window.history.replaceState({},"",r.toString())},[]);return{updateUrlParams:t,resetUrlParams:e}},e1=()=>{const t=Vp(),e=Bp({strict:!1}),n=y=>{if(!y)return{slug:"",id:""};const x=y.split("-"),v=x[x.length-1];return{slug:x.slice(0,-1).join("-"),id:v}},r=t.pathname.split("/").filter(Boolean),s=r[1],o=r[2],l=r[3],c=n(s),f=n(o),h=n(l),m=e,g={min_price:m.min_price?Number(m.min_price):void 0,max_price:m.max_price?Number(m.max_price):void 0,sort_by:m.sort_by,sort_order:m.sort_order,page:m.page?Number(m.page):1,limit:m.limit?Number(m.limit):10,product_name_vn:m.product_name_vn};return{category:c,subcategory:f,productType:h,hasProductType:!!l,filters:g}},GW=()=>{const{updateUrlParams:t}=Zv(),{subcategory:e,category:n,productType:r,hasProductType:s,filters:o}=e1(),[l,c]=C.useState({status:"active",category_id:0,subcategory_id:0,product_type_id:0,min_price:0,max_price:0,sort_by:"created_at",sort_order:"ASC",page:1,limit:10,product_name_vn:""}),[f,h]=C.useState({page:1,limit:10,total:0,totalPages:0}),m=(R,I)=>!(R==="status"&&I==="all"||I==null||I===""||typeof I=="number"&&I===0),g=Object.fromEntries(Object.entries(l).filter(([R,I])=>m(R,I))),{data:y,isLoading:x,error:v}=Yp(g);C.useEffect(()=>{c(R=>({...R,category_id:n.id?parseInt(n.id):R.category_id,subcategory_id:e.id?parseInt(e.id):R.subcategory_id,product_type_id:s&&r.id?parseInt(r.id):0,min_price:o.min_price||0,max_price:o.max_price||0,sort_by:o.sort_by||"created_at",sort_order:o.sort_order||"ASC",page:o.page||1,limit:o.limit||10}))},[n.id,e.id,r.id,s,o.min_price,o.max_price,o.sort_by,o.sort_order,o.page,o.limit]),C.useEffect(()=>{y?.data?.pagination&&h(y.data.pagination),v&&console.error("Error fetching products:",v)},[y,v]);const w=C.useCallback(R=>{c(I=>({...I,page:R})),setTimeout(()=>{t({page:R})},0)},[t]),N=C.useCallback(R=>{c(I=>({...I,limit:R,page:1})),setTimeout(()=>{t({limit:R,page:1})},0)},[t]),j=C.useCallback(R=>{c(I=>({...I,status:R,page:1}))},[]),A=C.useCallback((R,I)=>{c(L=>({...L,sort_by:R,sort_order:I})),setTimeout(()=>{t({sort_by:R,sort_order:I})},0)},[t]),E=C.useCallback(R=>{c(I=>({...I,product_name_vn:R,page:1}))},[]),_=C.useCallback(R=>{c(I=>({...I,product_type_id:R,page:1}))},[]),T=C.useCallback(R=>{c(I=>({...I,subcategory_id:R,page:1}))},[]),O=C.useCallback((R,I)=>{c(L=>({...L,min_price:R,max_price:I,page:1})),setTimeout(()=>{t({min_price:R,max_price:I})},0)},[t]),M=C.useCallback(R=>{c(I=>({...I,category_id:R,page:1}))},[]);return{products:y?.data?.products||[],isLoading:x,error:v,pagination:f,handlePageChange:w,handleLimitChange:N,handleStatusChange:j,handleSortChange:A,handleSearchChange:E,handleProductTypeChange:_,handleSubcategoryChange:T,handlePriceRangeChange:O,handleCategoryChange:M}},Sr=5e7,WW=({onPriceRangeChange:t,initialMinPrice:e,initialMaxPrice:n})=>{const[r,s]=C.useState(!1),[o,l]=C.useState(e||0),[c,f]=C.useState(n||Sr),h=C.useRef(null),{updateUrlParams:m}=Zv();C.useEffect(()=>{e!==void 0&&l(e),n!==void 0&&f(n)},[e,n]),C.useEffect(()=>{const v=w=>{h.current&&!h.current.contains(w.target)&&s(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=v=>new Intl.NumberFormat("vi-VN").format(v)+"",y=()=>{t(o,c),(o!==(e||0)||c!==(n||Sr))&&m({min_price:o,max_price:c}),s(!1)},x=()=>{l(0),f(Sr),t(0,Sr),m({min_price:void 0,max_price:void 0})};return u.jsxs("div",{className:"relative w-full sm:w-auto",ref:h,children:[u.jsxs("button",{type:"button",onClick:()=>s(!r),className:"inline-flex items-center justify-between px-3 py-2 w-full sm:w-56 h-10 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 text-xs sm:text-sm",children:[u.jsx("span",{className:"font-medium text-gray-700 truncate",children:o===0&&c===Sr?"Khong gi":`${g(o)} - ${g(c)}`}),r?u.jsx(rT,{className:"w-4 h-4 ml-2 shrink-0"}):u.jsx(Is,{className:"w-4 h-4 ml-2 shrink-0"})]}),r&&u.jsxs("div",{className:"absolute z-10 mt-1 w-screen sm:w-80 left-0 sm:left-auto right-0 sm:right-auto bg-white border border-gray-200 rounded-lg shadow-xl p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Hy chn mc gi ph hp vi bn"}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("input",{type:"number",value:o===0?"":o,onChange:v=>l(Number(v.target.value)||0),className:"w-32 px-3 py-2 border border-gray-300 rounded text-right text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0"}),u.jsx("span",{className:"text-gray-500 text-sm",children:"-"}),u.jsx("input",{type:"number",value:c===Sr?"":c,onChange:v=>f(Number(v.target.value)||Sr),className:"w-32 px-3 py-2 border border-gray-300 rounded text-right text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"50.000.000"})]}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative h-2",children:[u.jsx("div",{className:"absolute w-full h-2 bg-gray-200 rounded-full"}),u.jsx("div",{className:"absolute h-2 bg-blue-600 rounded-full",style:{left:`${o/Sr*100}%`,right:`${100-c/Sr*100}%`}}),u.jsx("input",{type:"range",min:"0",max:Sr,step:"100000",value:o,onChange:v=>l(Math.min(Number(v.target.value),c-1e5)),className:"absolute w-full h-2 appearance-none bg-transparent pointer-events-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-600 [&::-webkit-slider-thumb]:cursor-pointer"}),u.jsx("input",{type:"range",min:"0",max:Sr,step:"100000",value:c,onChange:v=>f(Math.max(Number(v.target.value),o+1e5)),className:"absolute w-full h-2 appearance-none bg-transparent pointer-events-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-600 [&::-webkit-slider-thumb]:cursor-pointer"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:x,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 font-medium text-sm",children:"t li"}),u.jsx("button",{type:"button",onClick:y,className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-medium text-sm",children:"p dng"})]})]})]})},YW=({products:t=[],loading:e=!1})=>e?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 gap-3 sm:gap-6",children:Array.from({length:12}).map((n,r)=>u.jsxs("div",{className:"w-full max-w-[280px] h-80 sm:h-[380px] bg-gray-100 rounded-2xl animate-pulse mx-auto",children:[u.jsx("div",{className:"w-full h-[150px] sm:h-[200px] bg-gray-200 rounded-t-2xl mb-3 sm:mb-4"}),u.jsxs("div",{className:"px-3 sm:px-4 space-y-2 sm:space-y-3",children:[u.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-3/4"}),u.jsx("div",{className:"h-2 sm:h-3 bg-gray-200 rounded w-1/2"}),u.jsx("div",{className:"h-4 sm:h-5 bg-gray-200 rounded w-2/3"}),u.jsx("div",{className:"h-8 sm:h-10 bg-gray-200 rounded"})]})]},r))}):t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[u.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Khng tm thy sn phm"}),u.jsx("p",{className:"text-gray-500 text-center",children:"Th thay i b lc hoc t kha tm kim  xem thm sn phm khc"})]}):u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 gap-3 sm:gap-6",children:t.map(n=>u.jsx(NR,{product:n},n.product_id))}),XW=({subcategories:t,onProductTypeChange:e})=>{const{category:n,subcategory:r,productType:s,hasProductType:o}=e1(),[l,c]=C.useState(null);C.useEffect(()=>{o&&s.id?c(parseInt(s.id)):c(null)},[s.id,o]);const f=()=>{const m=new URL(window.location.href),g={};return m.searchParams.forEach((y,x)=>{g[x]=y}),g},h=m=>{const g=l===m?null:m;c(g),e(g||0);const y=f();if(g){const x=t.product_types.find(v=>v.product_type_id===g);if(x){const v=x.product_type_name_vn.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-"),w=gj(n.slug,parseInt(n.id),r.slug,parseInt(r.id),v,g),N=new URL(w,window.location.origin);Object.entries(y).forEach(([j,A])=>{N.searchParams.set(j,A)}),window.history.replaceState({},"",N.toString())}}else{const x=gj(n.slug,parseInt(n.id),r.slug,parseInt(r.id)),v=new URL(x,window.location.origin);Object.entries(y).forEach(([w,N])=>{v.searchParams.set(w,N)}),window.history.replaceState({},"",v.toString())}};return u.jsx("div",{className:"w-full",children:u.jsx("div",{role:"radiogroup","aria-label":"Product types",className:"flex flex-row flex-wrap items-center gap-2",children:t.product_types.map(m=>{const g=m.product_type_id,y=l===g;return u.jsx("button",{type:"button",role:"radio","aria-checked":y,onClick:()=>h(g),className:`inline-flex items-center justify-center px-3 sm:px-4 py-2 min-w-[80px] sm:min-w-[100px] h-9 sm:h-10 rounded-lg transition-all text-xs sm:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-1 ${y?"bg-blue-600 text-white ring-blue-500 shadow-md":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:m.product_type_name_vn},g)})})})},ox=[{value:"product_name_vn_ASC",label:"Tn A-Z",sortBy:"product_name_vn",sortOrder:"ASC"},{value:"product_name_vn_DESC",label:"Tn Z-A",sortBy:"product_name_vn",sortOrder:"DESC"},{value:"price_ASC",label:"Gi thp n cao",sortBy:"price",sortOrder:"ASC"},{value:"price_DESC",label:"Gi cao n thp",sortBy:"price",sortOrder:"DESC"},{value:"created_at_DESC",label:"Mi nht",sortBy:"created_at",sortOrder:"DESC"},{value:"created_at_ASC",label:"C nht",sortBy:"created_at",sortOrder:"ASC"}],JW=({onSortChange:t,initialSortBy:e,initialSortOrder:n})=>{const{updateUrlParams:r}=Zv(),s=()=>e&&n&&ox.find(c=>c.sortBy===e&&c.sortOrder===n)?.value||"created_at_DESC",o=l=>{const c=ox.find(f=>f.value===l);if(c){t(c.sortBy,c.sortOrder);const f=s();l!==f&&r({sort_by:c.sortBy,sort_order:c.sortOrder})}};return u.jsxs(Fn,{onValueChange:o,value:s(),children:[u.jsx(Kn,{className:"w-full sm:w-44 h-10 border border-gray-300 text-xs sm:text-sm",children:u.jsx(qn,{placeholder:"Sp xp"})}),u.jsx(Qn,{children:ox.map(l=>u.jsx(fn,{value:l.value,children:l.label},l.value))})]})},CR=()=>{const{subcategory:t,filters:e}=e1(),{data:n,error:r,isLoading:s}=O_(t.id),{products:o,isLoading:l,pagination:c,handlePageChange:f,handleLimitChange:h,handleSortChange:m,handleProductTypeChange:g,handlePriceRangeChange:y}=GW();if(console.log("Subcategory Data:",n?.data),console.log("Products Data:",o),s)return u.jsx(pt,{type:"hscreen"});if(r)return u.jsx("div",{children:"Error loading subcategory data"});const x=n?.data;return u.jsx("div",{className:"min-h-screen bg-gray-50",children:u.jsxs("div",{className:"max-w-[1560px] mx-auto px-2 sm:px-4 py-2 sm:py-4",children:[u.jsx("div",{className:"mb-3 sm:mb-6 rounded-lg sm:rounded-xl overflow-hidden",children:u.jsx("img",{src:x?.image_url,alt:x?.subcategory_name_vn,className:"w-full h-[120px] sm:h-[150px] md:h-[200px] object-cover"})}),u.jsxs("div",{className:"mb-3 sm:mb-4 px-1 sm:px-0",children:[u.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:x?.subcategory_name_vn}),u.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 mt-2 flex items-center flex-wrap",children:[u.jsx("span",{className:"font-medium text-gray-700",children:x?.categoriy?.category_name_vn}),u.jsx("span",{className:"mx-1 sm:mx-2",children:""}),u.jsx("span",{className:"text-gray-600",children:x?.subcategory_name_vn})]})]}),u.jsxs("div",{className:"mb-3 sm:mb-6",children:[x&&u.jsx("div",{className:"mb-3",children:u.jsx(XW,{subcategories:x,onProductTypeChange:g})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[u.jsx(WW,{onPriceRangeChange:y,initialMinPrice:e.min_price,initialMaxPrice:e.max_price}),u.jsx(JW,{onSortChange:m,initialSortBy:e.sort_by,initialSortOrder:e.sort_order})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 sm:p-4",children:[u.jsx(YW,{products:o,loading:l}),u.jsx("div",{className:"mt-4 sm:mt-8",children:u.jsx(Dl,{pagination:c,onPageChange:f,onLimitChange:h,showInfo:!0,limitOptions:[10,20,50,100]})})]})]})})},ZW=Ge("/__public/product/$categorySlug-$categoryId/$subcategorySlug-$subcategoryId/")({component:CR}),eY=({imageUrl:t,categoryName:e,description:n})=>u.jsx("div",{className:"bg-white rounded-lg shadow-md mb-5 p-5",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("img",{className:"w-20 h-20 object-cover rounded-lg mr-4",src:t,alt:e}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e}),u.jsx("div",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:n||""}})]})]})}),tY=({statistics:t})=>u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-5",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-blue-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Danh mc con"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.total_subcategories})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:u.jsx(on,{className:"w-6 h-6 text-blue-600"})})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-green-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Loi sn phm"}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.total_product_types})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:u.jsx(zu,{className:"w-6 h-6 text-green-600"})})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 border-l-4 border-purple-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Sn phm"}),u.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.total_products})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:u.jsx(Ti,{className:"w-6 h-6 text-purple-600"})})]})})]}),nY=({product:t})=>u.jsxs("div",{className:"group bg-white border border-gray-200 rounded-lg overflow-hidden hover:border-indigo-300 hover:shadow-lg transition-all",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{className:"w-full h-36 object-cover group-hover:scale-105 transition-transform",src:t.main_image,alt:t.product_name_vn}),u.jsx("div",{className:"absolute top-2 right-2",children:t.status==="visible"?u.jsxs("span",{className:"px-2 py-1 bg-green-500 text-white text-xs rounded-full flex items-center gap-1",children:[u.jsx(fr,{className:"w-3 h-3"}),"Hin th"]}):u.jsxs("span",{className:"px-2 py-1 bg-gray-500 text-white text-xs rounded-full flex items-center gap-1",children:[u.jsx(sT,{className:"w-3 h-3"}),"n"]})})]}),u.jsxs("div",{className:"p-3",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",title:t.product_name_vn,children:t.product_name_vn}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.product_code}),u.jsxs("p",{className:"text-sm font-bold text-indigo-600 mt-1",children:[t.price.toLocaleString("vi-VN"),""]})]})]}),rY=({productType:t,isExpanded:e,onToggle:n})=>u.jsxs("div",{className:"mb-4 last:mb-0",children:[u.jsxs("div",{className:`flex items-center p-3 border-b ${t.product_count>0?"cursor-pointer hover:bg-gray-50":"bg-gray-50"}`,onClick:()=>t.product_count>0&&n(),children:[u.jsx("img",{className:"w-12 h-12 object-cover rounded-lg mr-3",src:t.image_url,alt:t.product_type_name_vn}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-base font-semibold text-gray-800",children:t.product_type_name_vn}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[u.jsx("span",{className:"font-medium",children:t.product_count})," sn phm",t.active_product_count>0&&u.jsxs("span",{className:"ml-2 text-green-600",children:[" ",t.active_product_count," ang hot ng"]})]})]}),t.product_count>0&&u.jsx(Is,{className:`w-5 h-5 text-gray-600 transition-transform ${e?"rotate-180":""}`})]}),e&&t.products.length>0&&u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3 mt-3 pl-4",children:t.products.map(r=>u.jsx(nY,{product:r},r.product_id))})]}),sY=({subcategory:t,index:e,isExpanded:n,onToggleSubcategory:r,expandedProductTypes:s,onToggleProductType:o})=>u.jsxs("div",{className:"border rounded-lg mb-3 overflow-hidden",children:[u.jsx("div",{className:"bg-gray-50 p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:r,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center flex-1",children:[u.jsx("span",{className:"w-7 h-7 bg-indigo-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:e+1}),u.jsx("img",{className:"w-14 h-14 object-cover rounded-lg mr-4",src:t.image_url,alt:t.subcategory_name_vn}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t.subcategory_name_vn}),u.jsxs("div",{className:"flex gap-3 mt-1",children:[u.jsxs("span",{className:"text-sm bg-white px-2 py-1 rounded-full text-gray-700 border",children:[t.product_type_count," loi"]}),u.jsxs("span",{className:"text-sm bg-white px-2 py-1 rounded-full text-gray-700 border",children:[t.total_product_count," sn phm"]})]})]})]}),u.jsx(Is,{className:`w-6 h-6 text-gray-600 transition-transform ${n?"rotate-180":""}`})]})}),n&&u.jsx("div",{className:"p-4 bg-white",children:t.product_types.map(l=>u.jsx(rY,{productType:l,isExpanded:s.has(l.product_type_id),onToggle:()=>o(l.product_type_id)},l.product_type_id))})]}),iY=()=>{const{id:t}=$s({from:"/admin/categories/detail/$id/$slug"}),[e,n]=C.useState(new Set),[r,s]=C.useState(new Set),{data:o,error:l,isLoading:c}=HT(Number(t)),f=o?.data;if(c)return u.jsx(pt,{});if(l)return u.jsx("div",{children:"Error loading category details."});if(!f)return u.jsx("div",{children:"No category data found."});const h=g=>{n(y=>{const x=new Set(y);return x.has(g)?x.delete(g):x.add(g),x})},m=g=>{s(y=>{const x=new Set(y);return x.has(g)?x.delete(g):x.add(g),x})};return u.jsx("div",{className:"min-h-screen bg-gray-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[u.jsx(eY,{imageUrl:f?.image_url||"",categoryName:f?.category_name_vn||"",description:f?.description_vn||""}),u.jsx(tY,{statistics:f?.statistics}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-4 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Danh sch danh mc con"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:f?.subcategories.length})]}),f?.subcategories.map((g,y)=>u.jsx(sY,{subcategory:g,index:y,isExpanded:e.has(g.subcategory_id),onToggleSubcategory:()=>h(g.subcategory_id),expandedProductTypes:r,onToggleProductType:m},g.subcategory_id))]})]})})},oY=Ge("/admin/categories/detail/$id/$slug")({component:iY}),aY=Ge("/__public/product/$categorySlug-$categoryId/$subcategorySlug-$subcategoryId/$productTypeSlug-$productTypeId")({component:CR}),lY=yP.update({id:"/403",path:"/403",getParentRoute:()=>Bu}),rn=SP.update({id:"/admin",path:"/admin",getParentRoute:()=>Bu}),Zi=D6.update({id:"/__public",getParentRoute:()=>Bu}),jR=P6.update({id:"/__auth",getParentRoute:()=>Bu}),cY=H6.update({id:"/",path:"/",getParentRoute:()=>Zi}),uY=F6.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>rn}),dY=Oz.update({id:"/favorite",path:"/favorite",getParentRoute:()=>Zi}),fY=Iz.update({id:"/contact",path:"/contact",getParentRoute:()=>Zi}),hY=Lz.update({id:"/about",path:"/about",getParentRoute:()=>Zi}),pY=$z.update({id:"/login",path:"/login",getParentRoute:()=>jR}),mY=oH.update({id:"/subcategories/list",path:"/subcategories/list",getParentRoute:()=>rn}),gY=fG.update({id:"/subcategories/create",path:"/subcategories/create",getParentRoute:()=>rn}),yY=CG.update({id:"/products/list",path:"/products/list",getParentRoute:()=>rn}),xY=AG.update({id:"/products/create",path:"/products/create",getParentRoute:()=>rn}),bY=lW.update({id:"/product-types/list",path:"/product-types/list",getParentRoute:()=>rn}),vY=pW.update({id:"/product-types/create",path:"/product-types/create",getParentRoute:()=>rn}),SY=xW.update({id:"/categories/test",path:"/categories/test",getParentRoute:()=>rn}),wY=SW.update({id:"/categories/list",path:"/categories/list",getParentRoute:()=>rn}),NY=kW.update({id:"/categories/create",path:"/categories/create",getParentRoute:()=>rn}),CY=OW.update({id:"/product/$productSlug-$productId",path:"/product/$productSlug-$productId",getParentRoute:()=>Zi}),jY=PW.update({id:"/subcategories/edit/$subcategoryId",path:"/subcategories/edit/$subcategoryId",getParentRoute:()=>rn}),kY=BW.update({id:"/products/edit/$productId",path:"/products/edit/$productId",getParentRoute:()=>rn}),TY=$W.update({id:"/products/detail/$productId",path:"/products/detail/$productId",getParentRoute:()=>rn}),EY=FW.update({id:"/product-types/edit/$productTypeId",path:"/product-types/edit/$productTypeId",getParentRoute:()=>rn}),_Y=QW.update({id:"/categories/edit/$categoryId",path:"/categories/edit/$categoryId",getParentRoute:()=>rn}),MY=ZW.update({id:"/product/$categorySlug-$categoryId/$subcategorySlug-$subcategoryId/",path:"/product/$categorySlug-$categoryId/$subcategorySlug-$subcategoryId/",getParentRoute:()=>Zi}),AY=oY.update({id:"/categories/detail/$id/$slug",path:"/categories/detail/$id/$slug",getParentRoute:()=>rn}),RY=aY.update({id:"/product/$categorySlug-$categoryId/$subcategorySlug-$subcategoryId/$productTypeSlug-$productTypeId",path:"/product/$categorySlug-$categoryId/$subcategorySlug-$subcategoryId/$productTypeSlug-$productTypeId",getParentRoute:()=>Zi}),OY={_authLoginRoute:pY},DY=jR._addFileChildren(OY),IY={_publicAboutRoute:hY,_publicContactRoute:fY,_publicFavoriteRoute:dY,_publicIndexRoute:cY,_publicProductProductSlugProductIdRoute:CY,_publicProductCategorySlugCategoryIdSubcategorySlugSubcategoryIdProductTypeSlugProductTypeIdRoute:RY,_publicProductCategorySlugCategoryIdSubcategorySlugSubcategoryIdIndexRoute:MY},PY=Zi._addFileChildren(IY),LY={AdminDashboardRoute:uY,AdminCategoriesCreateRoute:NY,AdminCategoriesListRoute:wY,AdminCategoriesTestRoute:SY,AdminProductTypesCreateRoute:vY,AdminProductTypesListRoute:bY,AdminProductsCreateRoute:xY,AdminProductsListRoute:yY,AdminSubcategoriesCreateRoute:gY,AdminSubcategoriesListRoute:mY,AdminCategoriesEditCategoryIdRoute:_Y,AdminProductTypesEditProductTypeIdRoute:EY,AdminProductsDetailProductIdRoute:TY,AdminProductsEditProductIdRoute:kY,AdminSubcategoriesEditSubcategoryIdRoute:jY,AdminCategoriesDetailIdSlugRoute:AY},zY=rn._addFileChildren(LY),BY={_authRouteRoute:DY,_publicRouteRoute:PY,AdminRouteRoute:zY,R403Route:lY},VY=Bu._addFileChildren(BY)._addFileTypes(),$Y={itemIds:[]},kR=_s({name:"carts",initialState:$Y,reducers:{addToCart:(t,e)=>{t.itemIds.includes(e.payload)||t.itemIds.push(e.payload)},removeFromCart:(t,e)=>{t.itemIds=t.itemIds.filter(n=>n!==e.payload)},clearCart:t=>{t.itemIds=[]}}}),{addToCart:JY,removeFromCart:ZY,clearCart:eX}=kR.actions,HY=kR.reducer,UY=nL({reducer:{[Xa.reducerPath]:Xa.reducer,authInfo:f6,cart:HY,favoriteProducts:N6,[ah.reducerPath]:ah.reducer,[gh.reducerPath]:gh.reducer,[wh.reducerPath]:wh.reducer,[lh.reducerPath]:lh.reducer},middleware:t=>t().concat(Xa.middleware,ah.middleware,gh.middleware,wh.middleware,lh.middleware)}),FY=()=>{const t=Pu();C.useEffect(()=>{const e=localStorage.getItem("accessToken"),n=localStorage.getItem("userInfo");if(e&&n)try{const r=JSON.parse(n);t(Lh({userInfo:r,accessToken:e}))}catch(r){console.error("Failed to parse user info from localStorage",r),localStorage.removeItem("accessToken"),localStorage.removeItem("userInfo")}},[t])},qY=()=>{const t=Pu();C.useEffect(()=>{const e=n=>{n.data.type==="AUTH_UPDATE"&&n.data.payload?t(Lh(n.data.payload)):n.data.type==="AUTH_LOGOUT"&&t(Lh({userInfo:null,accessToken:null}))};return Wa.addEventListener("message",e),()=>{Wa.removeEventListener("message",e)}},[t])},KY=H5({routeTree:VY}),QY=({children:t})=>(FY(),qY(),u.jsx(u.Fragment,{children:t}));nD.createRoot(document.getElementById("root")).render(u.jsx(rt.StrictMode,{children:u.jsx(aI,{store:UY,children:u.jsx(QY,{children:u.jsx(q5,{router:KY})})})}));
